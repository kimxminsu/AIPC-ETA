var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};$jscomp.initSymbol();$jscomp.initSymbolIterator();b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var e=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;var j=0;while(!(h=b.next()).done){e.push(c.call(g,h.value,j++))}}else {var i=b.length;for(var d=0;d<i;d++){e.push(c.call(g,b[d],d))}}return e};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,g){var c=this;if(c instanceof String){c=String(c)}var f=c.length;var b=g||0;if(b<0){b=Math.max(b+f,0)}for(;b<f;b++){var e=c[b];if(e===d||Object.is(e,d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es8','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a+'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var a=0;a<this.onSettledCallbacks_.length;++a){d.asyncExecute(this.onSettledCallbacks_[a])}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(callback)}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.polyfill('Promise.prototype.finally',function(a){if(a){return a}var b=function(b){return this.then(function(d){var c=Promise.resolve(b());return c.then(function(){return d})},function(d){var c=Promise.resolve(b());return c.then(function(){throw d})})};return b},'es9','es3');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(a instanceof Object){return}throw new TypeError('Iterator result '+a+' is not an object')};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=undefined;this.nextAddress=1;this.catchAddress_=0;this.finallyAddress_=0;this.abruptCompletion_=null;this.finallyContexts_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_){throw new TypeError('Generator is already running')}this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype['return']=function(a){this.abruptCompletion_={'return':a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,a){this.nextAddress=a;return {value:b}};$jscomp.generator.Context.prototype.yieldAll=function(d,b){var c=$jscomp.makeIterator(d);var a=c.next();$jscomp.generator.ensureIteratorResultIsObject_(a);if(a.done){this.yieldResult=a.value;this.nextAddress=b;return}this.yieldAllIterator_=c;return this.yield(a.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,a){this.catchAddress_=b;if(a!=undefined){this.finallyAddress_=a}};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,a){this.nextAddress=b;this.catchAddress_=a||0};$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;var b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,b,a){if(!a){this.finallyContexts_=[this.abruptCompletion_]}else {this.finallyContexts_[a]=this.abruptCompletion_}this.catchAddress_=c||0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,c){var b=this.finallyContexts_.splice(c||0)[0];var a=this.abruptCompletion_=this.abruptCompletion_||b;if(a){if(a.isException){return this.jumpToErrorHandler_()}if(a.jumpTo!=undefined&&this.finallyAddress_<a.jumpTo){this.nextAddress=a.jumpTo;this.abruptCompletion_=null}else {this.nextAddress=this.finallyAddress_}}else {this.nextAddress=d}};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a){this.properties_.push(b)}this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){while(this.properties_.length>0){var a=this.properties_.pop();if(a in this.object_){return a}}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context();this.program_=a};$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_)}this.context_.next_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a){var c='return' in a?a['return']:function(a){return {value:a,done:!0}};return this.yieldAllStep_(c,b,this.context_['return'])}this.context_['return'](b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],a,this.context_.next_)}this.context_.throw_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,e,c){try{var a=d.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(a);if(!a.done){this.context_.stop_();return a}var b=a.value}catch(f){this.context_.yieldAllIterator_=null;this.context_.throw_(f);return this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.nextStep_=function(){while(this.context_.nextAddress){try{var b=this.program_(this.context_);if(b){this.context_.stop_();return {value:b.value,done:!1}}}catch(c){this.context_.yieldResult=undefined;this.context_.throw_(c)}}this.context_.stop_();if(this.context_.abruptCompletion_){var a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException){throw a.exception}return {value:a['return'],done:!0}}return {value:undefined,done:!0}};$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this['throw']=function(b){return a.throw_(b)};this['return']=function(b){return a.return_(b)};$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(b,c){var a=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));if($jscomp.setPrototypeOf){$jscomp.setPrototypeOf(a,b.prototype)}return a};$jscomp.asyncExecutePromiseGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={};var b=Object.create(new $jscomp.global['Proxy'](a,{'get':function(d,e,c){return d==a&&e=='q'&&c==b}}));return b['q']===!0}catch(c){return !1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE){return c}}else {if(isConformant()){return c}}var a='$jscomp_hidden_'+Math.random();function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(i){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(d,e){d=d===0?0:d;var a=c(this,d);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:d,value:e};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=e}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};$jscomp.initSymbol();$jscomp.initSymbolIterator();a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=h(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var g=0;var h=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++g;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(d,e,h){d=Number(d);e=Number(e);var b,g,f;var c=Math.max(Math.abs(d),Math.abs(e));for(b=2;b<arguments.length;b++){c=Math.max(c,Math.abs(arguments[b]))}if(c>1.0E100||c<1.0E-100){if(!c){return c}d=d/c;e=e/c;f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/c;f+=g*g}return Math.sqrt(f)*c}else {f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Number.parseFloat',function(a){return a||parseFloat},'es6','es3');$jscomp.polyfill('Number.parseInt',function(a){return a||parseInt},'es6','es3');$jscomp.assign=typeof Object.assign=='function'?Object.assign:function(d,e){for(var c=1;c<arguments.length;c++){var a=arguments[c];if(!a){continue}for(var b in a){if($jscomp.owns(a,b)){d[b]=a[b]}}}return d};$jscomp.polyfill('Object.assign',function(a){return a||$jscomp.assign},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){a=a===0?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;$jscomp.initSymbol();$jscomp.initSymbolIterator();a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(a){function isConformant(){if(!a||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var b=new a([c]);if(!b.has(c)||b.has(d)){return !1}b['delete'](c);b.add(d);return !b.has(c)&&b.has(d)}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE){return a}}else {if(isConformant()){return a}}var b=function(b){this.map_=new WeakMap();if(b){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(b);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};b.prototype.add=function(b){this.map_.set(b,!0);return this};b.prototype.has=function(b){return this.map_.has(b)};b.prototype['delete']=function(b){return this.map_['delete'](b)};return b},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}(function webpackUniversalModuleDefinition(b,a){if(typeof exports==='object'&&typeof module==='object'){module.exports=a()}else {if(typeof define==='function'&&define.amd){define([],a)}else {if(typeof exports==='object'){exports['TGL']=a()}else {b['TGL']=a()}}}})(window,function(){return function(b){var a={};function __webpack_require__(c){if(a[c]){return a[c].exports}var d=a[c]={i:c,l:!1,exports:{}};b[c].call(d.exports,d,d.exports,__webpack_require__);d.l=!0;return d.exports}__webpack_require__.m=b;__webpack_require__.c=a;__webpack_require__.d=function(a,c,d){if(!__webpack_require__.o(a,c)){Object.defineProperty(a,c,{enumerable:!0,get:d})}};__webpack_require__.r=function(a){$jscomp.initSymbol();$jscomp.initSymbol();if(typeof Symbol!=='undefined'&&Symbol.toStringTag){$jscomp.initSymbol();Object.defineProperty(a,Symbol.toStringTag,{value:'Module'})}Object.defineProperty(a,'__esModule',{value:!0})};__webpack_require__.t=function(a,c){if(c&1){a=__webpack_require__(a)}if(c&8){return a}if(c&4&&typeof a==='object'&&a&&a.__esModule){return a}var d=Object.create(null);__webpack_require__.r(d);Object.defineProperty(d,'default',{enumerable:!0,value:a});if(c&2&&typeof a!='string'){for(var e in a){__webpack_require__.d(d,e,function(d){return a[d]}.bind(null,e))}}return d};__webpack_require__.n=function(a){var c=a&&a.__esModule?function getDefault(){return a['default']}:function getModuleExports(){return a};__webpack_require__.d(c,'a',c);return c};__webpack_require__.o=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)};__webpack_require__.p='';return __webpack_require__(__webpack_require__.s='./src/index.ts')}({'./src/common/baseDrawComponent.ts':function(g,e,c){Object.defineProperty(e,'__esModule',{value:!0});e.BaseDrawComponent=void 0;var d=c('./src/common/drawableGroup.ts');var b=c('./src/common/eventableProps.ts');var f=c('./src/common/function.ts');var a=function(a){var h;var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,m,n,o,p,q,r,s,t,u,v,i,j,k,l;h=d.DrawableGroup.call(this,a)||this;h.selected=!1;h.surface=(w=a.surface)!==null&&w!==void 0?w:undefined;h.surfaceId=(x=a.surfaceId)!==null&&x!==void 0?x:f.generateUUID();h.canvas=(y=a.canvas)!==null&&y!==void 0?y:undefined;h.canvasId=(z=a.canvasId)!==null&&z!==void 0?z:f.generateUUID();h.click=new b.ClickEvent({func:(B=(A=a.click)===null||A===void 0?void 0:A.func)!==null&&B!==void 0?B:function(){},funcRight:(D=(C=a.click)===null||C===void 0?void 0:C.funcRight)!==null&&D!==void 0?D:function(){},color:(F=(E=a.click)===null||E===void 0?void 0:E.color)!==null&&F!==void 0?F:{over:'#FFFE00'},isEnabled:(H=(G=a.click)===null||G===void 0?void 0:G.isEnabled)!==null&&H!==void 0?H:!1,isLimit:(J=(I=a.click)===null||I===void 0?void 0:I.isLimit)!==null&&J!==void 0?J:!1});h.select=new b.SelectEvent({func:(L=(K=a.select)===null||K===void 0?void 0:K.func)!==null&&L!==void 0?L:function(){},color:(N=(M=a.select)===null||M===void 0?void 0:M.color)!==null&&N!==void 0?N:{over:'rgba(255, 0, 0, 0.3)',selected:'rgba(255, 0, 0, 0.3)'},width:(P=(O=a.select)===null||O===void 0?void 0:O.width)!==null&&P!==void 0?P:4,isEnabled:(R=(Q=a.select)===null||Q===void 0?void 0:Q.isEnabled)!==null&&R!==void 0?R:!1,isLimit:(T=(S=a.click)===null||S===void 0?void 0:S.isLimit)!==null&&T!==void 0?T:!1,type:(n=(m=a.select)===null||m===void 0?void 0:m.type)!==null&&n!==void 0?n:{circle:!1}});h.beforeDraw=new b.BeforeDrawEvent({func:(p=(o=a.beforeDraw)===null||o===void 0?void 0:o.func)!==null&&p!==void 0?p:function(){},isEnabled:(r=(q=a.beforeDraw)===null||q===void 0?void 0:q.isEnabled)!==null&&r!==void 0?r:!1});h.mouseover=new b.MouseOverEvent({func:(t=(s=a.mouseover)===null||s===void 0?void 0:s.func)!==null&&t!==void 0?t:function(){},color:(v=(u=a.mouseover)===null||u===void 0?void 0:u.color)!==null&&v!==void 0?v:{over:'#FFFE00'},isEnabled:(j=(i=a.mouseover)===null||i===void 0?void 0:i.isEnabled)!==null&&j!==void 0?j:!1,isLimit:(l=(k=a.mouseover)===null||k===void 0?void 0:k.isLimit)!==null&&l!==void 0?l:!1});if(a.afterCreate){a.afterCreate()}return h};$jscomp.inherits(a,d.DrawableGroup);a.prototype.clickProcess=function(a){};a.prototype.selectProcess=function(){if(this.select.isEnabled){this.select.func(this)}};a.prototype.selectAllComponent=function(b){var a;if(this.select.isEnabled){a=this.select.func(b)}return a};a.prototype.beforeDrawProcess=function(){var a=this;if(this.beforeDraw.isEnabled){if(this.beforeDraw.func){this.beforeDraw.func(this)}if(this.beforeDraw.funcs&&this.beforeDraw.funcs.length){this.beforeDraw.funcs.forEach(function(b){return b(a)})}}};a.prototype.mouseoverProcess=function(a){if(this.mouseover.isEnabled){this.mouseover.func(this)}};a.prototype.checkSelectedWithoutStroke=function(){this.selected=!0};a.prototype.checkSelected=function(){if(this.selected){return}this.checkSelectedWithoutStroke();if(this.select.type.circle&&this.addSelectCircle){this.addSelectCircle()}else {this.unselectStroke=Object.assign({},this.stroke);if(this.select.color.selected!==''&&this.select.color.selected!=='#FFFFFF'&&this.select.width!==0){this.stroke={color:this.select.color.selected,width:this.select.width}}}if(this.parent){this.parent.draw()}else {this.draw()}};a.prototype.removeSelected=function(){if(!this.selected){return}if(this.select.type.circle&&this.addSelectCircle){for(var a=0;a<this.children.length;a++){if(this.children[a].id==='selectedCircle'){this.children.splice(a,1)}}}else {this.stroke=Object.assign({},this.unselectStroke)}this.selected=!1;if(this.parent){this.parent.draw()}else {this.draw()}};a.prototype.draw=function(a){a=a===undefined?!1:a;if(this.beforeDraw.isEnabled){this.beforeDrawProcess()}d.DrawableGroup.prototype.draw.call(this,a)};e.BaseDrawComponent=a},'./src/common/drawable.ts':function(f,c,d){Object.defineProperty(c,'__esModule',{value:!0});c.Drawable=void 0;var e=d('./src/common/function.ts');var b=function(a,b){return {p1:a,p2:b}};var a=function(a){var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,b,g,h,i,j,k,l,m,n,o;this.position={};this.offset={};this.areaPointAndLines={points:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],lines:[]};this.selectedPointAndLines={points:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],lines:[]};this.size={};this.children=[];this.fill={};this.stroke={};this.setLinesAreaAndSelected();this.dpr=(p=window.devicePixelRatio)!==null&&p!==void 0?p:1;this.isVisible=!0;this._zoom=(q=a._zoom)!==null&&q!==void 0?q:1;this.isContainerType=(r=a.isContainerType)!==null&&r!==void 0?r:!1;this.data=a.data;this.position=(s=a.position)!==null&&s!==void 0?s:{x:(u=(t=a.position)===null||t===void 0?void 0:t.x)!==null&&u!==void 0?u:0,y:(w=(v=a.position)===null||v===void 0?void 0:v.y)!==null&&w!==void 0?w:0};this.originalPosition={x:(y=(x=a.position)===null||x===void 0?void 0:x.x)!==null&&y!==void 0?y:0,y:(A=(z=a.position)===null||z===void 0?void 0:z.y)!==null&&A!==void 0?A:0};this.size={width:(C=(B=a.size)===null||B===void 0?void 0:B.width)!==null&&C!==void 0?C:0,height:(E=(D=a.size)===null||D===void 0?void 0:D.height)!==null&&E!==void 0?E:0};this.originalSize={width:(G=(F=a.size)===null||F===void 0?void 0:F.width)!==null&&G!==void 0?G:0,height:(I=(H=a.size)===null||H===void 0?void 0:H.height)!==null&&I!==void 0?I:0};this.rotate=(J=a.rotate)!==null&&J!==void 0?J:0;this.fill={color:(L=(K=a.fill)===null||K===void 0?void 0:K.color)!==null&&L!==void 0?L:'#FFFFFF',isEnabled:(b=(M=a.fill)===null||M===void 0?void 0:M.isEnabled)!==null&&b!==void 0?b:!0};this.stroke={color:(h=(g=a.stroke)===null||g===void 0?void 0:g.color)!==null&&h!==void 0?h:'#000000',width:(j=(i=a.stroke)===null||i===void 0?void 0:i.width)!==null&&j!==void 0?j:0};this.id=(k=a.id)!==null&&k!==void 0?k:e.generateUUID();this.rotate=(l=a.rotate)!==null&&l!==void 0?l:0;this.offset={x:0,y:0};this.translatePosition={x:0,y:0};this.ctx=(o=(m=a.ctx)!==null&&m!==void 0?m:(n=this.parent)===null||n===void 0?void 0:n.ctx)!==null&&o!==void 0?o:null;this.isFitToSize=a.isFitToSize;this.isFitToFill=a.isFitToFill;this.isReflect=a.isReflect;this.parent=a.parent;if(this.isFitToSize&&this.parent){var Q=this.parent.size.width/this.size.width;var P=this.parent.size.height/this.size.height;this.multipleResize=Q<P?Q:P}else {if(this.isFitToFill&&this.parent){var O=this.parent.size.width/this.size.width;var N=this.parent.size.height/this.size.height;this.multipleResize=O>N?O:N}else {this.multipleResize=1}}this.multipleResizeTo=1};a.prototype.setLinesAreaAndSelected=function(){this.areaPointAndLines.lines=[b(this.areaPointAndLines.points[0],this.areaPointAndLines.points[1]),b(this.areaPointAndLines.points[1],this.areaPointAndLines.points[2]),b(this.areaPointAndLines.points[2],this.areaPointAndLines.points[3]),b(this.areaPointAndLines.points[3],this.areaPointAndLines.points[0])];this.selectedPointAndLines.lines=[b(this.selectedPointAndLines.points[0],this.selectedPointAndLines.points[1]),b(this.selectedPointAndLines.points[1],this.selectedPointAndLines.points[2]),b(this.selectedPointAndLines.points[2],this.selectedPointAndLines.points[3]),b(this.selectedPointAndLines.points[3],this.selectedPointAndLines.points[0])]};a.prototype.isInside=function(g,b){var h=0,a=b[b.length-1];while(h<b.length){var e=b[h++];if((e.x-a.x)*(g.y-a.y)-(e.y-a.y)*(g.x-a.x)<0){return !1}a=e}return !0};a.prototype.doLinesIntercept=function(a,b){var h=a.p2.x-a.p1.x;var i=a.p2.y-a.p1.y;var j=b.p2.x-b.p1.x;var k=b.p2.y-b.p1.y;var e=h*k-i*j;if(e!==0){var l=(j*(a.p1.y-b.p1.y)-k*(a.p1.x-b.p1.x))/e;if(l>=0&&l<=1){var g=(h*(a.p1.y-b.p1.y)-i*(a.p1.x-b.p1.x))/e;return g>=0&&g<=1}}return !1};a.prototype.isPolyOver=function(b,e){var a=this;if(e.points.some(function(g){return a.isInside(g,b.points)})){return !0}if(b.points.some(function(g){return a.isInside(g,e.points)})){return !0}return b.lines.some(function(g){return e.lines.some(function(h){return a.doLinesIntercept(g,h)})})};a.prototype.isPointInDrawArea=function(m){if(!this.currentTransform){return}if(!this.isVisible){return}try{var e=Math.atan2(this.currentTransform.b,this.currentTransform.a);if(e<0){e+=Math.PI*2}var a=this.currentTransform.e/Math.sqrt(Math.pow(this.currentTransform.a,2)+Math.pow(this.currentTransform.b,2));var b=this.currentTransform.f/Math.sqrt(Math.pow(this.currentTransform.c,2)+Math.pow(this.currentTransform.d,2));var g=m.offsetX-a;var h=m.offsetY-b;var l=Math.atan2(h,g);var i=Math.sqrt(g*g+h*h);var j=a+i*Math.cos(l-e);var k=b+i*Math.sin(l-e);if(j>a&&j<a+this.size.width&&k>b&&k<b+this.size.height){return !0}}catch(n){console.log(n);console.log(this);return !1}};a.prototype.calculateDrawAreaToPoints=function(){if(!this.currentTransform){return}var e=Math.atan2(this.currentTransform.b,this.currentTransform.a);if(e<0){e+=Math.PI*2}var a=Math.cos(e);var b=Math.sin(e);var k=this.currentTransform.e/Math.sqrt(Math.pow(this.currentTransform.a,2)+Math.pow(this.currentTransform.b,2));var l=this.currentTransform.f/Math.sqrt(Math.pow(this.currentTransform.c,2)+Math.pow(this.currentTransform.d,2));var i=k;var j=l;var h=this.size.width;var g=this.size.height;this.areaPointAndLines.points[0]={x:0*a-0*b+i,y:0*b+0*a+j};this.areaPointAndLines.points[1]={x:h*a-0*b+i,y:h*b+0*a+j};this.areaPointAndLines.points[2]={x:h*a-g*b+i,y:h*b+g*a+j};this.areaPointAndLines.points[3]={x:0*a-g*b+i,y:0*b+g*a+j}};a.prototype.isIntersect=function(a){if(!this.isVisible){return}var b=Math.min(a.x,a.x+a.width);var e=Math.min(a.y,a.y+a.height);var h=Math.max(a.x,a.x+a.width)-b;var g=Math.max(a.y,a.y+a.height)-e;if(h>0||g>0){this.selectedPointAndLines.points[0]={x:b,y:e};this.selectedPointAndLines.points[1]={x:b+h,y:e};this.selectedPointAndLines.points[2]={x:b+h,y:e+g};this.selectedPointAndLines.points[3]={x:b,y:e+g}}this.setLinesAreaAndSelected();return this.isPolyOver(this.selectedPointAndLines,this.areaPointAndLines)};a.prototype.appendChild=function(a,b){if(this.beforeAppendChild){this.beforeAppendChild(a)}a.parent=this;if(!a.ctx){a.ctx=this.ctx}a.multipleResizeTo=this.findParentFitToSize(a);if(a.multipleResizeTo===undefined){a.multipleResizeTo=1}a._zoom=this._zoom;if(b){this.children.splice(b,0,a)}else {this.children.push(a)}return a};a.prototype.removeAllChildren=function(){this.children.forEach(function(a){a.parent=undefined});this.children=[]};a.prototype.calculateOffset=function(){var a,b;if(this.parent){if(this.parent.offset){this.offset={x:((a=this.parent.offset)===null||a===void 0?void 0:a.x)+this.parent.position.x,y:((b=this.parent.offset)===null||b===void 0?void 0:b.y)+this.parent.position.y}}else {this.offset={x:this.parent.position.x,y:this.parent.position.y}}}else {this.offset={x:0,y:0}}};a.prototype.calculateTranslatePosition=function(){this.translatePosition.x=this.position.x;this.translatePosition.y=this.position.y};a.prototype.setPosition=function(a){this.position=a;this.originalPosition=Object.assign({},this.position);this.calculateOffset();this.calculateTranslatePosition()};a.prototype.setSize=function(a){this.size=a;this.originalSize=Object.assign({},this.size);this.calculateOffset();this.calculateTranslatePosition()};a.prototype.calculateZoom=function(){if(!this.isContainerType){this.position.x=this.originalPosition.x*this._zoom*this.multipleResizeTo*this.multipleResize;this.position.y=this.originalPosition.y*this._zoom*this.multipleResizeTo*this.multipleResize;this.size.width=this.originalSize.width*this._zoom*this.multipleResizeTo*this.multipleResize;this.size.height=this.originalSize.height*this._zoom*this.multipleResizeTo*this.multipleResize;this.calculateOffset();this.calculateTranslatePosition()}};a.prototype.findParentFitToSize=function(b){if(b.parent instanceof a&&(b.parent.isFitToSize===!0||b.parent.isFitToFill===!0)){return b.parent.multipleResize}if(b.parent){return b.findParentFitToSize(b.parent)}};a.prototype.draw=function(a){a=a===undefined?!1:a;if(!this.isVisible){return}this.path=new Path2D();if(!this.ctx){this.ctx=this.parent.ctx}this.ctx.save();this.calculateZoom();if(a){this.ctx.setTransform(this.currentTransform)}else {this.ctx.translate(this.translatePosition.x,this.translatePosition.y);if(this.isReflect){this.ctx.scale(-1,1)}this.ctx.rotate(this.rotate*Math.PI/180)}this.ctx.beginPath();this.drawPath();this.path.closePath();if(!a){this.currentTransform=this.ctx.getTransform()}this.drawFillAndStroke();this.children.forEach(function(b){return b.draw()});this.ctx.restore();this.calculateDrawAreaToPoints()};a.prototype.translateOnly=function(){if(!this.ctx){this.ctx=this.parent.ctx}this.ctx.save();this.calculateZoom();this.ctx.translate(this.translatePosition.x,this.translatePosition.y);this.ctx.rotate(this.rotate*Math.PI/180);this.currentTransform=this.ctx.getTransform();this.ctx.restore()};a.prototype.drawFillAndStroke=function(){if(this.fill.isEnabled){this.ctx.fillStyle=this.fill.color;this.ctx.fill(this.path)}if(this.stroke.width>0){this.ctx.lineWidth=this.stroke.width;this.ctx.strokeStyle=this.stroke.color;this.ctx.stroke(this.path)}};a.prototype.getChildById=function(e){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b.id===e){return b}}};a.prototype.getChildIncludeId=function(g){var b=[];for(var a=0;a<this.children.length;a++){var e=this.children[a];if(e.id.includes(g)){b.push(e)}}return b};a.prototype.removeChildByObject=function(b){var a=this.children.indexOf(b);if(a>-1){this.children[a].parent=undefined;this.children.splice(a,1)}};a.prototype.removeChildById=function(e){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b.id===e){this.children[a].parent=undefined;this.children.splice(a,1)}}};a.prototype.removeChildByType=function(e){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b instanceof e){this.children[a].parent=undefined;this.children.splice(a,1)}}};a.prototype.zoom=function(a){this._zoom=a;this.draw()};a.prototype.searchApplyZoom=function(a,e){var b=this;e.children.forEach(function(g){var h;g._zoom=a;if(((h=g.children)===null||h===void 0?void 0:h.length)>0){b.searchApplyZoom(a,g)}})};a.prototype.searchApplyCtx=function(a,e){var b=this;e.children.forEach(function(g){var h;g.ctx=a;if(((h=g.children)===null||h===void 0?void 0:h.length)>0){b.searchApplyCtx(a,g)}})};c.Drawable=a},'./src/common/drawableGroup.ts':function(e,c,d){Object.defineProperty(c,'__esModule',{value:!0});c.DrawableGroup=void 0;var b=d('./src/common/drawable.ts');var a=function(a){var f;var g,h,i,j,k,l;f=b.Drawable.call(this,a)||this;f.stackInfo={isEnabled:(h=(g=a.stackInfo)===null||g===void 0?void 0:g.isEnabled)!==null&&h!==void 0?h:!1,columnSize:(j=(i=a.stackInfo)===null||i===void 0?void 0:i.columnSize)!==null&&j!==void 0?j:5,clientWidth:(k=a.stackInfo)===null||k===void 0?void 0:k.clientWidth,clientHeight:(l=a.stackInfo)===null||l===void 0?void 0:l.clientHeight};f.stackState={columnNo:1,rowNo:0,sumWidthInLastRow:0,maxHeightInLastRow:0,sumHeight:0,maxWidth:0,maxHeight:0};return f};$jscomp.inherits(a,b.Drawable);a.prototype.appendChild=function(a,f){b.Drawable.prototype.appendChild.call(this,a,f);if(this.stackInfo.isEnabled){this.calculateChildDrawablePositionForStack(a)}return a};a.prototype.calculateChildDrawablePositionForStack=function(a){a.position.x+=this.stackState.sumWidthInLastRow;if((a.position.x+a.size.width)*a._zoom>this.stackInfo.clientWidth){console.log('flood width');this.stackState.rowNo++;this.stackState.columnNo=1;a.position.x=0;this.stackState.sumWidthInLastRow=a.size.width;this.stackState.sumHeight+=this.stackState.maxHeightInLastRow;this.stackState.maxHeightInLastRow=0}else {if(this.stackState.columnNo>this.stackInfo.columnSize){console.log('floow column size'+this.stackState.columnNo);this.stackState.rowNo++;this.stackState.columnNo=2;this.stackState.sumWidthInLastRow=a.size.width;a.position.x=0;this.stackState.sumHeight+=this.stackState.maxHeightInLastRow;this.stackState.maxHeightInLastRow=0}else {this.stackState.sumWidthInLastRow+=a.size.width;this.stackState.columnNo++}}a.position.y+=this.stackState.sumHeight;a.setPosition({x:a.position.x,y:a.position.y});if(this.stackState.maxWidth<this.stackState.sumWidthInLastRow){this.stackState.maxWidth=this.stackState.sumWidthInLastRow}if(this.stackState.maxHeight<a.position.y+a.size.height){this.stackState.maxHeight=a.position.y+a.size.height}if(this.stackState.maxHeightInLastRow<a.size.height){this.stackState.maxHeightInLastRow=a.size.height}};a.prototype.drawPath=function(){this.path.rect(this.stroke.width/2,this.stroke.width/2,this.size.width-this.stroke.width,this.size.height-this.stroke.width)};c.DrawableGroup=a},'./src/common/eventable.ts':function(e,c,d){Object.defineProperty(c,'__esModule',{value:!0});c.Eventable=void 0;var b=d('./src/common/eventableProps.ts');var a=function(a){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;this.click=new b.ClickEvent({func:((f=a.click)===null||f===void 0?void 0:f.func)||function(){},funcRight:((g=a.click)===null||g===void 0?void 0:g.funcRight)||function(){},color:((h=a.click)===null||h===void 0?void 0:h.color)||{over:'#FFFF00'},isEnabled:((i=a.click)===null||i===void 0?void 0:i.isEnabled)||!1,isLimit:((j=a.click)===null||j===void 0?void 0:j.isLimit)||!1});this.select=new b.SelectEvent({func:((k=a.select)===null||k===void 0?void 0:k.func)||function(){},color:((l=a.select)===null||l===void 0?void 0:l.color)||{over:'rgba(255, 0, 0, 0.3)',selected:'rgba(255, 0, 0, 0.3)'},width:((m=a.select)===null||m===void 0?void 0:m.width)===undefined?4:a.select.width,isEnabled:((n=a.select)===null||n===void 0?void 0:n.isEnabled)||!1,isLimit:((o=a.click)===null||o===void 0?void 0:o.isLimit)||!1,type:((p=a.select)===null||p===void 0?void 0:p.type)||{circle:!1}});this.beforeDraw=new b.BeforeDrawEvent({func:((q=a.beforeDraw)===null||q===void 0?void 0:q.func)||function(){},isEnabled:((r=a.beforeDraw)===null||r===void 0?void 0:r.isEnabled)||!1});this.mouseover=new b.MouseOverEvent({func:((s=a.click)===null||s===void 0?void 0:s.func)||function(){},color:((t=a.click)===null||t===void 0?void 0:t.color)||{over:'#FFFF00'},isEnabled:((u=a.click)===null||u===void 0?void 0:u.isEnabled)||!1,isLimit:((v=a.click)===null||v===void 0?void 0:v.isLimit)||!1})};a.prototype.beforeDrawProcess=function(){if(this.beforeDraw.isEnabled){this.beforeDraw.func(this)}};a.prototype.clickProcess=function(a){if(this.click.isEnabled){this.click.func(this)}};a.prototype.selectProcess=function(a){if(this.select.isEnabled){this.select.func(this)}};a.prototype.mouseoverProcess=function(a){if(this.mouseover.isEnabled){this.mouseover.func(this)}};c.Eventable=a},'./src/common/eventableProps.ts':function(g,a,f){Object.defineProperty(a,'__esModule',{value:!0});a.BeforeDrawEvent=a.MouseOverEvent=a.SelectEvent=a.ClickEvent=void 0;var b=function(b){var c;this.func=b.func||function(){};this.funcRight=b.funcRight||function(){};this.color={};this.color.over=((c=b.color)===null||c===void 0?void 0:c.over)||'FFFF00';this.alpha=0.3;this.isEnabled=b.isEnabled||!1;this.isLimit=b.isLimit||!1};a.ClickEvent=b;var d=function(d){var c;var e,h;c=b.call(this,d)||this;c.color=c.color||{};c.color.selected=((e=d.color)===null||e===void 0?void 0:e.selected)||'rgba(255, 0, 0, 0.5)';c.width=d.width===undefined?4:d.width;c.type=c.type||{};c.type.circle=((h=d.type)===null||h===void 0?void 0:h.circle)||!1;return c};$jscomp.inherits(d,b);a.SelectEvent=d;var c=function(c){return b.apply(this,arguments)||this};$jscomp.inherits(c,b);a.MouseOverEvent=c;var e=function(b){this.func=b.func;this.funcs=b.funcs||[];this.isEnabled=b.isEnabled};a.BeforeDrawEvent=e},'./src/common/function.ts':function(c,a,b){Object.defineProperty(a,'__esModule',{value:!0});a.applyMixins=a.generateUUID=void 0;function generateUUID(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(e){var d=Math.random()*16|0,f=e=='x'?d:d&3|8;return f.toString(16)})}a.generateUUID=generateUUID;function applyMixins(e,d){d.forEach(function(f){Object.getOwnPropertyNames(f.prototype).forEach(function(g){Object.defineProperty(e.prototype,g,Object.getOwnPropertyDescriptor(f.prototype,g))})})}a.applyMixins=applyMixins},'./src/common/index.ts':function(h,b,a){Object.defineProperty(b,'__esModule',{value:!0});b.Common=void 0;var e=a('./src/common/drawable.ts');var d=a('./src/common/drawableGroup.ts');var f=a('./src/common/renderer.ts');var c=a('./src/common/baseDrawComponent.ts');var g;(function(g){g.Drawable=e.Drawable;g.DrawableGroup=d.DrawableGroup;g.BaseDrawComponent=c.BaseDrawComponent;g.Renderer=f.Renderer})(g=b.Common||(b.Common={}))},'./src/common/renderer.ts':function(g,e,d){Object.defineProperty(e,'__esModule',{value:!0});e.Renderer=void 0;var c=d('./src/common/function.ts');var b=d('./src/common/baseDrawComponent.ts');var f=d('./src/common/eventable.ts');var a=function(b){var a;var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,h;a=f.Eventable.call(this,b)||this;a.children=[];a.clickedList=[];a.selectedList=[];a.selectedCheckedList=[];a.surface=b.surface;a.afterDraw=(i=b.afterDraw)!==null&&i!==void 0?i:undefined;a.rotate=(j=b.rotate)!==null&&j!==void 0?j:0;a.fill={color:(l=(k=b.fill)===null||k===void 0?void 0:k.color)!==null&&l!==void 0?l:'#FFFFFF'};a.stroke={color:(n=(m=b.stroke)===null||m===void 0?void 0:m.color)!==null&&n!==void 0?n:'#000000',width:(p=(o=b.stroke)===null||o===void 0?void 0:o.width)!==null&&p!==void 0?p:0};a.id=(q=b.id)!==null&&q!==void 0?q:c.generateUUID();a.ctx=(r=b.ctx)!==null&&r!==void 0?r:null;a.position={x:(t=(s=b.position)===null||s===void 0?void 0:s.x)!==null&&t!==void 0?t:0,y:(v=(u=b.position)===null||u===void 0?void 0:u.y)!==null&&v!==void 0?v:0};a.size={width:(x=(w=b.size)===null||w===void 0?void 0:w.width)!==null&&x!==void 0?x:0,height:(z=(y=b.size)===null||y===void 0?void 0:y.height)!==null&&z!==void 0?z:0};a.originalSize={width:(B=(A=b.size)===null||A===void 0?void 0:A.width)!==null&&B!==void 0?B:0,height:(D=(C=b.size)===null||C===void 0?void 0:C.height)!==null&&D!==void 0?D:0};a.id=(E=b.id)!==null&&E!==void 0?E:c.generateUUID();a.rotate=(F=b.rotate)!==null&&F!==void 0?F:0;a.dragInfo={dragging:!1,selected:{start:{x:0,y:0},end:{x:0,y:0}},drawArea:{x:0,y:0,width:0,height:0}};a._zoom=1;a.dpr=(h=window.devicePixelRatio)!==null&&h!==void 0?h:1;a.createAndAppendCanvas(b);a.adjustCtxScale();a.createAndAppendSelectedDiv();a.clickEventMe=a.clickEvent.bind(a);a.mouseDownEventMe=a.mouseDownEvent.bind(a);a.mouseMoveEventMe=a.mouseMoveEvent.bind(a);a.mouseUpEventMe=a.mouseUpEvent.bind(a);a.rightClickEventMe=a.rightClickEvent.bind(a);a.addEventListener();return a};$jscomp.inherits(a,f.Eventable);a.prototype.addEventListener=function(){this.surface.addEventListener('click',this.clickEventMe);this.surface.addEventListener('mousedown',this.mouseDownEventMe);this.surface.addEventListener('mousemove',this.mouseMoveEventMe);this.surface.addEventListener('mouseup',this.mouseUpEventMe);this.surface.addEventListener('contextmenu',this.rightClickEventMe)};a.prototype.removeEventListener=function(){this.surface.removeEventListener('click',this.clickEventMe);this.surface.removeEventListener('mousedown',this.mouseDownEventMe);this.surface.removeEventListener('mousemove',this.mouseMoveEventMe);this.surface.removeEventListener('mouseup',this.mouseUpEventMe);this.surface.removeEventListener('contextmenu',this.rightClickEventMe)};a.prototype.createAndAppendSelectedDiv=function(){this.selectedDiv=document.createElement('div');this.selectedDiv.id=c.generateUUID();this.selectedDiv.style.position='absolute';this.selectedDiv.style.backgroundColor='#0000ff';this.selectedDiv.style.opacity='0.3';this.selectedDiv.style.pointerEvents='none';this.surface.appendChild(this.selectedDiv)};a.prototype.adjustCtxScale=function(){this.ctx.scale(this.dpr,this.dpr)};a.prototype.resizeCanvas=function(a){a=a===undefined?1:a;this.multipleCanvasSize=a;this.surface.style.width=this.size.width*a+'px';this.surface.style.height=this.size.height*a+'px';this.canvas.width=this.size.width*a*this.dpr;this.canvas.height=this.size.height*a*this.dpr;this.canvas.style.width=this.size.width*a+'px';this.canvas.style.height=this.size.height*a+'px'};a.prototype.removeCanvas=function(){this.ctx=undefined;this.searchApplyCtx(undefined,this);this.surface.removeChild(this.canvas)};a.prototype.createAndAppendCanvas=function(b,a){a=a===undefined?1:a;this.canvas=document.createElement('canvas');this.canvas.id=b.canvasId||c.generateUUID();this.resizeCanvas(a);this.surface.appendChild(this.canvas);this.ctx=this.canvas.getContext('2d')};a.prototype.searchSelectedCheckObject=function(c){var a=this;if(!c){c=this;this.selectedCheckedList=[]}c.children.forEach(function(f){var h;if(f instanceof b.BaseDrawComponent&&f.selected){a.selectedCheckedList.push(f);f.clickProcess(undefined)}if(((h=f.children)===null||h===void 0?void 0:h.length)>0){a.selectedCheckedList=a.searchSelectedCheckObject(f)}});return this.selectedCheckedList};a.prototype.clearSelectedCheckList=function(a){var c=this;if(!a){a=this}a.children.forEach(function(f){var h;if(f instanceof b.BaseDrawComponent&&f.selected){f.removeSelected()}if(((h=f.children)===null||h===void 0?void 0:h.length)>0){c.clearSelectedCheckList(f)}})};a.prototype.searchOveredObject=function(a,f){var c=this;f.children.forEach(function(h){var i;if(h.isPointInDrawArea(a)){if(h instanceof b.BaseDrawComponent){h.mouseoverProcess(a)}if(((i=h.children)===null||i===void 0?void 0:i.length)>0){c.searchOveredObject(a,h)}}})};a.prototype.searchClickedObject=function(c,f){var a=this;f.children.forEach(function(h){var i;if(h.isPointInDrawArea(c)){if(h instanceof b.BaseDrawComponent){if(((i=h.children)===null||i===void 0?void 0:i.length)>0){a.searchClickedObject(c,h)}if(h.click.isEnabled){a.clickedList.push(h)}}}})};a.prototype.searchSelectedObject=function(c,f){var a=this;f.children.forEach(function(h){var i;if(h.isIntersect(c)){if(h instanceof b.BaseDrawComponent){if(((i=h.children)===null||i===void 0?void 0:i.length)>0){a.searchSelectedObject(c,h)}if(h.select.isEnabled){a.selectedList.push(h)}}}})};a.prototype.clickProcess=function(a){};a.prototype.clickEvent=function(a){a.preventDefault()};a.prototype.rightClickEvent=function(a){a.preventDefault()};a.prototype.displaySelectedArea=function(){var b=this.dragInfo.selected.end.x-this.dragInfo.selected.start.x;var a=this.dragInfo.selected.end.y-this.dragInfo.selected.start.y;if(b>0){this.dragInfo.drawArea.width=b;this.dragInfo.drawArea.x=this.dragInfo.selected.start.x}else {this.dragInfo.drawArea.width=Math.abs(b);this.dragInfo.drawArea.x=this.dragInfo.selected.end.x}if(a>0){this.dragInfo.drawArea.height=a;this.dragInfo.drawArea.y=this.dragInfo.selected.start.y}else {this.dragInfo.drawArea.height=Math.abs(a);this.dragInfo.drawArea.y=this.dragInfo.selected.end.y}if(this.surface.parentNode.className.indexOf('x-panel-body')>-1){this.selectedDiv.style.left=String(this.dragInfo.drawArea.x+window.scrollX)+'px';this.selectedDiv.style.top=String(this.dragInfo.drawArea.y+window.scrollY)+'px'}else {var c=this.surface.getBoundingClientRect();this.selectedDiv.style.left=String(this.dragInfo.drawArea.x+c.left+window.scrollX)+'px';this.selectedDiv.style.top=String(this.dragInfo.drawArea.y+c.top+window.scrollY)+'px'}this.selectedDiv.style.width=this.dragInfo.drawArea.width+'px';this.selectedDiv.style.height=this.dragInfo.drawArea.height+'px';this.selectedDiv.style.display=''};a.prototype.mouseDownEvent=function(a){a.preventDefault();if(a.button===0){this.dragInfo={dragging:!0,selected:{start:{x:a.offsetX,y:a.offsetY},end:{x:a.offsetX,y:a.offsetY}},drawArea:{x:a.offsetX,y:a.offsetY,width:0,height:0}}}};a.prototype.mouseMoveEvent=function(a){if(this.select.isEnabled&&this.dragInfo.dragging){if(a.target instanceof HTMLCanvasElement&&a.target.id===this.canvas.id){this.dragInfo.selected.end={x:a.offsetX,y:a.offsetY};this.displaySelectedArea()}}if(this.mouseover.isEnabled){this.searchOveredObject(a,this)}};a.prototype.checkAndProcessSelect=function(a){};a.prototype.checkAndProcessClick=function(b,a){};a.prototype.mouseUpEvent=function(a){if(this.dragInfo.dragging&&this.select.isEnabled&&Math.abs(this.dragInfo.selected.start.x-this.dragInfo.selected.end.x+this.dragInfo.selected.start.y-this.dragInfo.selected.end.y)>3){if(a.button===0){this.checkAndProcessSelect(this)}}else {this.checkAndProcessClick(a,this)}this.selectedDiv.style.display='none';this.dragInfo.dragging=!1};a.prototype.selectProcess=function(){if(this.select.isEnabled&&this.select.func){this.select.func(this)}};a.prototype.selectAllComponent=function(b){var a;if(this.select.isEnabled&&this.select.func){a=this.select.func(b)}return a};a.prototype.addDrawComponent=function(a){a.surface=a.surface||this.surface;a.ctx=a.ctx||this.ctx;this.children.push(a)};a.prototype.clearDrawComponent=function(){this.children.forEach(function(a){return a.parent=undefined});this.children=[]};a.prototype.clearDrawComponentBy=function(b){for(var a=0;a<this.children.length;a++){if(this.children[a] instanceof b){this.children.splice(a,1)}}};a.prototype.draw=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.searchApplyZoom(this._zoom,this);this.children.forEach(function(a){a.draw()});if(this.afterDraw){this.afterDraw(this)}};a.prototype.zoom=function(a){this._zoom=a;this.draw()};a.prototype.zoomAndResize=function(a){this._zoom=a;this.resizeCanvas(a);this.adjustCtxScale();this.draw()};a.prototype.searchApplyZoom=function(a,c){var b=this;c.children.forEach(function(f){var h;f._zoom=a;if(((h=f.children)===null||h===void 0?void 0:h.length)>0){b.searchApplyZoom(a,f)}})};a.prototype.searchApplyCtx=function(a,c){var b=this;c.children.forEach(function(f){var h;f.ctx=a;if(((h=f.children)===null||h===void 0?void 0:h.length)>0){b.searchApplyCtx(a,f)}})};a.prototype.unselectAll=function(){this.searchApplyUnselect(this)};a.prototype.searchApplyUnselect=function(c){var a=this;c.children.forEach(function(f){var h;if(f instanceof b.BaseDrawComponent){f.removeSelected()}if(((h=f.children)===null||h===void 0?void 0:h.length)>0){a.searchApplyUnselect(f)}})};e.Renderer=a},'./src/common/type.ts':function(g,a,f){Object.defineProperty(a,'__esModule',{value:!0});a.YardConstant=a.MarkingTypes=a.ViewDirection=a.OrderType=a.OrderDirection=void 0;var b;(function(b){b[b['Asc']=0]='Asc';b[b['Desc']=1]='Desc'})(b=a.OrderDirection||(a.OrderDirection={}));var e;(function(b){b[b['TopLeft']=0]='TopLeft';b[b['TopRight']=1]='TopRight';b[b['BottomLeft']=2]='BottomLeft';b[b['BottomRight']=3]='BottomRight'})(e=a.OrderType||(a.OrderType={}));var c;(function(b){b[b['Front']=0]='Front';b[b['Side']=1]='Side'})(c=a.ViewDirection||(a.ViewDirection={}));var d;(function(b){b[b['CIRCLE']=0]='CIRCLE';b[b['TRIANGLE']=1]='TRIANGLE';b[b['INVERT_TRIANGLE']=2]='INVERT_TRIANGLE'})(d=a.MarkingTypes||(a.MarkingTypes={}));a.YardConstant={MIN_OccupiedSlotCount:1,CNTR_SIZE_20:'2',CNTR_SIZE_30:'3',CNTR_SIZE_40:'4',CNTR_SIZE_45:'45',CNTR_SIZE_48:'48',CNTR_SIZE_L:'45',CNTR_SIZE_M:'48',CNTR_SIZE_P:'5'}},'./src/component/areaItem.ts':function(f,b,c){Object.defineProperty(b,'__esModule',{value:!0});b.AreaItem=void 0;var d=c('./src/common/baseDrawComponent.ts');var e=c('./src/path/index.ts');var a=function(e){var a;a=d.BaseDrawComponent.call(this,e)||this;a.areaName=e.areaName;a.index=e.index;a.area=e.area;a.backColorInt=e.backColorInt;a.backColorStr=e.backColorStr;a.back_color=e.back_color;a.capacity=e.capacity;a.carrierType=e.carrierType;a.deg=e.deg;a.foreColorInt=e.foreColorInt;a.foreColorStr=e.foreColorStr;a.fore_color=e.fore_color;a.icChk=e.icChk;a.maxBay=e.maxBay;a.maxRow=e.maxRow;a.maxTier=e.maxTier;a.remark=e.remark;a.sideLift=e.sideLift;a.tgs=e.tgs;a.use1=e.use1;a.use2=e.use2;a.wdChk=e.wdChk;a.workQty=e.workQty;a.workQtyBackColor=e.workQtyBackColor;a.workQtyForeColor=e.workQtyForeColor;a.key=e.key;return a};$jscomp.inherits(a,d.BaseDrawComponent);a.prototype.drawPath=function(){this.drawAreaText()};a.prototype.drawAreaText=function(){this.areaText=new e.Path.Text({text:this.areaName,font:{size:14},fill:{color:'#000000'},position:{x:0,y:0},size:{width:this.size.width,height:this.size.height}});if(this.areaText){this.appendChild(this.areaText)}};b.AreaItem=a},'./src/component/bayBlock.ts':function(k,f,d){Object.defineProperty(f,'__esModule',{value:!0});f.BayBlock=void 0;var b=d('./src/common/type.ts');var g=d('./src/common/baseDrawComponent.ts');var h=d('./src/component/slot.ts');var c=d('./src/path/index.ts');var e=d('./src/component/container.ts');var j=d('./src/component/index.ts');var i=d('./src/component/buttonClose.ts');var a=function(b){var a;var c,e,h;a=g.BaseDrawComponent.call(this,b)||this;a.id=b.id;a.layout=b.layout;a.slotProps=b.slotProps;a.blockItem=b.blockItem;a.viewType=b.viewType;a.viewDir=b.viewDir;a.blockGap=(c=b.blockGap)!==null&&c!==void 0?c:20;a.blockName=b.blockName;a.data=b.data;a.ytInfo=b.ytInfo;a.isEnabledLockToolTip=b.isEnabledLockToolTip;a.isVisibleBlockNameText=b.isVisibleBlockNameText;a.slotBeforeDraw=b.slotBeforeDraw;a.hasCloseButton=b.hasCloseButton;a.lockRects=[];a.surface.addEventListener('mousemove',a.mouseMoveEvent.bind(a));a.bayRowTierOrder=b.bayRowTierOrder;if(b.hasCloseButton){a.addCloseButton()}a.addBlock();a.select=(e=b.select)!==null&&e!==void 0?e:{isEnabled:!1,func:function(){}};a.click=(h=b.click)!==null&&h!==void 0?h:{isEnabled:!1,func:function(){}};return a};$jscomp.inherits(a,g.BaseDrawComponent);a.prototype.addBlock=function(){var a;if(this.viewDir===b.ViewDirection.Side){a=this.slotProps.size.width}else {a=this.slotProps.size.height}if(this.isVisibleBlockNameText){this.addBlockNameText()}this.addYtDirectionPath(a);this.addTierText();this.addBayRowText(a);this.addCposPath(a);this.lockNumbers=[];this.addIsLockedPath(a);this.addSlots(a)};a.prototype.addCloseButton=function(){var a=new i.ButtonClose({data:undefined,marking:undefined,position:{x:this.size.width-10,y:10},size:{width:10,height:10},slotGap:0,stackInfo:undefined,fill:{color:'rgba(255, 0, 0, 1)'},stroke:{width:1,color:'rgba(255, 255,255, 1)'},click:{isEnabled:!0,func:function(){console.log('11')}}});a.data=this.data;this.appendChild(a)};a.prototype.addSlots=function(j){var g;var i=(g=this.data.maxRow)!==null&&g!==void 0?g:this.data.maxBay;for(var e=0;e<this.data.maxTier;e++){for(var c=0;c<i;c++){var a=new h.Slot(Object.assign({},this.slotProps));a.setSize({width:j,height:a.size.height});a.data={blockName:this.blockName,bayRow:this.bayRowTierOrder.bayRow===b.OrderDirection.Asc?c+1:i-c,tier:this.bayRowTierOrder.tier===b.OrderDirection.Desc?e+1:this.data.maxTier-e};this.viewDir===b.ViewDirection.Side?a.data.row=a.data.bayRow:a.data.bay=a.data.bayRow;this.viewDir===b.ViewDirection.Side?a.id=this.id+'-'+a.data.bayRow+'-'+a.data.tier:a.id=this.id+'-'+a.data.bayRow+'-'+a.data.tier;a.click=Object.assign({},this.click);a.select=Object.assign({},this.select);a.setPosition({x:a.position.x+this.blockGap+c*(a.size.width+this.slotProps.slotGap),y:a.position.y+this.blockGap+e*(a.size.height+this.slotProps.slotGap)});a.parent=this;a.id=this.id+'-'+a.data.bayRow+'-'+a.data.tier;if(this.lockNumbers.indexOf(c+1)>=0){a.select.isEnabled=!1}else {a.select.isEnabled=!0}if(this.slotBeforeDraw){a.beforeDraw={isEnabled:!0,func:this.slotBeforeDraw}}this.appendChild(a)}}};a.prototype.getIsLocked=function(a){return this.viewDir===b.ViewDirection.Side?this.blockItem.bayList[a].isLocked:this.blockItem.rowList[a].isLocked};a.prototype.addIsLockedPath=function(b){for(var a=1;a<=(this.data.maxRow||this.data.maxBay);a++){var g=this.getIsLocked(a);if(g){this.lockNumbers.push(a);var e=new c.Path.Rect({stroke:{color:'#FF0000',width:1},fill:{color:'#FF0000'},position:{x:this.blockGap+(a-1)*(b+this.slotProps.slotGap),y:this.blockGap+this.data.maxTier*(this.slotProps.size.height+this.slotProps.slotGap)},id:'LOCKEDPATH-'+this.id,size:{width:b,height:2}});this.appendChild(e);this.lockRects.push(e);this.hasLock=!0}}};a.prototype.addCposPath=function(b){for(var a=1;a<=(this.data.maxRow||this.data.maxBay);a++){var e=!1;if(this.data.CPOs&&this.data.CPOs[a-1]===0){e=!0}if(e){var h=new c.Path.Rect({stroke:{color:'#D3D3D3',width:1},fill:{color:'#D3D3D3'},id:'CPOS-'+a,position:{x:this.blockGap+(a-1)*(b+this.slotProps.slotGap),y:this.blockGap+this.data.maxTier*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:b,height:2}});this.appendChild(h)}else {var g=new c.Path.Rect({stroke:{color:'#808080',width:1},fill:{color:'#808080'},id:'CPOS-'+a,position:{x:this.blockGap+(a-1)*(b+this.slotProps.slotGap),y:this.blockGap+this.data.maxTier*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:b,height:2}});this.appendChild(g)}}};a.prototype.addBayRowText=function(h){for(var a=1;a<=(this.data.maxRow||this.data.maxBay);a++){var e=a;if(this.bayRowTierOrder.bayRow==b.OrderDirection.Desc){e=this.data.maxRow-a+1}var g=new c.Path.Text({font:{size:10},maxWidth:0,position:{x:this.blockGap+(a-1)*(h+this.slotProps.slotGap)+h/2-7,y:this.blockGap+this.data.maxTier*(this.slotProps.size.height+this.slotProps.slotGap)+3},size:{width:6,height:6},text:this.viewDir===b.ViewDirection.Side?this.blockItem.bayList[e].name2:this.blockItem.rowList[e].name,fill:{color:'#000000'}});g.id='BAYROWTEXT-'+this.id+'-'+g.text;this.appendChild(g)}};a.prototype.addTierText=function(){for(var a=1;a<=this.data.maxTier;a++){var e=a;if(this.bayRowTierOrder.tier==b.OrderDirection.Desc){e=this.data.maxRow-a+2}var g=new c.Path.Text({font:{size:10},maxWidth:0,id:'TIERTEXT-'+this.id+'-'+e,position:{x:10,y:this.blockGap+(this.blockItem.maxTier-a)*(this.slotProps.size.height+this.slotProps.slotGap)+5},size:{width:6,height:6},text:String(e),fill:{color:'#000000'}});this.appendChild(g)}};a.prototype.addYtDirectionPath=function(g){if(this.blockItem.ytPos==='S'){var e=new c.Path.Triangle(Object.assign({},{position:{x:10,y:this.blockGap+this.blockItem.maxTier*(this.slotProps.size.height+this.slotProps.slotGap)+5},rotate:this.blockItem.ytEnter==='E'?-90:90,id:'YTDIR-'+this.blockName},this.ytInfo));this.appendChild(e)}else {if(this.blockItem.ytPos==='E'){var a=new c.Path.Triangle(Object.assign({},{position:{x:this.blockGap+(this.viewDir===b.ViewDirection.Side?this.blockItem.maxBay:this.blockItem.maxRow)*(g+this.slotProps.slotGap),y:this.blockGap+this.blockItem.maxTier*(this.slotProps.size.height+this.slotProps.slotGap)+5+this.ytInfo.size.height},rotate:this.blockItem.ytEnter==='E'?90:-90,id:'YTDIR-'+this.blockName},this.ytInfo));this.appendChild(a)}}};a.prototype.addEquipment=function(){var a=new j.Component.Equipment({stackInfo:undefined,position:{x:0,y:0},size:{width:this.originalSize.width,height:this.originalSize.height},fill:{isEnabled:!1,color:'#000000'},stroke:{width:0,color:'#000000'}});this.appendChild(a);var b=new c.Path.Equipment0({position:{x:0,y:0},size:{width:this.originalSize.width,height:this.originalSize.height},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'}});a.appendChild(b);return a};a.prototype.addBlockNameText=function(){var a,b,e;var g=new c.Path.Text({font:{size:12},maxWidth:0,position:{x:20,y:7},size:{width:6,height:6},text:this.blockName+'-'+((b=(a=this.data)===null||a===void 0?void 0:a.name)!==null&&b!==void 0?b:(e=this.data)===null||e===void 0?void 0:e.name2),fill:{color:'#000000'}});this.appendChild(g)};a.prototype.findSlotById=function(c){for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof h.Slot&&a.id===c){return a}}};a.prototype.getSlot=function(a,b,c,e){return this.findSlotById(a+'-'+b+'-'+c+'-'+e)};a.prototype.findContainerById=function(g){var c=[];for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof e.Container&&a.id===g){c.push(a)}}return c};a.prototype.findContainerByContainerNo=function(h,g){var c=[];for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof e.Container&&a.id===h&&a.containerBayItem.containerNo==g){c.push(a)}}return c};a.prototype.removeContainer=function(c){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b instanceof e.Container&&b.id===c){b.parent=undefined;this.children.splice(a,1);break}}};a.prototype.removeSelectedContainer=function(g,c){for(var a=this.children.length-1;a>=0;a--){var b=this.children[a];if(b instanceof e.Container&&b.containerBayItem.containerNo===c&&b.id===g){this.children.splice(a,1);break}}};a.prototype.setIsVisibleAllContainers=function(c){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b instanceof e.Container){b.isVisible=c}}};a.prototype.removeAllContainers=function(){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b instanceof e.Container){b.parent=undefined;this.children.splice(a,1)}}};a.prototype.mouseMoveEvent=function(c){if(!this.isEnabledLockToolTip){return}var b=!1;for(var a=0;a<this.lockRects.length;a++){var e=this.lockRects[a];if(e.isPointInDrawArea(c)){b=!0}}if(b){this.mouseoverProcess(c)}};f.BayBlock=a},'./src/component/berthItem.ts':function(f,b,c){Object.defineProperty(b,'__esModule',{value:!0});b.BerthItem=void 0;var d=c('./src/common/baseDrawComponent.ts');var e=c('./src/path/index.ts');var a=function(e){var a;a=d.BaseDrawComponent.call(this,e)||this;a.startX=e.startX;a.berthName=e.berthName;a.index=e.index;a.depth=e.depth;a.height=e.height;a.length=e.length;a.width=e.width;a.group=e.group;a.berthId=e.berthId;a.position=e.position;a.deg=e.deg;a.berthType=e.berthType;a.yardID=e.yardID;a.endBerth=e.endBerth;a.isEndBerth=e.isEndBerth;a.endBerthLeft=e.endBerthLeft;a.endBerthRight=e.endBerthRight;a.overhanging=e.overhanging;a.isOverhanging=e.isOverhanging;a.overhangingLeft=e.overhangingLeft;a.overhangingRight=e.overhangingRight;a.vesselType=e.vesselType;a.overlapping=e.overlapping;a.bondCode=e.bondCode;a.seaPos=e.seaPos;a.fore_color=e.fore_color;a.foreColorInt=e.foreColorInt;a.back_color=e.back_color;a.backColorInt=e.backColorInt;a.berthVesselTypSourceList=e.berthVesselTypSourceList;a.berthOverlappingSourceList=e.berthOverlappingSourceList;a.berthVesselTypeList=e.berthVesselTypeList;a.berthOverlappingList=e.berthOverlappingList;a.bittItemList=e.bittItemList;a.fenderItemList=e.fenderItemList;a.maxLaneNo=e.maxLaneNo;a.berthLaneItemList=e.berthLaneItemList;a.key=e.key;a.addBerthRect();a.addBerthText();return a};$jscomp.inherits(a,d.BaseDrawComponent);a.prototype.addBerthRect=function(){var a=new e.Path.Rect({size:this.size,position:{x:0,y:0},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.appendChild(a)};a.prototype.addBerthText=function(){var a=new e.Path.Text({position:{x:this.length/2+this.berthName.length*3,y:this.size.height},size:{width:1,height:1},text:this.berthName,fill:{color:'#000000'},font:{size:10}});this.appendChild(a)};b.BerthItem=a},'./src/component/berthItem4qc.ts':function(f,b,c){Object.defineProperty(b,'__esModule',{value:!0});b.BerthItem4qc=void 0;var d=c('./src/common/baseDrawComponent.ts');var e=c('./src/path/index.ts');var a=function(e){var a;a=d.BaseDrawComponent.call(this,e)||this;a.startX=e.startX;a.berthName=e.berthName;a.index=e.index;a.depth=e.depth;a.height=e.height;a.length=e.length;a.width=e.width;a.group=e.group;a.berthId=e.berthId;a.position=e.position;a.deg=e.deg;a.berthType=e.berthType;a.yardID=e.yardID;a.endBerth=e.endBerth;a.isEndBerth=e.isEndBerth;a.endBerthLeft=e.endBerthLeft;a.endBerthRight=e.endBerthRight;a.overhanging=e.overhanging;a.isOverhanging=e.isOverhanging;a.overhangingLeft=e.overhangingLeft;a.overhangingRight=e.overhangingRight;a.vesselType=e.vesselType;a.overlapping=e.overlapping;a.bondCode=e.bondCode;a.seaPos=e.seaPos;a.fore_color=e.fore_color;a.foreColorInt=e.foreColorInt;a.back_color=e.back_color;a.backColorInt=e.backColorInt;a.berthVesselTypSourceList=e.berthVesselTypSourceList;a.berthOverlappingSourceList=e.berthOverlappingSourceList;a.berthVesselTypeList=e.berthVesselTypeList;a.berthOverlappingList=e.berthOverlappingList;a.bittItemList=e.bittItemList;a.fenderItemList=e.fenderItemList;a.maxLaneNo=e.maxLaneNo;a.berthLaneItemList=e.berthLaneItemList;a.key=e.key;a.addBerthRect();a.addBerthText();return a};$jscomp.inherits(a,d.BaseDrawComponent);a.prototype.addBerthRect=function(){var a=new e.Path.Rect({size:this.size,position:{x:0,y:0},fill:{isEnabled:!0,color:'#FFFFA0'},stroke:{width:1,color:'#000000'}});this.appendChild(a)};a.prototype.addBerthText=function(){var a=new e.Path.Text({position:{x:this.size.width/2,y:4},size:{width:1,height:1},text:this.berthName,fill:{color:'#000000'},font:{size:10}});this.appendChild(a)};b.BerthItem4qc=a},'./src/component/berthVessel.ts':function(k,e,b){Object.defineProperty(e,'__esModule',{value:!0});e.BerthVessel=void 0;var d=b('./src/common/baseDrawComponent.ts');var f=b('./src/path/rect.ts');var h=b('./src/path/vesselOutline.ts');var g=b('./src/path/vesselDeckHouse.ts');var c=b('./src/path/index.ts');var i=b('./src/path/lineDash.ts');var j=b('./src/path/text.ts');var a=function(c){var a;var f,g,h;a=d.BaseDrawComponent.call(this,c)||this;a.hatchBayPositions={};a.data=c.data;a.vesselInnerPadding=(f=c.vesselInnerPadding)!==null&&f!==void 0?f:{fore:5,atf:5,top:2,bottom:2};a.bowWidth=(g=c.bowWidth)!==null&&g!==void 0?g:50;a.hatchGap=(h=c.hatchGap)!==null&&h!==void 0?h:1;a.stackInfo={isEnabled:!1};a.setPosition({x:c.data.fromPosition,y:a.position.y});if(a.data.alongSide===0){a.setPosition({x:a.originalPosition.x+a.data.vesselParticular.loa,y:a.originalPosition.y+a.data.vesselParticular.width});a.rotate=180}a.setSize({width:a.data.vesselParticular.loa,height:a.data.vesselParticular.width});var i={width:(a.data.vesselParticular.loa-a.vesselInnerPadding.atf-a.vesselInnerPadding.fore)/(a.data.vesselParticular.maxHatchNo+1)-a.hatchGap,height:a.data.vesselParticular.width-a.vesselInnerPadding.top-a.vesselInnerPadding.bottom};if(a.data.vesselParticular.width>0){a.addVesselOutLine(i);a.drawVesselHatchsAndDeckHouse(i);a.addVesselName()}a.stroke={width:0,color:'#000000'};a.fill={isEnabled:!1};return a};$jscomp.inherits(a,d.BaseDrawComponent);a.prototype.addVesselOutLine=function(c){var a=new h.VesselOutline({bowWidth:this.bowWidth,position:{x:0,y:0},size:{width:this.data.vesselParticular.loa,height:this.data.vesselParticular.width},fill:{isEnabled:!1},stroke:{color:'#000000',width:1}});this.appendChild(a)};a.prototype.is20OnlyHatch=function(a){if(a===0){return !1}try{if(this.data.vesselHatchs[a].startBay===this.data.vesselHatchs[a].endBay&&this.is20Bay(this.data.vesselHatchs[a].startBay)){return !0}}catch(l){}return !1};a.prototype.is20Bay=function(a){try{if(this.getBayNo(a)===0){return !0}if(a===0||a>this.data.vesselParticular.maxBays){return !1}return this.getBayNo(a)%2>0?!0:!1}catch(l){return !1}};a.prototype.is40OnlyHatch=function(a){if(a===0){return !1}try{if(this.data.vesselHatchs[a].startBay===this.data.vesselHatchs[a].endBay&&this.is40Bay(this.data.vesselHatchs[a].startBay)){return !0}}catch(l){}return !1};a.prototype.is40Bay=function(a){try{if(this.getBayNo(a)===0){return !0}if(a===0||a>this.data.vesselParticular.maxBays){return !1}return this.getBayNo(a)%2===0?!0:!1}catch(l){return !1}};a.prototype.drawVesselHatchsAndDeckHouse=function(l){var m,n,o,p,q;var d=1;for(var h=0;h<this.data.vesselParticular.maxHatchNo+1;h++){if(h===this.data.vesselParticular.deckHousePos){var y=new g.VesselDeckHouse({position:{x:this.vesselInnerPadding.fore+l.width*h+this.hatchGap*h,y:this.vesselInnerPadding.top},size:{width:l.width,height:l.height},fill:{isEnabled:!1,color:'#DEDEDE'},stroke:{width:1,color:'#000000'}});this.appendChild(y)}else {var a={position:{x:this.vesselInnerPadding.fore+l.width*h+this.hatchGap*h,y:this.vesselInnerPadding.top},size:{width:l.width,height:l.height},fill:{isEnabled:!1,color:'#FF00FF'},stroke:{color:'#000000',width:1}};if(h===0){a.position.y+=a.size.height/4;a.size.height=a.size.height/2}else {if(h===1){a.position.y+=a.size.height/6;a.size.height=a.size.height*2/3}}try{if(this.data.vesselHatchs[d].startBay!==this.data.vesselHatchs[d].endBay){var z=new i.LineDash({position:{x:a.position.x+a.size.width/2,y:a.position.y},size:{width:0,height:a.size.height},stroke:{width:0.5,color:'#000000'}});this.appendChild(z)}}catch(B){}var j=new f.Rect(a);j.data={};j.data.type='hatch';j.data.bayNos=[];this.appendChild(j);if((m=this.data.vesselHatchs[d])===null||m===void 0?void 0:m.startBay){if(this.data.vesselHatchs[d].startBay===this.data.vesselHatchs[d].endBay){var u=(n=this.data.vesselBays[this.data.vesselHatchs[d].startBay])===null||n===void 0?void 0:n.no;var A=new c.Path.Text({rotate:this.data.alongSide===0?180:0,position:{x:a.position.x+(this.data.alongSide===0?a.size.width/2+a.size.width/3:a.size.width/3),y:this.data.alongSide===0?this.size.height+10:-10},size:{width:a.size.width,height:a.size.height},text:u,fill:{isEnabled:!0,color:'#FF0000'},font:{size:6}});this.appendChild(A);j.data.bayNos.push(u)}else {var s=(o=this.data.vesselBays[this.data.vesselHatchs[d].startBay])===null||o===void 0?void 0:o.no;var w=new c.Path.Text({rotate:this.data.alongSide===0?180:0,position:{x:a.position.x+(this.data.alongSide===0?a.size.width/2:0),y:this.data.alongSide===0?this.size.height+5:-5},size:{width:a.size.width/2,height:10},text:s,fill:{isEnabled:!0,color:'#000000'},font:{size:6}});this.appendChild(w);j.data.bayNos.push(s);var t=(p=this.data.vesselBays[this.data.vesselHatchs[d].endBay])===null||p===void 0?void 0:p.no;var x=new c.Path.Text({rotate:this.data.alongSide===0?180:0,position:{x:a.position.x+a.size.width/2+(this.data.alongSide===0?a.size.width/2:0),y:this.data.alongSide===0?this.size.height+5:-5},size:{width:a.size.width/2,height:10},text:t,fill:{isEnabled:!0,color:'#000000'},font:{size:6}});this.appendChild(x);j.data.bayNos.push(t);var r=(q=this.data.vesselBays[this.data.vesselHatchs[d].startBay+1])===null||q===void 0?void 0:q.no;var v=new c.Path.Text({rotate:this.data.alongSide===0?180:0,position:{x:a.position.x+(this.data.alongSide===0?a.size.width/2+a.size.width/3:a.size.width/3),y:this.data.alongSide===0?this.size.height+10:-10},size:{width:a.size.width,height:a.size.height},text:r,fill:{isEnabled:!0,color:'#FF0000'},font:{size:6}});this.appendChild(v);j.data.bayNos.push(r)}d++}}}};a.prototype.addVesselName=function(){var a=new c.Path.Text({position:{x:this.data.alongSide===0?this.size.width:0,y:this.data.alongSide===0?this.size.height+20:-20},size:{width:this.size.width,height:this.size.height},font:{size:12,weight:'bold'},rotate:this.data.alongSide===0?180:0,text:this.data.vslCd+'-'+this.data.callSeq+'('+(this.data.alongSide===0?'S':'P')+')',fill:{isEnabled:!0,color:'#000000'},align:j.TextAlign.center});this.appendChild(a)};a.prototype.draw=function(a){d.BaseDrawComponent.prototype.draw.call(this,a);this.calculateHatchBayPosition()};a.prototype.getBayNo=function(c){var a=-1;try{var d=this.data.vesselBays[c].hatchIndex;var g=this.data.vesselHatchs[d].startBay;var h=this.data.vesselHatchs[d].endBay;var f=Number.isInteger(Number(this.data.vesselBays[c].no));if(f){return c}else {if(g-h!==0){a=1}else {a=2}}}catch(l){a=-1}return a};a.prototype.findAllHatchRect=function(){var a=[];this.children.forEach(function(c){var d;if(c instanceof f.Rect&&((d=c.data)===null||d===void 0?void 0:d.type)==='hatch'){a.push(c)}});return a};a.prototype.calculateHatchBayPosition=function(){var a=this;this.children.forEach(function(c){var h,i,j;if(c instanceof f.Rect&&((h=c.data)===null||h===void 0?void 0:h.type)==='hatch'){var g=c.areaPointAndLines.points[0].x<c.areaPointAndLines.points[1].x?c.areaPointAndLines.points[0].x:c.areaPointAndLines.points[1].x;var d=Math.abs(c.areaPointAndLines.points[0].x-c.areaPointAndLines.points[1].x);if(((i=c.data)===null||i===void 0?void 0:i.bayNos.length)===1){a.hatchBayPositions[c.data.bayNos[0]]={x:g,width:d}}else {if(((j=c.data)===null||j===void 0?void 0:j.bayNos.length)===3){if(a.data.alongSide===0){a.hatchBayPositions[c.data.bayNos[1]]={x:g,width:d/2};a.hatchBayPositions[c.data.bayNos[0]]={x:g+d/2,width:d/2};a.hatchBayPositions[c.data.bayNos[2]]={x:g,width:d}}else {a.hatchBayPositions[c.data.bayNos[0]]={x:g,width:d/2};a.hatchBayPositions[c.data.bayNos[1]]={x:g+d/2,width:d/2};a.hatchBayPositions[c.data.bayNos[2]]={x:g,width:d}}}}}})};e.BerthVessel=a},'./src/component/berthVessel4side.ts':function(o,e,c){Object.defineProperty(e,'__esModule',{value:!0});e.BerthVessel4side=void 0;var d=c('./src/common/baseDrawComponent.ts');var f=c('./src/path/rect.ts');var j=c('./src/path/vesselOutline4side.ts');var b=c('./src/path/index.ts');var n=c('./src/path/text.ts');var m=c('./src/path/vesselBow.ts');var l=c('./src/path/vesselPropeller.ts');var k=c('./src/path/vesselPropeller2.ts');var i=c('./src/path/vesselDeckHouse4side.ts');var g=c('./src/path/vesselDeckHouse4side2.ts');var h=c('./src/path/vesselDeckHouse4side3.ts');var a=function(b){var a;var f,g,h,i,j,k,l,m,n,p;a=d.BaseDrawComponent.call(this,b)||this;a.hatchBayPositions={};a.data=b.data;a.vesselInnerPadding=(f=b.vesselInnerPadding)!==null&&f!==void 0?f:{fore:55,atf:5,top:2,bottom:2};a.bowWidth=(g=b.bowWidth)!==null&&g!==void 0?g:50;a.hatchGap=(h=b.hatchGap)!==null&&h!==void 0?h:1;a.stackInfo={isEnabled:!1};a.bayHeight=(i=b.bayHeight)!==null&&i!==void 0?i:5;a.lcgHeight=(j=b.lcgHeight)!==null&&j!==void 0?j:50;a.bayCountByHatch=(k=b.bayCountByHatch)!==null&&k!==void 0?k:2;a.hatchBorderColor=(l=b.hatchBorderColor)!==null&&l!==void 0?l:'#000000';a.only20HatchBorderColor=(m=b.only20HatchBorderColor)!==null&&m!==void 0?m:'#00FFFF';a.only40HatchBorderColor=(n=b.only40HatchBorderColor)!==null&&n!==void 0?n:'#FF0000';a.slimCellGuideHatchBorderColor=(p=b.slimCellGuideHatchBorderColor)!==null&&p!==void 0?p:'#00FF00';if(a.data.alongSide===0){a.setPosition({x:a.originalPosition.x*2+a.data.vesselParticular.loa,y:a.position.y})}a.isReflect=a.data.alongSide===0;a.setSize({width:a.data.vesselParticular.loa,height:a.bayHeight*(a.data.vesselParticular.maxDeckTier+1)+a.lcgHeight});var q={width:(a.data.vesselParticular.loa-a.vesselInnerPadding.atf-a.vesselInnerPadding.fore-a.bowWidth)/(a.data.vesselParticular.maxHatchNo+1)-a.hatchGap,height:a.data.vesselParticular.width-a.vesselInnerPadding.top-a.vesselInnerPadding.bottom};if(a.data.vesselParticular.width>0){a.addVesselOutLine(q);a.drawVesselHatchsAndDeckHouse(q)}a.stroke={width:0,color:'#000000'};a.fill={isEnabled:!1};return a};$jscomp.inherits(a,d.BaseDrawComponent);a.prototype.addVesselOutLine=function(g){var a=new j.VesselOutline4side({bowWidth:this.bowWidth,lcgHeight:this.lcgHeight,position:{x:this.bowWidth,y:this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight},size:{width:this.data.vesselParticular.loa,height:this.size.height-(this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight*2)-3},stroke:{color:'#000000',width:1}});this.appendChild(a);var f=new m.VesselBow({bowWidth:this.bowWidth,lcgHeight:this.lcgHeight,position:{x:this.bowWidth,y:this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight},size:{width:this.bowWidth,height:this.size.height-(this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight*2)-3},stroke:{color:'#000000',width:1}});this.appendChild(f);var d=new l.VesselPropeller({position:{x:a.size.width+this.bowWidth-a.size.width/30,y:this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight+a.size.height},size:{width:a.size.width/30,height:a.size.height/3},stroke:{color:'#000000',width:1}});this.appendChild(d);var b=new k.VesselPropeller2({position:{x:a.size.width+this.bowWidth-a.size.width/30,y:this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight+a.size.height},size:{width:a.size.width/30,height:a.size.height/3},fill:{isEnabled:!0,color:'#8f8f1f'},stroke:{color:'#000000',width:0}});this.appendChild(b)};a.prototype.is20OnlyHatch=function(a){if(a===0){return !1}try{if(this.data.vesselHatchs[a].startBay===this.data.vesselHatchs[a].endBay&&this.is20Bay(this.data.vesselHatchs[a].startBay)){return !0}}catch(p){}return !1};a.prototype.is20Bay=function(a){try{if(this.getBayNo(a)===0){return !0}if(a===0||a>this.data.vesselParticular.maxBays){return !1}return this.getBayNo(a)%2>0?!0:!1}catch(p){return !1}};a.prototype.is40OnlyHatch=function(a){if(a===0){return !1}try{if(this.data.vesselHatchs[a].startBay===this.data.vesselHatchs[a].endBay&&this.is40Bay(this.data.vesselHatchs[a].startBay)){return !0}}catch(p){}return !1};a.prototype.is40Bay=function(a){try{if(this.getBayNo(a)===0){return !0}if(a===0||a>this.data.vesselParticular.maxBays){return !1}return this.getBayNo(a)%2===0?!0:!1}catch(p){return !1}};a.prototype.drawVesselHatchsAndDeckHouse=function(d){var m,n,p,q,r;var k=1;for(var j=0;j<this.data.vesselParticular.maxHatchNo+1;j++){var D=new b.Path.Text({text:this.data.vesselBays[k].DeckLCG,position:{x:this.bowWidth+this.vesselInnerPadding.fore+d.width*j+this.hatchGap*j+(this.data.alongSide===0?d.width:0),y:this.size.height-this.lcgHeight/3},font:{size:8},fill:{isEnabled:!0,color:'#000000'},size:{width:d.width,height:this.bayHeight*this.data.vesselParticular.maxDeckTier},isReflect:this.data.alongSide===0});this.appendChild(D);if(j===this.data.vesselParticular.deckHousePos){var y=new i.VesselDeckHouse4side({position:{x:this.vesselInnerPadding.fore+d.width*j+this.hatchGap*j+this.bowWidth,y:this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight},size:{width:d.width,height:d.height*1.5},fill:{isEnabled:!1},stroke:{color:'#000000',width:1}});this.appendChild(y);var w=new g.VesselDeckHouse4side2({position:{x:this.vesselInnerPadding.fore+d.width*j+this.hatchGap*j+this.bowWidth,y:this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight},size:{width:d.width,height:d.height*1.5},fill:{isEnabled:!0,color:'#FF0000'},stroke:{color:'#FF0000',width:1}});this.appendChild(w);var x=new h.VesselDeckHouse4side3({position:{x:this.vesselInnerPadding.fore+d.width*j+this.hatchGap*j+this.bowWidth,y:this.bayHeight*this.data.vesselParticular.maxDeckTier/2+this.bayHeight},size:{width:d.width,height:d.height*1.5},fill:{isEnabled:!1},stroke:{color:'#939393',width:1}});this.appendChild(x)}else {var a={position:{x:this.bowWidth+this.vesselInnerPadding.fore+d.width*j+this.hatchGap*j,y:0},size:{width:d.width,height:this.bayHeight*this.data.vesselParticular.maxDeckTier},fill:{isEnabled:!1,color:'#FF00FF'},stroke:{color:'#000000',width:0}};var l=new f.Rect(a);l.data={};l.data.type='hatch';l.data.bayNos=[];this.appendChild(l);if((m=this.data.vesselHatchs[k])===null||m===void 0?void 0:m.startBay){if(this.data.vesselHatchs[k].startBay===this.data.vesselHatchs[k].endBay){var v=(n=this.data.vesselBays[this.data.vesselHatchs[k].startBay])===null||n===void 0?void 0:n.no;var C=new b.Path.Text({position:{x:a.position.x+a.size.width/3+(this.data.alongSide===0?10:0),y:-10},size:{width:a.size.width,height:a.size.height},text:v,fill:{isEnabled:!0,color:'#FF0000'},font:{size:6},isReflect:this.data.alongSide===0});this.appendChild(C);l.data.bayNos.push(v)}else {var t=(p=this.data.vesselBays[this.data.vesselHatchs[k].startBay])===null||p===void 0?void 0:p.no;var A=new b.Path.Text({position:{x:a.position.x+5+(this.data.alongSide===0?10:0),y:-5},size:{width:a.size.width/2,height:10},text:t,fill:{isEnabled:!0,color:'#000000'},font:{size:6},isReflect:this.data.alongSide===0});this.appendChild(A);l.data.bayNos.push(t);var u=(q=this.data.vesselBays[this.data.vesselHatchs[k].endBay])===null||q===void 0?void 0:q.no;var B=new b.Path.Text({position:{x:a.position.x+a.size.width/2+(this.data.alongSide===0?10:0),y:-5},size:{width:a.size.width/2,height:10},text:u,fill:{isEnabled:!0,color:'#000000'},font:{size:6},isReflect:this.data.alongSide===0});this.appendChild(B);l.data.bayNos.push(u);var s=(r=this.data.vesselBays[this.data.vesselHatchs[k].startBay+1])===null||r===void 0?void 0:r.no;var z=new b.Path.Text({position:{x:a.position.x+a.size.width/3+(this.data.alongSide===0?10:0),y:-10},size:{width:a.size.width,height:a.size.height},text:s,fill:{isEnabled:!0,color:'#FF0000'},font:{size:6},isReflect:this.data.alongSide===0});this.appendChild(z);l.data.bayNos.push(s)}this.drawDeck(k,a,l,this.bayHeight);this.drawHold(k,a,l,this.bayHeight);k++}}}};a.prototype.isCPO=function(d,b){for(var a=this.data.vesselParticular.portRowWidth;a<=this.data.vesselParticular.starRowWidth;a++){if(this.data.vesselBays[d].slotItem.cpo[a][b]>0){return !0}}return !1};a.prototype.isVisibleBay=function(d,f){var b=this.data.vesselHatchs[d].startBay;var g=this.data.vesselHatchs[d].endBay;var h=this.getBayNo(f);var a=!0;if(f==b&&b!=g){a=!1}if(b-g==0){a=!1}if(a&&h%2==0){return !1}return !0};a.prototype.isSlimCellGuide=function(d,b){for(var a=this.data.vesselParticular.portRowWidth;a<=this.data.vesselParticular.starRowWidth;a++){return this.data.vesselBays[d].slotItem.slimCellGuide[a][b]}};a.prototype.drawDeck=function(a,h,l,f){var g=new Map();if(this.is20OnlyHatch(a)||this.is40OnlyHatch(a)){var n=this.data.vesselHatchs[a].startBay;for(var k=this.data.vesselBays[n].holdTopTierIndex;k<=this.data.vesselParticular.maxDeckTier;k++){if(this.isCPO(n,k)){var r=this.is20OnlyHatch(a)?this.only20HatchBorderColor:this.only40HatchBorderColor;var u=new b.Path.Rect({position:{x:0,y:h.size.height/2-f*(k-this.data.vesselBays[n].holdTopTierIndex)-f/2},size:{width:h.size.width,height:f},fill:{isEnabled:!1},stroke:{width:1,color:r}});l.appendChild(u)}}}else {for(var i=this.data.vesselHatchs[a].startBay;i<=this.data.vesselHatchs[a].endBay;i++){if(!this.isVisibleBay(a,i)){continue}for(var d=this.data.vesselBays[i].holdTopTierIndex;d<=this.data.vesselParticular.maxDeckTier;d++){if(this.isCPO(i,d)){var p=this.hatchBorderColor;if(this.isSlimCellGuide(a,d)){p=this.slimCellGuideHatchBorderColor}var s=new b.Path.Rect({position:{x:h.size.width/this.bayCountByHatch*(g.get(d)===undefined?0:g.get(d)),y:h.size.height/2-f*(d-this.data.vesselBays[i].holdTopTierIndex)-f/2},size:{width:h.size.width/this.bayCountByHatch,height:f},fill:{isEnabled:!1},stroke:{width:1,color:p}});l.appendChild(s);if(g.get(d)===undefined){g.set(d,1)}else {g.set(d,g.get(d)+1)}}}}if(this.data.vesselHatchs[a].startBay!==this.data.vesselHatchs[a].endBay&&this.is40Bay(this.data.vesselHatchs[a].startBay+1)){var m=this.data.vesselHatchs[a].startBay+1;for(var j=this.data.vesselBays[m].holdTopTierIndex;j<=this.data.vesselParticular.maxDeckTier;j++){if(this.isCPO(m,j)&&g.get(j)===undefined){var q=this.hatchBorderColor;var t=new b.Path.Rect({position:{x:0,y:h.size.height/2-f*(j-this.data.vesselBays[m].holdTopTierIndex)-f/2},size:{width:h.size.width,height:f},fill:{isEnabled:!1},stroke:{width:1,color:q}});l.appendChild(t)}}}g.clear()}};a.prototype.drawHold=function(a,h,l,f){var p;var g=new Map();if(this.is20OnlyHatch(a)||this.is40OnlyHatch(a)){var n=this.data.vesselHatchs[a].startBay;for(var k=this.data.vesselBays[n].holdTopTierIndex-1;k>=this.data.vesselParticular.maxHoldTier;k--){if(this.isCPO(n,k)){var s=this.is20OnlyHatch(a)?this.only20HatchBorderColor:this.only40HatchBorderColor;var v=new b.Path.Rect({position:{x:0,y:h.size.height/2+f*(this.data.vesselBays[n].holdTopTierIndex-k)+f/2},size:{width:h.size.width,height:f},fill:{isEnabled:!1},stroke:{width:1,color:s}});l.appendChild(v)}}}else {for(var i=this.data.vesselHatchs[a].startBay;i<=this.data.vesselHatchs[a].endBay;i++){if(!this.isVisibleBay(a,i)){continue}if((p=this.data.vesselBays[i])===null||p===void 0?void 0:p.HoldTopTierIndex){for(var d=this.data.vesselBays[i].holdTopTierIndex-1;d>=this.data.vesselParticular.maxHoldTier;d--){if(this.isCPO(i,d)){var q=this.hatchBorderColor;if(this.isSlimCellGuide(a,d)){q=this.slimCellGuideHatchBorderColor}var t=new b.Path.Rect({position:{x:h.size.width/this.bayCountByHatch*(g.get(d)===undefined?0:g.get(d)),y:h.size.height/2+f*(this.data.vesselBays[i].holdTopTierIndex-d)+f/2},size:{width:h.size.width/this.bayCountByHatch,height:f},fill:{isEnabled:!1},stroke:{width:1,color:q}});l.appendChild(t);if(g.get(d)===undefined){g.set(d,1)}else {g.set(d,g.get(d)+1)}}}}}if(this.data.vesselHatchs[a].startBay!==this.data.vesselHatchs[a].endBay&&this.is40Bay(this.data.vesselHatchs[a].startBay+1)){var m=this.data.vesselHatchs[a].startBay+1;for(var j=this.data.vesselBays[m].holdTopTierIndex-1;j>=this.data.vesselParticular.maxHoldTier;j--){var r='#0000FF';if(this.isCPO(m,j)&&g.get(j)===undefined){var u=new b.Path.Rect({position:{x:0,y:h.size.height/2+f*(this.data.vesselBays[m].holdTopTierIndex-j)+f/2},size:{width:h.size.width,height:f},fill:{isEnabled:!1},stroke:{width:1,color:r}});l.appendChild(u)}}}g.clear()}};a.prototype.addVesselName=function(){var a=new b.Path.Text({position:{x:0,y:-30},size:{width:this.size.width,height:this.size.height},font:{size:12,weight:'bold'},rotate:0,text:this.data.vslCd+'-'+this.data.callSeq,fill:{isEnabled:!0,color:'#000000'},align:n.TextAlign.center});this.appendChild(a)};a.prototype.draw=function(a){d.BaseDrawComponent.prototype.draw.call(this,a);this.calculateHatchBayPosition()};a.prototype.getBayNo=function(b){var a=-1;try{var d=this.data.vesselBays[b].hatchIndex;var g=this.data.vesselHatchs[d].startBay;var h=this.data.vesselHatchs[d].endBay;var f=Number.isInteger(Number(this.data.vesselBays[b].no));if(f){return Number(this.data.vesselBays[b].no)}else {if(g-h!==0){a=1}else {a=2}}}catch(p){a=-1}return a};a.prototype.findAllHatchRect=function(){var a=[];this.children.forEach(function(b){var d;if(b instanceof f.Rect&&((d=b.data)===null||d===void 0?void 0:d.type)==='hatch'){a.push(b)}});return a};a.prototype.calculateHatchBayPosition=function(){var a=this;this.children.forEach(function(b){var h,i,j;if(b instanceof f.Rect&&((h=b.data)===null||h===void 0?void 0:h.type)==='hatch'){var g=b.areaPointAndLines.points[0].x<b.areaPointAndLines.points[1].x?b.areaPointAndLines.points[0].x:b.areaPointAndLines.points[1].x;var d=Math.abs(b.areaPointAndLines.points[0].x-b.areaPointAndLines.points[1].x);if(((i=b.data)===null||i===void 0?void 0:i.bayNos.length)===1){a.hatchBayPositions[b.data.bayNos[0]]={x:g,width:d}}else {if(((j=b.data)===null||j===void 0?void 0:j.bayNos.length)===3){if(a.data.alongSide===0){a.hatchBayPositions[b.data.bayNos[1]]={x:g,width:d/2};a.hatchBayPositions[b.data.bayNos[0]]={x:g+d/2,width:d/2};a.hatchBayPositions[b.data.bayNos[2]]={x:g,width:d}}else {a.hatchBayPositions[b.data.bayNos[0]]={x:g,width:d/2};a.hatchBayPositions[b.data.bayNos[1]]={x:g+d/2,width:d/2};a.hatchBayPositions[b.data.bayNos[2]]={x:g,width:d}}}}}})};e.BerthVessel4side=a},'./src/component/bitItem.ts':function(f,b,c){Object.defineProperty(b,'__esModule',{value:!0});b.BitItem=void 0;var d=c('./src/common/baseDrawComponent.ts');var e=c('./src/path/index.ts');var a=function(e){var a;a=d.BaseDrawComponent.call(this,e)||this;a.eX=e.eX;a.pX=e.pX;a.bitName=e.bitName;a.berth=e.berth;a.index=e.index;a.position=e.position;a.bitPosition=e.bitPosition;a.yardID=e.yardID;a.foreColor=e.foreColor;a.ForeColorInt=e.ForeColorInt;a.backColor=e.backColor;a.backColorInt=e.backColorInt;a.Key=e.Key;a.addBitCircle();a.addBitText();return a};$jscomp.inherits(a,d.BaseDrawComponent);a.prototype.addBitCircle=function(){var a=new e.Path.Circle({size:{width:3,height:3},position:{x:-1.4,y:0},fill:{color:'#000000'}});this.appendChild(a)};a.prototype.addBitText=function(){var a=new e.Path.Text({position:{x:-2,y:4},size:{width:0.4,height:0.4},text:this.bitName,fill:{color:'#000000'},font:{size:6}});this.appendChild(a)};b.BitItem=a},'./src/component/bitItem4qc.ts':function(f,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.BitItem4qc=void 0;var e=d('./src/common/baseDrawComponent.ts');var c=d('./src/path/index.ts');var a=function(c){var a;a=e.BaseDrawComponent.call(this,c)||this;a.eX=c.eX;a.pX=c.pX;a.bitName=c.bitName;a.berth=c.berth;a.index=c.index;a.position=c.position;a.bitPosition=c.bitPosition;a.yardID=c.yardID;a.foreColor=c.foreColor;a.ForeColorInt=c.ForeColorInt;a.backColor=c.backColor;a.backColorInt=c.backColorInt;a.Key=c.Key;a.addBitCircle();a.addBitText();a.addBitXText();return a};$jscomp.inherits(a,e.BaseDrawComponent);a.prototype.addBitXText=function(){var a=3;if(Number(this.bitName)%2===0){a=10}var e=new c.Path.Text({position:{x:-1.6*(this.bitName.length+1),y:a},size:{width:0.4,height:0.4},text:String(this.position.x),fill:{color:'#000000'},font:{size:6}});this.appendChild(e)};a.prototype.addBitCircle=function(){var a=new c.Path.Circle({size:{width:3,height:3},position:{x:-1.6+(this.bitName.length-1)*1.6,y:27},fill:{color:'#000000'}});this.appendChild(a)};a.prototype.addBitText=function(){if(Number(this.bitName)%2===1){return}var a=new c.Path.Text({position:{x:-2,y:20},size:{width:0.4,height:0.4},text:this.bitName,fill:{color:'#000000'},font:{size:6,weight:'bold'}});this.appendChild(a)};b.BitItem4qc=a},'./src/component/blockTop.ts':function(k,e,d){Object.defineProperty(e,'__esModule',{value:!0});e.BlockTop=void 0;var c=d('./src/common/type.ts');var f=d('./src/common/baseDrawComponent.ts');var h=d('./src/component/slot.ts');var b=d('./src/path/index.ts');var g=d('./src/component/container.ts');var i=d('./src/component/buttonClose.ts');var j=d('./src/path/text.ts');var a=function(b){var a;var c;a=f.BaseDrawComponent.call(this,b)||this;a.layout=b.layout;a.slotProps=b.slotProps;a.blockItem=b.blockItem;a.blockGap=(c=b.blockGap)!==null&&c!==void 0?c:20;a.blockName=b.blockName;a.data=b.data;a.ytInfo=b.ytInfo;a.isEnabledLockToolTip=b.isEnabledLockToolTip;a.isVisibleBlockNameText=b.isVisibleBlockNameText;a.isVisibleBayRowLocked=b.isVisibleBayRowLocked;a.isDisplayBayTextNames=b.isDisplayBayTextNames;a.hasCloseButton=b.hasCloseButton;a.lockRects=[];a.surface.addEventListener('mousemove',a.mouseMoveEvent.bind(a));a.bayRowOrder=b.bayRowOrder;if(b.hasCloseButton){a.addCloseButton()}a.addSlot();return a};$jscomp.inherits(a,f.BaseDrawComponent);a.prototype.addSlot=function(){var a=this.slotProps.size.width;if(this.isVisibleBlockNameText){this.addBlockNameText()}this.addYtDirectionPath(a);this.addRowText();if(this.isDisplayBayTextNames){this.addBayTextNames(a)}else {this.addBayText(a)}this.containerCountList=Array.from(Array(this.data.maxBay),function(){return (new Array(2)).fill(0)});this.addCountText(a);this.addIsLockedPath();this.addSlots(a)};a.prototype.addSlots=function(o){var b={};b.bay=0;for(;b.bay<this.data.maxBay;b={bay:b.bay},b.bay++){var f={};f.row=0;for(;f.row<this.data.maxRow;f={row:f.row},f.row++){var a=new h.Slot(Object.assign({},this.slotProps));a.setSize({width:o,height:a.size.height});a.data={blockName:this.blockName,bay:this.bayRowOrder.bay===c.OrderDirection.Asc?b.bay+1:this.data.maxBay-b.bay,row:this.bayRowOrder.row===c.OrderDirection.Asc?f.row+1:this.data.maxRow-f.row};if(!!this.data.yslotUsageList){var n=this.data.yslotUsageList.findIndex(function(a,b){return function(c){return c.bay===a.bay+1&&c.row===b.row+1}}(b,f));if(n>=0){var i=this.data.yslotUsageList[n];var l=i.dgChk;var m=i.rfChk;var j=i.akChk;var g='';if(!(l==='N'&&m==='N'&&j==='N')){if(j==='Y'){g=g+'A'}if(l==='Y'){g=g+'D'}if(m==='Y'){g=g+'R'}a.addSlotUsageText(g)}}}a.click=this.click;a.select=this.select;a.setPosition({x:a.position.x+this.blockGap+b.bay*(a.size.width+this.slotProps.slotGap),y:a.position.y+this.blockGap+f.row*(a.size.height+this.slotProps.slotGap)});a.parent=this;a.id=this.blockName+'-'+a.data.bay+'-'+a.data.row;this.appendChild(a)}}};a.prototype.addIsLockedPath=function(){if(this.isVisibleBayRowLocked){if(this.blockItem.yardLocks){for(var a=1;a<this.blockItem.maxBay;a++){for(var b=1;b<this.blockItem.maxRow;b++){this.addBayLockBar(a);this.addRowLockBar(b)}}}}};a.prototype.addBayLockBar=function(f){var c=this.slotProps.size.height;var a=new b.Path.Rect({stroke:{color:'#FF0000',width:1},fill:{color:'#FF0000'},position:{x:this.blockGap-2,y:this.blockGap+f*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:2,height:c}});this.appendChild(a);this.lockRects.push(a);this.hasLock=!0};a.prototype.addRowLockBar=function(f){var a=this.slotProps.size.width;var c=new b.Path.Rect({stroke:{color:'#FF0000',width:1},fill:{color:'#FF0000'},position:{x:this.blockGap+(f-1)*(a+this.slotProps.slotGap),y:this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:a,height:2}});this.appendChild(c);this.lockRects.push(c);this.hasLock=!0};a.prototype.addBayText=function(f){for(var a=1;a<=this.data.maxBay;a++){if(!!this.blockItem.bayList[this.data.maxBay]){var g=a;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-a+1}var h=new b.Path.Text({font:{size:this.blockItem.bayList[g].displayName.length>3?8:10},maxWidth:0,position:{x:this.blockItem.bayList[g].displayName.length>3?this.blockGap+(a-1)*(f+this.slotProps.slotGap)+f/2-10:this.blockGap+(a-1)*(f+this.slotProps.slotGap)+f/2-7,y:7},size:{width:6,height:6},text:this.blockItem.bayList[g].displayName,fill:{color:'#000000'}});this.appendChild(h)}}};a.prototype.addBayTextNames=function(a){for(var f=1;f<=this.data.maxBay;f++){if(!!this.blockItem.bayList[this.data.maxBay]){var g=f;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-f+1}var h=new b.Path.Text({font:{size:this.blockItem.bayList[g].name2.length>3?8:10},maxWidth:0,position:{x:this.blockItem.bayList[g].name2.length>3?this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-10:this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-7,y:9},size:{width:6,height:6},text:this.blockItem.bayList[g].name2,fill:{color:'#000000'}});this.appendChild(h);var i=new b.Path.Text({font:{size:this.blockItem.bayList[g].name4.length>3?8:10},maxWidth:0,position:{x:this.blockItem.bayList[g].name4.length>3?this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-10:this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-7,y:0},size:{width:6,height:6},text:this.blockItem.bayList[g].name4,fill:{color:'#000000'}});this.appendChild(i)}}};a.prototype.addRowText=function(){for(var a=1;a<=this.data.maxRow;a++){var f=a;if(this.bayRowOrder.row==c.OrderDirection.Asc){f=this.data.maxRow-a+1}var g=new b.Path.Text({font:{size:10},maxWidth:0,position:{x:12,y:this.blockGap+(this.blockItem.maxRow-a)*(this.slotProps.size.height+this.slotProps.slotGap)+5},size:{width:6,height:6},text:this.blockItem.rowList[f].name,fill:{color:'#000000'},align:j.TextAlign.right});this.appendChild(g)}};a.prototype.addCountText=function(f){var g;for(var a=0;a<this.data.maxBay;a++){if(!!this.blockItem.bayList[this.data.maxBay]){var i=a;if(this.bayRowOrder.bay==c.OrderDirection.Desc){i=this.data.maxRow-a+1}var h=this.containerCountList[a][0]+this.containerCountList[a][1]*2;var j=new b.Path.Rect({position:{x:this.blockGap+(a-1)*(f+this.slotProps.slotGap)+f/2+15,y:this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+3},id:'COUNTTEXT_RECT-'+this.id,size:{width:this.containerCountList[a][1]===0?this.slotProps.size.width:this.slotProps.size.width*2+this.slotProps.slotGap,height:0.2*h},fill:{isEnabled:!0,color:'#FFFF00'}});this.appendChild(j);var l=new b.Path.Text({font:{size:10},maxWidth:0,position:{x:this.blockGap+(a-1)*(f+this.slotProps.slotGap)+f/2+15,y:this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+3},id:'COUNTTEXT-'+this.id,size:{width:6,height:6},text:((g=this.containerCountList[a][0]!==0)!==null&&g!==void 0?g:this.containerCountList[a][1]!==0)?this.containerCountList[a][0]+'/'+this.containerCountList[a][1]:'',fill:{color:'#000000'}});this.appendChild(l)}}};a.prototype.removeAllCountText=function(){for(var a=this.children.length-1;a>-1;a--){var b=this.children[a];if(b.id.indexOf('_COUNT_TEXT_')>-1){this.children.splice(a,1)}}};a.prototype.addYtDirectionPath=function(f){var a=this.bayRowOrder.row==c.OrderDirection.Desc&&this.blockItem.ytPos==='S'||this.bayRowOrder.row==c.OrderDirection.Asc&&this.blockItem.ytPos==='E'?this.blockGap+this.blockItem.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+0.2:this.blockGap-0.2;var i=new b.Path.Line({position:{x:this.blockGap,y:a},size:{width:this.blockItem.maxBay*(f+this.slotProps.slotGap),height:0},stroke:{color:'rgba(200, 0, 0, 255)',width:2}});this.appendChild(i);if(this.blockItem.ytEnter==='E'){var h=new b.Path.Triangle(Object.assign({},{position:{x:10,y:a},rotate:this.blockItem.ytEnter==='E'?-90:90},this.ytInfo));this.appendChild(h)}else {if(this.blockItem.ytEnter==='S'){var g=new b.Path.Triangle(Object.assign({},{position:{x:this.blockGap+this.blockItem.maxBay*(f+this.slotProps.slotGap),y:a},rotate:this.blockItem.ytEnter==='E'?90:-90},this.ytInfo));this.appendChild(g)}}};a.prototype.addEquipment=function(h){var g=h;var f=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var i=this.blockGap+(g-1)*(f+this.slotProps.slotGap)+f/2-7;var a=new b.Path.Equipment0({position:{x:i,y:0},size:{width:this.originalSize.width-0,height:this.originalSize.height-0},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'}});this.appendChild(a);return a};a.prototype.addEquipment1=function(h){var g=h;var a=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var i=this.blockGap+(g-1)*(a+this.slotProps.slotGap);var f=new b.Path.Equipment1({position:{x:i+a/2,y:0},size:{width:a,height:(this.slotProps.size.height+this.slotProps.slotGap)*this.data.maxRow+this.blockGap*2},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'}});this.appendChild(f);return f};a.prototype.addEquipment2=function(h){var g=h;var a=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var i=this.blockGap+(g-1)*(a+this.slotProps.slotGap);var f=new b.Path.Equipment2({position:{x:i+a/2,y:0},size:{width:a,height:(this.slotProps.size.height+this.slotProps.slotGap)*this.data.maxRow+this.blockGap*2},fill:{isEnabled:!0,color:'#00FF00'},stroke:{width:1,color:'#00FF00'}});this.appendChild(f);return f};a.prototype.addEquipment3=function(h){var g=h;var a=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var i=this.blockGap+(g-1)*(a+this.slotProps.slotGap);var f=new b.Path.Equipment3({position:{x:i+a/2,y:3},size:{width:a,height:this.blockGap-3},fill:{isEnabled:!1,color:'#FF0000'},stroke:{width:1,color:'#FF0000'}});this.appendChild(f);return f};a.prototype.addSpTopBlockBox=function(f){var h=f;var a=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){h=this.data.maxBay-f+1}var i=this.blockGap+(h-1)*(a+this.slotProps.slotGap);var g=new b.Path.Equipment3({data:f,position:{x:i+a/2,y:0},size:{width:a,height:this.blockGap},fill:{isEnabled:!1,color:'#FF0000'},stroke:{width:1,color:'#FF0000'}});this.appendChild(g);return g};a.prototype.addYtEquipment=function(h,i){var g=h;var f=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var j=this.blockGap+(g-1)*(f+this.slotProps.slotGap);var a=new b.Path.Rect({position:{x:j,y:this.blockGap+this.blockItem.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+5+i*15},size:{width:f*2,height:this.slotProps.size.height+this.slotProps.slotGap},fill:{isEnabled:!0,color:'#FF0000'},stroke:{width:1,color:'#FFFF00'}});this.appendChild(a);return a};a.prototype.addCloseButton=function(){var a=new i.ButtonClose({data:undefined,marking:undefined,position:{x:this.size.width-10,y:0},size:{width:10,height:10},slotGap:0,stackInfo:undefined,fill:{color:'rgba(255, 0, 0, 1)'},stroke:{width:1,color:'rgba(255, 255,255, 1)'},click:{isEnabled:!0,func:function(){console.log('11')}}});a.blockName=this.blockName;this.appendChild(a)};a.prototype.addBlockNameText=function(){var a=new b.Path.Text({font:{size:12},maxWidth:0,position:{x:4,y:6},size:{width:6,height:6},text:this.blockName,fill:{color:'#000000'}});this.appendChild(a)};a.prototype.findSlotById=function(c){for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof h.Slot&&a.id===c){return a}}};a.prototype.getSlot=function(a,b,c){return this.findSlotById(a+'-'+b+'-'+c)};a.prototype.findContainerById=function(f){var c=[];for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof g.Container&&a.id===f){c.push(a)}}return c};a.prototype.removeContainer=function(c){for(var a=this.children.length-1;a>=0;a--){var b=this.children[a];if(b instanceof g.Container&&b.id===c){this.children.splice(a,1);break}}};a.prototype.removeSelectedBox=function(f){for(var a=this.children.length-1;a>=0;a--){var c=this.children[a];if(c instanceof b.Path.Equipment3&&c.data===f){this.children.splice(a,1);break}}};a.prototype.mouseMoveEvent=function(c){if(!this.isEnabledLockToolTip){return}var b=!1;for(var a=0;a<this.lockRects.length;a++){var f=this.lockRects[a];if(f.isPointInDrawArea(c)){b=!0}}if(b){this.mouseoverProcess(c)}};e.BlockTop=a},'./src/component/blockTop4Layout.ts':function(l,e,d){Object.defineProperty(e,'__esModule',{value:!0});e.BlockTop4Layout=void 0;var c=d('./src/common/type.ts');var g=d('./src/common/baseDrawComponent.ts');var f=d('./src/component/slot.ts');var b=d('./src/path/index.ts');var h=d('./src/component/container.ts');var i=d('./src/component/buttonClose.ts');var k=d('./src/component/index.ts');var j=d('./src/component/countInfo.ts');var a=function(b){var a;var c;a=g.BaseDrawComponent.call(this,b)||this;a.layout=b.layout;a.slotProps=b.slotProps;a.blockItem=b.blockItem;a.blockGap=(c=b.blockGap)!==null&&c!==void 0?c:0.4;a.horizontalGap=b.horizontalGap;a.verticalGap=b.verticalGap;a.blockName=b.blockName;a.data=b.data;a.ytInfo=b.ytInfo;a.isEnabledLockToolTip=b.isEnabledLockToolTip;a.isVisibleBlockNameText=b.isVisibleBlockNameText;a.isVisibleBayRowLocked=b.isVisibleBayRowLocked;a.isDisplayBayTextNames=b.isDisplayBayTextNames;a.isVisibleCountInfo=b.isVisibleCountInfo;a.hasCloseButton=b.hasCloseButton;a.lockRects=[];a.surface.addEventListener('mousemove',a.mouseMoveEvent.bind(a));a.bayRowOrder=b.bayRowOrder;if(b.hasCloseButton){a.addCloseButton()}a.addSlot();if(a.isVisibleCountInfo){a.addCountInfo()}a.addCountInfoText();return a};$jscomp.inherits(a,g.BaseDrawComponent);a.prototype.getCountInfo=function(){return this.countInfo};a.prototype.addCountInfo=function(){this.countInfo=new j.CountInfo({position:{x:-25,y:10},size:{width:25,height:20},stackInfo:undefined});this.appendChild(this.countInfo)};a.prototype.addCountInfoText=function(){if(!this.countText){this.countText=new b.Path.Text({position:{x:-10,y:this.size.height-10},size:{width:25,height:20},font:{size:10},fill:{isEnabled:!0,color:'#000000'},text:'',id:'CountInfoText-'+this.blockName});this.appendChild(this.countText)}};a.prototype.setCountInfoText=function(a){this.countText.text=a};a.prototype.addSlot=function(){var a=this.slotProps.size.width;if(this.isVisibleBlockNameText){this.addBlockNameText()}if(this.isDisplayBayTextNames){this.addBayTextNames(a)}else {this.addBayText(a)}this.generateContainerCountList();this.addSlots(a);this.addYtDirectionPath(a)};a.prototype.generateContainerCountList=function(){this.containerCountList=Array.from(Array(this.data.maxBay),function(){return (new Array(2)).fill(0)})};a.prototype.addSlots=function(h){for(var b=0;b<this.data.maxBay;b++){for(var g=0;g<this.data.maxRow;g++){var a=new f.Slot(Object.assign({},this.slotProps,{size:{width:h-this.horizontalGap,height:this.slotProps.size.height-this.verticalGap/2},position:{x:this.blockGap+this.horizontalGap/2+b*(this.slotProps.size.width+this.slotProps.slotGap),y:this.blockGap+this.verticalGap/2+g*(this.slotProps.size.height+this.slotProps.slotGap)},data:{blockName:this.blockName,bay:this.bayRowOrder.bay===c.OrderDirection.Asc?b+1:this.data.maxBay-b,row:this.bayRowOrder.row===c.OrderDirection.Asc?g+1:this.data.maxRow-g},click:this.click,select:this.select}));a.parent=this;a.id=this.blockName+'-'+a.data.bay+'-'+a.data.row;this.appendChild(a)}}};a.prototype.addIsLockedPath=function(){if(this.isVisibleBayRowLocked){if(this.blockItem.yardLocks){for(var a=1;a<this.blockItem.maxBay;a++){for(var b=1;b<this.blockItem.maxRow;b++){this.addBayLockBar(a);this.addRowLockBar(b)}}}}};a.prototype.addBayLockBar=function(f){var c=this.slotProps.size.height;var a=new b.Path.Rect({stroke:{color:'#FF0000',width:1},fill:{color:'#FF0000'},position:{x:this.blockGap-0.3,y:this.blockGap+f*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:0.3,height:c}});this.appendChild(a);this.lockRects.push(a);this.hasLock=!0};a.prototype.addRowLockBar=function(f){var a=this.slotProps.size.width;var c=new b.Path.Rect({stroke:{color:'#FF0000',width:0.13},fill:{color:'#FF0000'},position:{x:this.blockGap+(f-1)*(a+this.slotProps.slotGap),y:this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:a,height:0.3}});this.appendChild(c);this.lockRects.push(c);this.hasLock=!0};a.prototype.addBayText=function(g){for(var a=1;a<=this.data.maxBay;a++){if(!!this.blockItem.bayList[this.data.maxBay]){var f=a;if(this.bayRowOrder.bay==c.OrderDirection.Desc){f=this.data.maxBay-a+1}var h=new b.Path.Text({font:{size:this.blockItem.bayList[f].displayName.length>3?1.4:3},maxWidth:0,position:{x:this.blockGap+(a-1)*(g+this.slotProps.slotGap)+g/2-1.4,y:this.bayRowOrder.row?this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap):this.blockItem.bayList[f].displayName.length>3?0.3:0.3},size:{width:1,height:1},text:this.blockItem.bayList[f].displayName,fill:{color:'#000000'}});this.appendChild(h)}}};a.prototype.addBayTextNames=function(a){for(var f=1;f<=this.data.maxBay;f++){if(!!this.blockItem.bayList[this.data.maxBay]){var g=f;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-f+1}var h=new b.Path.Text({font:{size:this.blockItem.bayList[g].name2.length>3?8:10},maxWidth:0,position:{x:this.blockItem.bayList[g].name2.length>3?this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-10:this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-7,y:9},size:{width:6,height:6},text:this.blockItem.bayList[g].name2,fill:{color:'#000000'}});this.appendChild(h);var i=new b.Path.Text({font:{size:this.blockItem.bayList[g].name4.length>3?8:10},maxWidth:0,position:{x:this.blockItem.bayList[g].name4.length>3?this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-10:this.blockGap+(f-1)*(a+this.slotProps.slotGap)+a/2-7,y:0},size:{width:6,height:6},text:this.blockItem.bayList[g].name4,fill:{color:'#000000'}});this.appendChild(i)}}};a.prototype.addRowText=function(){for(var a=1;a<=this.data.maxRow;a++){var f=a;if(this.bayRowOrder.row==c.OrderDirection.Asc){f=this.data.maxRow-a+1}var g=new b.Path.Text({font:{size:3},maxWidth:0,position:{x:-0,y:this.blockGap+(this.blockItem.maxRow-a)*(this.slotProps.size.height+this.slotProps.slotGap)+0.7},size:{width:0.8,height:0.8},text:this.blockItem.rowList[f].name,fill:{color:'#000000'}});this.appendChild(g)}};a.prototype.addCountText=function(f){for(var a=0;a<this.data.maxBay;a++){if(!!this.blockItem.bayList[this.data.maxBay]){var g=a;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxRow-a+1}var h=new b.Path.Text({font:{size:1.4},maxWidth:0,position:{x:this.blockGap+(a-1)*(f+this.slotProps.slotGap)+f/2+2,y:this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+0.4},size:{width:1,height:1},text:this.containerCountList[a][0]!==0||this.containerCountList[a][1]!==0?this.containerCountList[a][0]+'/'+this.containerCountList[a][1]:'',fill:{color:'#000000'},id:'_COUNT_TEXT_'+a});this.appendChild(h)}}};a.prototype.removeAllCountText=function(){for(var a=this.children.length-1;a>-1;a--){var b=this.children[a];if(b.id.indexOf('_COUNT_TEXT_')>-1){this.children.splice(a,1)}}};a.prototype.addYtDirectionPath=function(f){var a=this.bayRowOrder.row==c.OrderDirection.Desc&&this.blockItem.ytPos==='S'||this.bayRowOrder.row==c.OrderDirection.Asc&&this.blockItem.ytPos==='E'?this.blockGap+this.blockItem.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+0.2:this.blockGap-0.2;var i=new b.Path.Line({position:{x:this.blockGap,y:a},size:{width:this.blockItem.maxBay*(f+this.slotProps.slotGap),height:0},stroke:{color:'rgba(200, 0, 0, 255)',width:2}});this.appendChild(i);if(this.blockItem.ytEnter==='E'){var h=new b.Path.Triangle(Object.assign({},{position:{x:3,y:a},rotate:this.blockItem.ytEnter==='E'?-90:90},this.ytInfo));this.appendChild(h)}else {if(this.blockItem.ytEnter==='S'){var g=new b.Path.Triangle(Object.assign({},{position:{x:this.blockGap+this.blockItem.maxBay*(f+this.slotProps.slotGap),y:a},rotate:this.blockItem.ytEnter==='E'?90:-90},this.ytInfo));this.appendChild(g)}}};a.prototype.addEquipment1=function(g,h){var f=g;var a=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){f=this.data.maxBay-g+1}var i=this.blockGap+(f-1)*(a+this.slotProps.slotGap);var b=new k.Component.Equipment1({stackInfo:{isEnabled:!1},position:{x:i+a/2,y:0},size:{width:a,height:(this.slotProps.size.height+this.slotProps.slotGap)*this.data.maxRow+this.blockGap*2},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'},equipmentName:h});this.appendChild(b);return b};a.prototype.addEquipment2=function(h){var g=h;var a=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var i=this.blockGap+(g-1)*(a+this.slotProps.slotGap);var f=new b.Path.Equipment2({position:{x:i+a/2,y:0},size:{width:a,height:(this.slotProps.size.height+this.slotProps.slotGap)*this.data.maxRow+this.blockGap*2},fill:{isEnabled:!0,color:'#00FF00'},stroke:{width:1,color:'#00FF00'}});this.appendChild(f);return f};a.prototype.addEquipment3=function(h){var g=h;var a=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var i=this.blockGap+(g-1)*(a+this.slotProps.slotGap);var f=new b.Path.Equipment3({position:{x:i+a/2,y:0},size:{width:a,height:this.slotProps.size.height},fill:{isEnabled:!1,color:'#FF0000'},stroke:{width:1,color:'#FF0000'}});this.appendChild(f);return f};a.prototype.addYtEquipment=function(h,i){var g=h;var f=this.slotProps.size.width;if(this.bayRowOrder.bay==c.OrderDirection.Desc){g=this.data.maxBay-h+1}var j=this.blockGap+(g-1)*(f+this.slotProps.slotGap);var a=new b.Path.Rect({position:{x:j,y:this.blockGap+this.blockItem.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+5+i*15},size:{width:f*2,height:this.slotProps.size.height+this.slotProps.slotGap},fill:{isEnabled:!0,color:'#FF0000'},stroke:{width:0.14,color:'#FFFF00'}});this.appendChild(a);return a};a.prototype.addCloseButton=function(){var a=new i.ButtonClose({data:undefined,marking:undefined,position:{x:this.size.width-10,y:0},size:{width:10,height:10},slotGap:0,stackInfo:undefined,click:{func:function(){console.log('11')}}});a.blockName=this.blockName;this.appendChild(a)};a.prototype.addBlockNameText=function(){var a=new b.Path.Text({font:{size:6},maxWidth:0,position:{x:-6,y:4},size:{width:1,height:1},text:this.blockName,fill:{color:'#000000'}});this.appendChild(a)};a.prototype.findSlotById=function(c){for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof f.Slot&&a.id===c){return a}}};a.prototype.getSlot=function(a,b,c){return this.findSlotById(a+'-'+b+'-'+c)};a.prototype.findContainerById=function(f){var c=[];for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof h.Container&&a.id===f){c.push(a)}}return c};a.prototype.removeContainer=function(c){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b instanceof h.Container&&b.id===c){this.children.splice(a,1);break}}};a.prototype.mouseMoveEvent=function(c){if(!this.isEnabledLockToolTip){return}var b=!1;for(var a=0;a<this.lockRects.length;a++){var f=this.lockRects[a];if(f.isPointInDrawArea(c)){b=!0}}if(b){this.mouseoverProcess(c)}};a.prototype.calcuateSlotRect=function(){var a={x:999999,y:999999};var b={x:0,y:0};this.children.forEach(function(c){if(c instanceof f.Slot){if(c.originalPosition.x<a.x){a.x=c.originalPosition.x}if(c.originalPosition.y<a.y){a.y=c.originalPosition.y}if(c.originalPosition.x+c.originalSize.width>b.x){b.x=c.originalPosition.x+c.originalSize.width}if(c.originalPosition.y+c.originalSize.height>b.y){b.y=c.originalPosition.y+c.originalSize.height}}});return {x:a.x,y:a.y,width:b.x-a.x,height:b.y-a.y}};a.prototype.checkSelected=function(){var a=this.calcuateSlotRect();var c=new b.Path.Rect({position:{x:a.x,y:a.y},size:{width:a.width,height:a.height},fill:{isEnabled:!0,color:this.select.color.selected}});this.appendChild(c);this.draw()};e.BlockTop4Layout=a},'./src/component/button.ts':function(f,a,c){Object.defineProperty(a,'__esModule',{value:!0});a.Button=void 0;var d=c('./src/common/baseDrawComponent.ts');var e=c('./src/path/index.ts');var b=function(e){var b;b=d.BaseDrawComponent.call(this,e)||this;b.drawButton();return b};$jscomp.inherits(b,d.BaseDrawComponent);b.prototype.drawButton=function(){var b=new e.Path.XMark({size:this.size,fill:{color:'#000000'},stroke:{color:'#000000',width:1}});this.appendChild(b)};a.Button=b},'./src/component/buttonClose.ts':function(f,b,c){Object.defineProperty(b,'__esModule',{value:!0});b.ButtonClose=void 0;var e=c('./src/path/index.ts');var d=c('./src/component/button.ts');var a=function(e){var a;a=d.Button.call(this,e)||this;a.drawButton();return a};$jscomp.inherits(a,d.Button);a.prototype.drawButton=function(){var a=new e.Path.closeMark({size:this.size,fill:this.fill,stroke:this.stroke});this.appendChild(a)};b.ButtonClose=a},'./src/component/container.ts':function(g,f,e){Object.defineProperty(f,'__esModule',{value:!0});f.Container=void 0;var d=e('./src/common/baseDrawComponent.ts');var a=e('./src/path/index.ts');var c=e('./src/path/text.ts');var b=function(b){var a;var c;a=d.BaseDrawComponent.call(this,b)||this;a.containerBayItem=b.containerBayItem;a.textSizeMultiple=b.textSizeMultiple;a.isTopView=b.isTopView;a.stroke.color='#000000';a.stroke.width=0;a.fill.color=(c=b.containerBayItem.fillColor)!==null&&c!==void 0?c:'#FFFFFF';a.beforeDraw.isEnabled=!0;a.beforeDraw.funcs.push(a.beforeDrawForSelect);return a};$jscomp.inherits(b,d.BaseDrawComponent);b.prototype.addSpContainerOutLine=function(){var b=new a.Path.Rect({position:{x:this.containerBayItem.outerBorderMargin||0,y:this.containerBayItem.outerBorderMargin||0},size:{width:this.originalSize.width-(this.containerBayItem.outerBorderMargin||0)*2,height:this.originalSize.height-(this.containerBayItem.outerBorderMargin||0)*2},fill:{color:this.containerBayItem.fillColor},stroke:{color:this.containerBayItem.outerBorderColor,width:this.containerBayItem.outerBorderWidth===undefined?1:this.containerBayItem.outerBorderWidth}});b.id='ContainerOuterLine_'+this.id;this.appendChild(b);return b};b.prototype.addSpDiamondLine=function(){var b=new a.Path.Rect({position:{x:this.originalSize.width/2,y:this.originalSize.height/8},size:{width:this.originalSize.width-this.originalSize.width/2,height:this.originalSize.height-this.originalSize.height/2},rotate:45,fill:{color:'transparent'},stroke:{color:'black',width:this.containerBayItem.outerBorderWidth===undefined?1:this.containerBayItem.outerBorderWidth}});b.id='DiamondLine_'+this.id;this.appendChild(b);return b};b.prototype.addSpAllPaths=function(){this.outerLine=this.addSpContainerOutLine();if(!this.isTopView&&this.containerBayItem.visibleInfoText!==!1){var i=this.originalSize.width>20?2:1;var j=this.originalSize.width/100+4;var r=j/2;var b=j/5;var q=this.containerBayItem.size;var h='black';if(this.containerBayItem.visibleObliqueLine){h=this.containerBayItem.obliqueLineColor}var p=new a.Path.Text({font:{size:5*this.textSizeMultiple},maxWidth:0,position:{x:b,y:b},size:{width:i-b,height:i-b},text:q,align:c.TextAlign.left,valign:c.TextVAlign.top,fill:{color:h}});this.appendChild(p);var m=new a.Path.Text({font:{size:(this.containerBayItem.planSequence!==undefined&&this.containerBayItem.planSequence!=null?7:5)*this.textSizeMultiple,weight:this.containerBayItem.planSequence!==undefined?'bold':''},maxWidth:0,position:{x:0,y:0},size:{width:this.originalSize.width,height:this.originalSize.height},text:this.containerBayItem.planSequence!==undefined&&this.containerBayItem.planSequence!=null?this.containerBayItem.planSequence:this.containerBayItem.weight!==undefined?this.containerBayItem.weight:'',align:c.TextAlign.center,valign:c.TextVAlign.middle,fill:{color:h}});this.appendChild(m);var l=new a.Path.Text({font:{size:5*this.textSizeMultiple},maxWidth:0,position:{x:b,y:b},size:{width:this.originalSize.width-b,height:this.originalSize.height-b},text:this.containerBayItem.lowerCaption!==undefined?this.containerBayItem.lowerCaption:'',align:c.TextAlign.center,valign:c.TextVAlign.bottom,fill:{color:h}});this.appendChild(l);var n=new a.Path.Text({font:{size:4*this.textSizeMultiple},maxWidth:0,position:{x:b,y:b},size:{width:this.originalSize.width-b,height:this.originalSize.height-b},text:this.containerBayItem.equipmentName!==undefined?this.containerBayItem.equipmentName:'',align:c.TextAlign.right,valign:c.TextVAlign.top,fill:{color:'#ffffff'}});this.appendChild(n);var o=new a.Path.Rect({position:{x:this.originalSize.width-this.originalSize.width/5-b,y:b},size:{width:this.originalSize.width/5+b,height:this.originalSize.height/5},fill:{color:this.containerBayItem.equipmentColor}});this.appendChild(o);if(this.containerBayItem.visibleObliqueLine){this.addObliqueLine()}if(this.containerBayItem.visibleOccupied){this.addSpXMark()}if(this.containerBayItem.visibleCircle){var d=(this.originalSize.width>this.originalSize.height?this.originalSize.height:this.originalSize.width)-10;this.addCircleStroke({position:{x:(this.originalSize.width-d)/2-1,y:(this.originalSize.height-d)/2-1},stroke:{color:this.containerBayItem.circleColor,width:1},fill:{color:'transparent',isEnabled:!1},size:{width:d+2,height:d+2}})}if(this.containerBayItem.IMDG!=null){this.addSpDiamondLine()}if(this.containerBayItem.visibleCntrState&&this.containerBayItem.isBookedCntr){var k=new a.Path.RightTriangle({position:{x:this.originalSize.width-3,y:this.originalSize.height-5},fill:{color:'black'},size:{width:6,height:5}});this.appendChild(k)}}};b.prototype.addAllPaths=function(){this.outerLine=this.addOuterLine();this.addInnerLine();if(this.containerBayItem.containerText!=null){var h=this.originalSize.width>20?2:1;var i=this.originalSize.width/100+4;var j=i/2;var d=new a.Path.Text({font:{size:10*this.textSizeMultiple},maxWidth:0,position:{x:7.5*h,y:7},size:{width:this.originalSize.width-2,height:this.originalSize.height-2},text:this.containerBayItem.containerText!==undefined?this.containerBayItem.containerText:'',fill:{color:this.containerBayItem.containerTextColor}});this.appendChild(d)}if(this.containerBayItem.visibleTriangle){this.addTriangle({position:{x:1,y:1},fill:{color:this.containerBayItem.triangleColor},size:{width:this.originalSize.width-2,height:this.originalSize.height-2}})}if(this.containerBayItem.visibleCircle){var c=(this.originalSize.width>this.originalSize.height?this.originalSize.height:this.originalSize.width)-10;this.addCircleFill({position:{x:(this.originalSize.width-c)/2,y:(this.originalSize.height-c)/2},fill:{color:this.containerBayItem.circleColor},size:{width:c,height:c}})}if(this.containerBayItem.visibleInvertedTriangle){this.addInvertedTriangle({position:{x:1+this.originalSize.width-2,y:1+this.originalSize.height-2},fill:{color:this.containerBayItem.occupiedColor},rotate:180,size:{width:this.originalSize.width-2,height:this.originalSize.height-2}})}if(this.containerBayItem.visibleCircleStroke){var b=(this.originalSize.width>this.originalSize.height?this.originalSize.height:this.originalSize.width)-10;this.addCircleStroke({position:{x:(this.originalSize.width-b)/2+1,y:(this.originalSize.height-b)/2+1},stroke:{color:this.containerBayItem.circleStrokeColor,width:2},fill:{color:'',isEnabled:!1},size:{width:b-2,height:b-2}})}if(this.containerBayItem.visibleUnsync){this.addUnsyncLine()}if(this.containerBayItem.visibleObliqueLine){this.addObliqueLine()}if(!this.isTopView&&this.containerBayItem.visibleInfoText!==!1){this.addConainterInfoText()}};b.prototype.addOccupied=function(){var b=new a.Path.Triangle({position:{x:20,y:5},fill:{color:this.containerBayItem.occupiedColor},rotate:180,size:{width:10,height:10}});this.appendChild(b)};b.prototype.addConainterCountText=function(){var b=new a.Path.Text({font:{size:2*this.textSizeMultiple,weight:'bold'},maxWidth:0,position:{x:1.4,y:1.5},size:{width:6,height:6},text:'1',fill:{color:'#000000'}});this.appendChild(b)};b.prototype.addConainterInfoText=function(){var d=this.originalSize.width>20?2:1;var c=this.originalSize.width/100+4;var b=c/2;var m=new a.Path.Text({font:{size:2*this.textSizeMultiple,weight:'bold'},maxWidth:0,position:{x:1.7*d,y:1.7},size:{width:6,height:6},text:this.containerBayItem.containerNo!==undefined?this.containerBayItem.containerNo:'',fill:{color:'#000000'}});this.appendChild(m);var r=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b,y:5},size:{width:6,height:6},text:this.containerBayItem.classCode!==undefined?this.containerBayItem.classCode:'',fill:{color:'#0000ff'},background:{isEnabled:this.containerBayItem.classCodeBackColor!=='',color:this.containerBayItem.classCodeBackColor,isFitToSize:!0}});this.appendChild(r);var q=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b+(this.size.width-c)*0.25,y:5},size:{width:6,height:6},text:this.containerBayItem.cargoType!==undefined?this.containerBayItem.cargoType:'',fill:{color:'#000000'},background:{isEnabled:this.containerBayItem.cargoTypeBackColor!=='',color:this.containerBayItem.cargoTypeBackColor,isFitToSize:!0}});this.appendChild(q);var t=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b+(this.size.width-c)*0.5,y:5},size:{width:6,height:6},text:this.containerBayItem.sizeType!==undefined?this.containerBayItem.sizeType:'',fill:{color:'#000000'}});this.appendChild(t);var k=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b+(this.size.width-c)*0.8,y:5},size:{width:6,height:6},text:this.containerBayItem.operatorCode!==undefined?this.containerBayItem.operatorCode:'',fill:{color:'#000000'},background:{isEnabled:this.containerBayItem.operatorBackColor!=='',color:this.containerBayItem.operatorBackColor,isFitToSize:!0}});this.appendChild(k);var v=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b,y:8},size:{width:6,height:6},text:this.containerBayItem.IMDG!==undefined?this.containerBayItem.IMDG:'',fill:{color:'#000000'}});this.appendChild(v);var s=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b+(this.size.width-c)*0.3,y:8},size:{width:6,height:6},text:this.containerBayItem.plugCheck!==undefined?this.containerBayItem.plugCheck:'',fill:{color:'#000000'}});this.appendChild(s);var j=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b+(this.size.width-c)*0.5,y:8},size:{width:6,height:6},text:this.containerBayItem.equipmentName!==undefined?this.containerBayItem.equipmentName:'',fill:{color:this.containerBayItem.equipmentColor}});this.appendChild(j);var o=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b+(this.size.width-c)*0.8,y:8},size:{width:6,height:6},text:this.containerBayItem.weightGroup!==undefined?this.containerBayItem.weightGroup:'',fill:{color:'#000000'}});this.appendChild(o);var p=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b,y:11},size:{width:6,height:6},text:this.containerBayItem.inboundVVD!==undefined?this.containerBayItem.inboundVVD:'',fill:{color:'#000000'}});this.appendChild(p);var x=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:b+(this.size.width-c)*0.65,y:11},size:{width:6,height:6},text:this.containerBayItem.POL!==undefined?this.containerBayItem.POL:'',fill:{color:'#000000'}});this.appendChild(x);var n=new a.Path.Text({font:{size:1.8*this.textSizeMultiple,weight:'bold'},maxWidth:0,position:{x:b,y:15},size:{width:6,height:6},text:this.containerBayItem.outboundVVD!==undefined?this.containerBayItem.outboundVVD:'',fill:{color:'#000000'}});this.appendChild(n);var w=new a.Path.Text({font:{size:1.7*this.textSizeMultiple,weight:'bold'},maxWidth:0,position:{x:b+(this.size.width-c)*0.65,y:13},size:{width:6,height:6},text:this.containerBayItem.POD!==undefined?this.containerBayItem.POD:'',fill:{color:'#000000'},background:{isEnabled:this.containerBayItem.podBackColor!=='',color:this.containerBayItem.podBackColor,isFitToSize:!0}});this.appendChild(w);var l=new a.Path.Text({font:{size:4*this.textSizeMultiple},maxWidth:0,position:{x:1*d,y:15},size:{width:6,height:6},text:this.containerBayItem.lowerCaption!==undefined?this.containerBayItem.lowerCaption:'',fill:{color:'#000000'},background:{isEnabled:this.containerBayItem.lowerCaptionBackColor!=='',color:this.containerBayItem.lowerCaptionBackColor,isFitToSize:!0}});this.appendChild(l);var h=new a.Path.Text({font:{size:1.7*this.textSizeMultiple},maxWidth:0,position:{x:17*d,y:16},size:{width:6,height:6},text:String(this.containerBayItem.pECnt!==undefined?this.containerBayItem.pECnt:''),fill:{color:'#FF0000'}});h.id='pECnt';this.appendChild(h);var u=new a.Path.Text({font:{size:3*this.textSizeMultiple,weight:'bold'},maxWidth:0,position:{x:1.4*d,y:17},size:{width:6,height:6},text:String(this.containerBayItem.jobCode!==undefined?this.containerBayItem.jobCode:''),fill:{color:'#000000'}});this.appendChild(u);var i=new a.Path.Text({font:{size:1.4*this.textSizeMultiple},maxWidth:0,position:{x:10*d,y:15},size:{width:6,height:6},text:String(this.containerBayItem.handlingInstruction!==undefined?this.containerBayItem.handlingInstruction:''),fill:{color:'#000000'}});this.appendChild(i)};b.prototype.invertColor=function(a){if(a.indexOf('#')===0){a=a.slice(1)}if(a.length===3){a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]}if(a.length!==6){throw new Error('Invalid HEX color.')}var d=(255-parseInt(a.slice(0,2),16)).toString(16),c=(255-parseInt(a.slice(2,4),16)).toString(16),b=(255-parseInt(a.slice(4,6),16)).toString(16);return '#'+this.padZero(d)+this.padZero(c)+this.padZero(b)};b.prototype.padZero=function(c){var a=2;var b=(new Array(a)).join('0');return (b+c).slice(-a)};b.prototype.invertAllColors=function(a){var b=this;a.fill.color=this.invertColor(a.fill.color);if(a.children.length){a.children.forEach(function(c){return b.invertAllColors(c)})}};b.prototype.invertBlockColor=function(){this.invertAllColors(this)};b.prototype.addSelectCircle=function(){var b=(this.originalSize.width>this.originalSize.height?this.originalSize.height:this.originalSize.width)-10;var c=new a.Path.Circle({position:{x:(this.originalSize.width-b)/2,y:(this.originalSize.height-b)/2},fill:{color:'#008000'},size:{width:b,height:b}});c.id='selectedCircle';this.appendChild(c);return c};b.prototype.addUnsyncLine=function(){var b=new a.Path.UnsyncLine({position:{x:1,y:1},size:{width:this.originalSize.width-2,height:this.originalSize.height-2},fill:{color:this.containerBayItem.unsyncColor},stroke:{color:this.containerBayItem.unsyncColor,width:1}});this.appendChild(b);return b};b.prototype.addObliqueLine=function(){var b=new a.Path.ObliqueLine({position:{x:1,y:1},size:{width:this.originalSize.width-2,height:this.originalSize.height-2},fill:{color:this.containerBayItem.obliqueLineColor},stroke:{color:this.containerBayItem.obliqueLineColor,width:1}});this.appendChild(b);return b};b.prototype.addXMark=function(){var b=new a.Path.XMark({position:{x:4,y:4},fill:{color:this.containerBayItem.obliqueLineColor},stroke:{color:this.containerBayItem.obliqueLineColor,width:6},size:{width:this.originalSize.width-8,height:this.originalSize.height-8}});this.appendChild(b);return b};b.prototype.addSpXMark=function(){var b=new a.Path.XMark({position:{x:1,y:1},fill:{color:this.containerBayItem.obliqueLineColor},stroke:{color:this.containerBayItem.obliqueLineColor,width:1},size:{width:this.originalSize.width-2,height:this.originalSize.height-2}});this.appendChild(b);return b};b.prototype.addInnerLine=function(){var d,h;var b=(d=this.containerBayItem.innerBorderMargin)!==null&&d!==void 0?d:1;var c=new a.Path.Rect({position:{x:b,y:b},size:{width:this.originalSize.width-b*2,height:this.originalSize.height-b*2},fill:{color:this.fill.color},stroke:{color:this.containerBayItem.innerBorderColor,width:(h=this.containerBayItem.innerBorderWidth)!==null&&h!==void 0?h:2},_zoom:this._zoom});c.id='innerRect';this.appendChild(c);return c};b.prototype.addOuterLine=function(){var c,d,h,i;var b=new a.Path.Rect({position:{x:(c=this.containerBayItem.outerBorderMargin)!==null&&c!==void 0?c:0,y:(d=this.containerBayItem.outerBorderMargin)!==null&&d!==void 0?d:0},size:{width:this.originalSize.width-((h=this.containerBayItem.outerBorderMargin)!==null&&h!==void 0?h:0)*2,height:this.originalSize.height-((i=this.containerBayItem.outerBorderMargin)!==null&&i!==void 0?i:0)*2},fill:{color:'#FFFFFF'},stroke:{color:this.containerBayItem.outerBorderColor,width:this.containerBayItem.outerBorderWidth===undefined?1:this.containerBayItem.outerBorderWidth}});b.id='ContainerOuterLine_'+this.id;this.appendChild(b);return b};b.prototype.addRectangle=function(c){var b=new a.Path.Rect(c);this.appendChild(b);return b};b.prototype.addTriangle=function(c){var b=new a.Path.Triangle(c);this.appendChild(b);return b};b.prototype.addInvertedTriangle=function(b){b.position.x+=b.size.width;b.position.y+=b.size.height;b.rotate=180;var c=new a.Path.Triangle(b);this.appendChild(c);return c};b.prototype.addCircleStroke=function(c){var b=new a.Path.Circle(c);this.appendChild(b);return b};b.prototype.addCircleFill=function(c){var b=new a.Path.Circle(c);this.appendChild(b);return b};b.prototype.draw=function(a){a=a===undefined?!1:a;var b=this.getChildById('ContainerOuterLine_'+this.id);if(this.selected){b.isVisible=!1}else {b.isVisible=!0}d.BaseDrawComponent.prototype.draw.call(this,a)};b.prototype.beforeDrawForSelect=function(a){if(a.selected&&!a.select.type.circle){a.outerLine.isVisible=!1}else {a.outerLine.isVisible=!0}};b.prototype.appendChild=function(a){return d.BaseDrawComponent.prototype.appendChild.call(this,a,3)};f.Container=b},'./src/component/countInfo.ts':function(f,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.CountInfo=void 0;var e=d('./src/common/baseDrawComponent.ts');var c=d('./src/path/index.ts');var a=function(g){var a;var c;a=e.BaseDrawComponent.call(this,g)||this;a.countInfo=(c=g.countInfo)!==null&&c!==void 0?c:{isEnabled:!0,data:[0,0,0,0,0,0]};a.addInfoRect();a.addInfoText1();a.addInfoText2();return a};$jscomp.inherits(a,e.BaseDrawComponent);a.prototype.addInfoText2=function(){this.infoText2=new c.Path.Text({size:{width:20,height:10},font:{size:8},position:{x:3,y:12},text:this.countInfo.data[3]+'/'+this.countInfo.data[4]+'/'+this.countInfo.data[5],fill:{color:'#000000'}});this.appendChild(this.infoText2)};a.prototype.addInfoText1=function(){this.infoText1=new c.Path.Text({size:{width:20,height:10},font:{size:8},position:{x:3,y:2},text:this.countInfo.data[0]+'/'+this.countInfo.data[1]+'/'+this.countInfo.data[2],fill:{color:'#000000'}});this.appendChild(this.infoText1)};a.prototype.addInfoRect=function(){this.infoRect=new c.Path.Rect({position:{x:0,y:0},size:{width:25,height:20},fill:{isEnabled:!0,color:'#FFFFFF'},stroke:{width:1,color:'#000000'}});this.appendChild(this.infoRect)};a.prototype.setData=function(c,a){this.countInfo.data[c]=a;this.infoText1.text=this.countInfo.data[0]+'/'+this.countInfo.data[1]+'/'+this.countInfo.data[2];this.infoText2.text=this.countInfo.data[3]+'/'+this.countInfo.data[4]+'/'+this.countInfo.data[5]};b.CountInfo=a},'./src/component/equipment.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.Equipment=void 0;var b=d('./src/common/baseDrawComponent.ts');var c=function(c){return b.BaseDrawComponent.call(this,c)||this};$jscomp.inherits(c,b.BaseDrawComponent);a.Equipment=c},'./src/component/equipment1.ts':function(f,c,d){Object.defineProperty(c,'__esModule',{value:!0});c.Equipment1=void 0;var e=d('./src/common/baseDrawComponent.ts');var b=d('./src/path/index.ts');var a=function(g){var a;a=e.BaseDrawComponent.call(this,g)||this;a.equipmentName=g.equipmentName;a.fill4Equipment=Object.assign({},g.fill);a.stroke4Equipment=Object.assign({},g.stroke);a.fill={isEnabled:!1};a.stroke={width:0,color:'#000000'};a.addEquipmentPath(g);var h=new b.Path.Line({position:{x:-a.size.width/2,y:a.size.height/2},size:{width:20,height:-a.size.height/2},stroke:{width:1,color:'#000000'}});a.appendChild(h);a.addEquipmentRect();a.addEquipmentText();return a};$jscomp.inherits(a,e.BaseDrawComponent);a.prototype.addEquipmentText=function(){var a=new b.Path.Text({font:{size:10},position:{x:-this.size.width/2+25,y:3},size:undefined,text:this.equipmentName,fill:{color:'#FFFF00'}});this.appendChild(a)};a.prototype.addEquipmentRect=function(){var a=new b.Path.Rect({position:{x:-this.size.width/2+20,y:0},size:{width:40,height:14},stroke:{width:1,color:'#000000'},fill:{isEnabled:!0,color:'#000000'}});this.appendChild(a)};a.prototype.addEquipmentPath=function(e){var a=new b.Path.Equipment1(Object.assign({},e,{position:{x:0,y:0},fill:this.fill4Equipment,stroke:this.stroke4Equipment}));this.appendChild(a)};c.Equipment1=a},'./src/component/facilityItem.ts':function(g,c,b){Object.defineProperty(c,'__esModule',{value:!0});c.FacilityItem=void 0;var d=b('./src/common/baseDrawComponent.ts');var e=b('./src/path/index.ts');var f=b('./src/path/text.ts');var a=function(e){var a;a=d.BaseDrawComponent.call(this,e)||this;a.facilityName=e.facilityName;a.FacUse=e.FacUse;a.facilityArea=e.facilityArea;a.deg=e.deg;a.yardID=e.yardID;a.foreColor=e.foreColor;a.foreColorInt=e.foreColorInt;a.backColor=e.backColor;a.backColorInt=e.backColorInt;a.key=e.key;a.addFacilityRect();a.addFacilityText();return a};$jscomp.inherits(a,d.BaseDrawComponent);a.prototype.addFacilityRect=function(){var a=new e.Path.Rect({size:this.size,position:{x:0,y:0},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.appendChild(a)};a.prototype.addFacilityText=function(){var a=new e.Path.Text({position:{x:0,y:0},size:{width:this.size.width,height:this.size.height},text:this.facilityName,fill:{color:'#000000'},font:{size:10},align:f.TextAlign.center,valign:f.TextVAlign.middle});this.appendChild(a)};c.FacilityItem=a},'./src/component/index.ts':function(w,b,a){Object.defineProperty(b,'__esModule',{value:!0});b.Component=void 0;var o=a('./src/component/bayBlock.ts');var p=a('./src/component/blockTop.ts');var d=a('./src/component/blockTop4Layout.ts');var u=a('./src/component/slot.ts');var n=a('./src/component/equipment.ts');var j=a('./src/component/equipment1.ts');var l=a('./src/component/container.ts');var t=a('./src/component/button.ts');var h=a('./src/component/buttonClose.ts');var g=a('./src/component/berthVessel.ts');var c=a('./src/component/berthVessel4side.ts');var k=a('./src/component/berthItem.ts');var f=a('./src/component/berthItem4qc.ts');var s=a('./src/component/bitItem.ts');var i=a('./src/component/bitItem4qc.ts');var v=a('./src/component/qc.ts');var q=a('./src/component/schedule.ts');var m=a('./src/component/countInfo.ts');var e=a('./src/component/selectedBlock.ts');var r;(function(r){r.BayBlock=o.BayBlock;r.BlockTop=p.BlockTop;r.BlockTop4Layout=d.BlockTop4Layout;r.Slot=u.Slot;r.Equipment=n.Equipment;r.Equipment1=j.Equipment1;r.Container=l.Container;r.Button=t.Button;r.ButtonClose=h.ButtonClose;r.BerthVessel=g.BerthVessel;r.BerthVessel4side=c.BerthVessel4side;r.BerthItem=k.BerthItem;r.BerthItem4qc=f.BerthItem4qc;r.BitItem=s.BitItem;r.BitItem4qc=i.BitItem4qc;r.Qc=v.Qc;r.Schedule=q.Schedule;r.CountInfo=m.CountInfo;r.SelectedBlock=e.SelectedBlock})(r=b.Component||(b.Component={}))},'./src/component/qc.ts':function(f,b,c){Object.defineProperty(b,'__esModule',{value:!0});b.Qc=void 0;var d=c('./src/common/baseDrawComponent.ts');var a=c('./src/path/index.ts');var e=function(g){var e;e=d.BaseDrawComponent.call(this,g)||this;e.equipmentName=g.equipmentName;e.fill4Equipment=Object.assign({},g.fill);e.stroke4Equipment=Object.assign({},g.stroke);e.fill.isEnabled=!1;e.stroke.width=0;var h=new a.Path.Rect({position:{x:-8+18,y:0},size:{width:5,height:100},fill:e.fill4Equipment,stroke:e.stroke4Equipment});e.appendChild(h);var i=new a.Path.Rect({position:{x:3+18,y:0},size:{width:5,height:100},fill:e.fill4Equipment,stroke:e.stroke4Equipment});e.appendChild(i);var j=new a.Path.Rect({position:{x:-8+18,y:0},size:{width:16,height:5},fill:e.fill4Equipment,stroke:e.stroke4Equipment});e.appendChild(j);var k=new a.Path.Rect({position:{x:-18+18,y:-10+70},size:{width:5,height:25},fill:e.fill4Equipment,stroke:e.stroke4Equipment});e.appendChild(k);var l=new a.Path.Rect({position:{x:13+18,y:-10+70},size:{width:5,height:25},fill:e.fill4Equipment,stroke:{width:1,color:'#000000'}});e.appendChild(l);var m=new a.Path.Rect({position:{x:0,y:60},size:{width:36,height:5},fill:e.fill4Equipment,stroke:e.stroke4Equipment});e.appendChild(m);var n=new a.Path.Rect({position:{x:0,y:80},size:{width:36,height:5},fill:e.fill4Equipment,stroke:e.stroke4Equipment});e.appendChild(n);return e};$jscomp.inherits(e,d.BaseDrawComponent);b.Qc=e},'./src/component/schedule.ts':function(f,b,c){Object.defineProperty(b,'__esModule',{value:!0});b.Schedule=void 0;var d=c('./src/common/baseDrawComponent.ts');var a=c('./src/path/index.ts');var e=function(g){var e;var h,i,j;e=d.BaseDrawComponent.call(this,g)||this;e.isDrawContainerPlan=(h=g.isDrawContainerPlan)!==null&&h!==void 0?h:!1;e.timeLineVertGap=(i=g.timeLineVertGap)!==null&&i!==void 0?i:5;e.timeGap=(j=g.timeGap)!==null&&j!==void 0?j:3;if(e.isDrawContainerPlan){for(var k=0;k<e.originalSize.height/e.timeLineVertGap;k++){var o=new a.Path.Rect({position:{x:0,y:k*e.timeLineVertGap},size:{width:e.size.width,height:e.timeLineVertGap},stroke:{width:e.stroke.width,color:e.stroke.color},fill:{isEnabled:e.fill.isEnabled,color:e.fill.color}});e.appendChild(o)}e.fill={isEnabled:!1};e.stroke={width:0,color:'#000000'}}if(e.data.IsStoppage){var l=new a.Path.Rect({position:{x:0,y:e.size.height},size:{width:e.size.width,height:e.size.width},fill:{isEnabled:!0,color:'#007777'}});e.appendChild(l);var m=new a.Path.Circle({position:{x:1,y:e.size.height+1},size:{width:e.size.width-2,height:e.size.width-2},fill:{isEnabled:!0,color:'#FFFFFF'}});e.appendChild(m);var n=new a.Path.Rect({position:{x:e.size.width/4,y:e.size.height+e.size.width/4},size:{width:e.size.width/4*2,height:e.size.width/4*2},fill:{isEnabled:!0,color:'#007777'}});e.appendChild(n)}return e};$jscomp.inherits(e,d.BaseDrawComponent);b.Schedule=e},'./src/component/selectedBlock.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.SelectedBlock=void 0;var b=d('./src/common/baseDrawComponent.ts');var c=function(c){return b.BaseDrawComponent.call(this,c)||this};$jscomp.inherits(c,b.BaseDrawComponent);a.SelectedBlock=c},'./src/component/slot.ts':function(g,d,c){Object.defineProperty(d,'__esModule',{value:!0});d.Slot=void 0;var f=c('./src/common/baseDrawComponent.ts');var e=c('./src/common/type.ts');var b=c('./src/path/index.ts');var a=function(b){var a;a=f.BaseDrawComponent.call(this,b)||this;a.data=b.data;a.marking=b.marking;a.slotGap=b.slotGap;a.drawMarkingType();return a};$jscomp.inherits(a,f.BaseDrawComponent);a.prototype.drawMarkingType=function(){var f;var a={width:this.size.width-2,height:this.size.height-2};if(this.marking){switch((f=this.marking)===null||f===void 0?void 0:f.type){case e.MarkingTypes.CIRCLE:this.slotMark=new b.Path.Circle({size:a,fill:this.marking.fill,stroke:this.marking.stroke});break;case e.MarkingTypes.TRIANGLE:this.slotMark=new b.Path.Triangle({size:a,fill:this.marking.fill,stroke:this.marking.stroke});break;case e.MarkingTypes.INVERT_TRIANGLE:this.slotMark=new b.Path.Triangle({size:a,fill:this.marking.fill,stroke:this.marking.stroke,rotate:180,position:{x:this.size.width,y:this.size.height}});break;}this.slotMark.id='slotMark'}if(this.slotMark){this.appendChild(this.slotMark)}};a.prototype.addSlotUsageText=function(e){var a=new b.Path.Text({font:{size:10},maxWidth:0,position:{x:this.originalSize.width*0.32,y:this.originalSize.height*0.32},size:{width:this.originalSize.width*0.5,height:this.originalSize.height*0.5},text:String(e),fill:{color:'rgba(0, 0, 0, 0.5)'}});this.appendChild(a)};a.prototype.clearMarkingType=function(){for(var a=this.children.length-1;a>=0;a--){var b=this.children[a];if(b.id==='slotMark'){this.children.splice(a,1)}}};d.Slot=a},'./src/component/terminalItem.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.TerminalItem=void 0;var b=d('./src/common/baseDrawComponent.ts');var c=function(f){var c;c=b.BaseDrawComponent.call(this,f)||this;c.tmnlCD=f.tmnlCD;c.tmnlNM=f.tmnlCD;c.size=f.size;return c};$jscomp.inherits(c,b.BaseDrawComponent);a.TerminalItem=c},'./src/component/topBlock.ts':function(j,e,c){Object.defineProperty(e,'__esModule',{value:!0});e.TopBlock=void 0;var d=c('./src/common/type.ts');var f=c('./src/common/baseDrawComponent.ts');var h=c('./src/component/slot.ts');var b=c('./src/path/index.ts');var g=c('./src/component/container.ts');var i=c('./src/component/index.ts');var a=function(b){var a;var d;a=f.BaseDrawComponent.call(this,b)||this;a.layout=b.layout;a.slotProps=b.slotProps;a.blockItem=b.blockItem;a.blockGap=(d=b.blockGap)!==null&&d!==void 0?d:20;a.blockName=b.blockName;a.data=b.data;a.ytInfo=b.ytInfo;a.isEnabledLockToolTip=b.isEnabledLockToolTip;a.isVisibleBlockNameText=b.isVisibleBlockNameText;a.isVisibleBayRowLocked=b.isVisibleBayRowLocked;a.lockRects=[];a.surface.addEventListener('mousemove',a.mouseMoveEvent.bind(a));a.bayRowOrder=b.bayRowOrder;a.addSlot();return a};$jscomp.inherits(a,f.BaseDrawComponent);a.prototype.addSlot=function(){var a=this.slotProps.size.width;if(this.isVisibleBlockNameText){this.addBlockNameText()}this.addYtDirectionPath(a);this.addRowText();this.addBayText(a);this.addIsLockedPath();this.addSlots(a)};a.prototype.addSlots=function(g){for(var b=0;b<this.data.maxBay;b++){for(var f=0;f<this.data.maxRow;f++){var a=new h.Slot(Object.assign({},this.slotProps));a.setSize({width:g,height:a.size.height});a.data={blockName:this.blockName,bay:this.bayRowOrder.bay===d.OrderDirection.Asc?b+1:this.data.maxBay-b,row:this.bayRowOrder.row===d.OrderDirection.Desc?f+1:this.data.maxRow-f};a.click=this.click;a.select=this.select;a.setPosition({x:a.position.x+this.blockGap+b*(a.size.width+this.slotProps.slotGap),y:a.position.y+this.blockGap+f*(a.size.height+this.slotProps.slotGap)});a.parent=this;a.id=this.blockName+'-'+a.data.bay+'-'+a.data.row;this.appendChild(a)}}};a.prototype.addIsLockedPath=function(){if(this.isVisibleBayRowLocked){if(this.blockItem.yardLocks){for(var a=1;a<this.blockItem.maxBay;a++){for(var b=1;b<this.blockItem.maxRow;b++){this.addBayLockBar(a);this.addRowLockBar(b)}}}}};a.prototype.addBayLockBar=function(f){var d=this.slotProps.size.height;var a=new b.Path.Rect({stroke:{color:'#FF0000',width:1},fill:{color:'#FF0000'},position:{x:this.blockGap-2,y:this.blockGap+f*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:2,height:d}});this.appendChild(a);this.lockRects.push(a);this.hasLock=!0};a.prototype.addRowLockBar=function(f){var a=this.slotProps.size.width;var d=new b.Path.Rect({stroke:{color:'#FF0000',width:1},fill:{color:'#FF0000'},position:{x:this.blockGap+(f-1)*(a+this.slotProps.slotGap),y:this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)},size:{width:a,height:2}});this.appendChild(d);this.lockRects.push(d);this.hasLock=!0};a.prototype.addBayText=function(f){for(var a=1;a<=this.data.maxBay;a++){if(!!this.blockItem.bayList[this.data.maxBay]){var g=a;if(this.bayRowOrder.bay==d.OrderDirection.Desc){g=this.data.maxRow-a+1}var h=new b.Path.Text({font:{size:10},maxWidth:0,position:{x:this.blockGap+(a-1)*(f+this.slotProps.slotGap)+f/2-7,y:this.blockGap+this.data.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+3},size:{width:6,height:6},text:this.blockItem.bayList[a].name2,fill:{color:'#000000'}});this.appendChild(h)}}};a.prototype.addRowText=function(){for(var a=1;a<=this.data.maxRow;a++){var f=a;if(this.bayRowOrder.row==d.OrderDirection.Asc){f=this.data.maxRow-a+1}var g=new b.Path.Text({font:{size:10},maxWidth:0,position:{x:8,y:this.blockGap+(this.blockItem.maxRow-a)*(this.slotProps.size.height+this.slotProps.slotGap)+5},size:{width:6,height:6},text:this.blockItem.rowList[f].name,fill:{color:'#000000'}});this.appendChild(g)}};a.prototype.addYtDirectionPath=function(f){if(this.blockItem.ytPos==='S'){var d=new b.Path.Triangle(Object.assign({},{position:{x:10,y:this.blockGap+this.blockItem.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+5},rotate:this.blockItem.ytEnter==='E'?90:-90,id:'YTDIR-'+this.blockName},this.ytInfo));this.appendChild(d)}else {if(this.blockItem.ytPos==='E'){var a=new b.Path.Triangle(Object.assign({},{position:{x:this.blockGap+this.blockItem.maxBay*(f+this.slotProps.slotGap),y:this.blockGap+this.blockItem.maxRow*(this.slotProps.size.height+this.slotProps.slotGap)+5},rotate:this.blockItem.ytEnter==='E'?90:-90,id:'YTDIR-'+this.blockName},this.ytInfo));this.appendChild(a)}}};a.prototype.addEquipment=function(){var a=new i.Component.Equipment({stackInfo:undefined,position:{x:0,y:0},size:{width:this.originalSize.width-0,height:this.originalSize.height-0},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'}});var d=new b.Path.Equipment0({position:{x:0,y:0},size:{width:this.originalSize.width-0,height:this.originalSize.height-0},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'}});this.appendChild(a)};a.prototype.addBlockNameText=function(){var a=new b.Path.Text({font:{size:12},maxWidth:0,position:{x:20,y:7},size:{width:6,height:6},text:this.blockName,fill:{color:'#000000'}});this.appendChild(a)};a.prototype.findSlotById=function(d){for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof h.Slot&&a.id===d){return a}}};a.prototype.getSlot=function(a,b,d){return this.findSlotById(a+'-'+b+'-'+d)};a.prototype.findContainerById=function(f){var d=[];for(var b=0;b<this.children.length;b++){var a=this.children[b];if(a instanceof g.Container&&a.id===f){d.push(a)}}return d};a.prototype.removeContainer=function(d){for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b instanceof g.Container&&b.id===d){this.children.splice(a,1);break}}};a.prototype.mouseMoveEvent=function(d){if(!this.isEnabledLockToolTip){return}var b=!1;for(var a=0;a<this.lockRects.length;a++){var f=this.lockRects[a];if(f.isPointInDrawArea(d)){b=!0}}if(b){this.mouseoverProcess(d)}};e.TopBlock=a},'./src/index.ts':function(e,a,b){var d=this&&this.__createBinding||(Object.create?function(g,f,d,c){if(c===undefined){c=d}Object.defineProperty(g,c,{enumerable:!0,get:function(){return f[d]}})}:function(g,f,d,c){if(c===undefined){c=d}g[c]=f[d]});var c=this&&this.__exportStar||function(g,f){for(var c in g){if(c!=='default'&&!Object.prototype.hasOwnProperty.call(f,c)){d(f,g,c)}}};Object.defineProperty(a,'__esModule',{value:!0});c(b('./src/path/index.ts'),a);c(b('./src/common/index.ts'),a);c(b('./src/layoutDescription/slotLayoutDescription.ts'),a);c(b('./src/component/index.ts'),a);c(b('./src/view/index.ts'),a)},'./src/layoutDescription/layoutDescription.ts':function(e,a,b){Object.defineProperty(a,'__esModule',{value:!0});a.LayoutDescription=void 0;var d=b('./src/common/function.ts');var c=function(c){var f,g,h,i,j,k,l;this.parent_surface=c.parent_surface;this.margin={};this.margin.top=((f=c.margin)===null||f===void 0?void 0:f.top)||0;this.margin.bottom=((g=c.margin)===null||g===void 0?void 0:g.bottom)||0;this.margin.left=((h=c.margin)===null||h===void 0?void 0:h.left)||0;this.margin.right=((i=c.margin)===null||i===void 0?void 0:i.right)||0;this.rotate=c.rotate||0;this.fill={};this.fill.color=((j=c.fill)===null||j===void 0?void 0:j.color)||'#FFFFFF';this.stroke={};this.stroke.color=((k=c.stroke)===null||k===void 0?void 0:k.color)||'#000000';this.stroke.width=((l=c.stroke)===null||l===void 0?void 0:l.width)||1;this.z_index=c.z_index;this.id=c.id||d.generateUUID();this.ctx=c.ctx||null;this.children=c.children||new Map()};a.LayoutDescription=c},'./src/layoutDescription/slotLayoutDescription.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.SlotLayoutDescription=void 0;var c=d('./src/layoutDescription/layoutDescription.ts');var b=function(b){return c.LayoutDescription.apply(this,arguments)||this};$jscomp.inherits(b,c.LayoutDescription);a.SlotLayoutDescription=b},'./src/path/boundaryText.ts':function(h,a,e){Object.defineProperty(a,'__esModule',{value:!0});a.BoundaryText=a.BoundaryTextVAlign=a.BoundaryTextAlign=void 0;var f=e('./src/common/drawable.ts');var g=e('./src/path/rect.ts');var d;(function(b){b[b['left']=0]='left';b[b['center']=1]='center';b[b['right']=2]='right'})(d=a.BoundaryTextAlign||(a.BoundaryTextAlign={}));var c;(function(b){b[b['top']=0]='top';b[b['middle']=1]='middle';b[b['bottom']=2]='bottom'})(c=a.BoundaryTextVAlign||(a.BoundaryTextVAlign={}));var b=function(g){var b;var i,j,k;b=f.Drawable.call(this,g)||this;b.font={};b.screenSize={};b.font.name=((i=g.font)===null||i===void 0?void 0:i.name)||'Arial';b.font.size=((j=g.font)===null||j===void 0?void 0:j.size)||12;b.originalFontSize=b.font.size;b.font.weight=((k=g.font)===null||k===void 0?void 0:k.weight)||'';b.text=g.text||'';b.maxWidth=g.maxWidth;b.background=g.background||undefined;b.align=g.align||d.left;b.valign=g.valign||c.top;return b};$jscomp.inherits(b,f.Drawable);b.prototype.setFontSize=function(b){this.font.size=b;this.originalFontSize=b};b.prototype.calculateScreenSize=function(){this.ctx.textBaseline='top';this.ctx.fillStyle=this.fill.color;this.ctx.font=this.font.weight+' '+this.originalFontSize*this._zoom*this.multipleResizeTo+'px '+this.font.name;var b=this.ctx.measureText(this.text);this.screenSize.width=b.width;this.screenSize.height=b.actualBoundingBoxAscent+b.actualBoundingBoxDescent*1.4};b.prototype.drawPath=function(){var f,i;var b={x:0,y:0};if(this.align!==d.left){this.calculateScreenSize();if(this.align===d.center){b.x=(this.size.width-this.screenSize.width)/2}else {b.x=this.size.width-this.screenSize.width}}if(this.valign!==c.top){this.calculateScreenSize();if(this.valign===c.middle){b.y=(this.size.height-this.screenSize.height)/2}else {b.y=this.size.height-this.screenSize.height}}if((f=this.background)===null||f===void 0?void 0:f.isEnabled){if(!this.backGroundRect){this.backGroundRect=new g.Rect({position:{x:0,y:0},size:{width:0,height:0},fill:{color:(i=this.background)===null||i===void 0?void 0:i.color},stroke:{color:'#FF0000',width:0}});this.backGroundRect.ctx=this.ctx}if(this.background.isFitToSize){this.calculateScreenSize();this.backGroundRect.setPosition({x:0,y:-(this.screenSize.height*0.1)});this.backGroundRect.setSize(this.screenSize)}else {this.backGroundRect.setSize(this.size)}this.backGroundRect.draw()}this.ctx.textBaseline='top';this.ctx.fillStyle=this.fill.color;this.ctx.font=this.font.weight+' '+this.originalFontSize*this._zoom*this.multipleResizeTo+'px '+this.font.name;this.ctx.fillText(this.text,b.x,b.y)};a.BoundaryText=b},'./src/path/circle.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.Circle=void 0;var c=d('./src/common/drawable.ts');var b=function(b){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(b,c.Drawable);b.prototype.drawPath=function(){this.path.ellipse(this.size.width/2,this.size.height/2,this.size.width/2-this.stroke.width,this.size.height/2-this.stroke.width,0,0,360)};a.Circle=b},'./src/path/closeMark.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.closeMark=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.beginPath();this.path.moveTo(this.size.width*0.2,this.size.height*0.2);this.path.lineTo(this.size.width-this.size.width*0.2,this.size.height-this.size.height*0.2);this.path.moveTo(this.size.width*0.2,this.size.height-this.size.height*0.2);this.path.lineTo(this.size.width-this.size.width*0.2,this.size.height*0.2);this.ctx.stroke()};b.closeMark=a},'./src/path/equipment0.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.Equipment0=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(0,this.size.height*0.9);this.path.lineTo(0,this.size.height*0.01);this.path.lineTo(this.size.width-3,this.size.height*0.01);this.path.lineTo(this.size.width-3,this.size.height*0.9);this.path.lineTo(this.size.width-6,this.size.height*0.9);this.path.lineTo(this.size.width-6,this.size.height*0.03);this.path.lineTo(3,this.size.height*0.03);this.path.lineTo(3,this.size.height*0.9)};b.Equipment0=a},'./src/path/equipment1.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.Equipment1=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(-(this.size.width/2),0);this.path.lineTo(this.size.width/2,0);this.path.lineTo(this.size.width/2,5);this.path.lineTo(1,5);this.path.lineTo(1,this.size.height-5);this.path.lineTo(this.size.width/2,this.size.height-5);this.path.lineTo(this.size.width/2,this.size.height);this.path.lineTo(-(this.size.width/2),this.size.height);this.path.lineTo(-(this.size.width/2),this.size.height-5);this.path.lineTo(-1,this.size.height-5);this.path.lineTo(-1,5);this.path.lineTo(-(this.size.width/2),5);this.path.moveTo(-(this.size.width/2),0)};b.Equipment1=a},'./src/path/equipment1Name.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.Equipment1Name=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(-(this.size.width/2),this.size.height/2);this.path.lineTo(20,0)};b.Equipment1Name=a},'./src/path/equipment2.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.Equipment2=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){var a=4;this.path.moveTo(-(this.size.width/2),0);this.path.lineTo(-(this.size.width/2),this.size.height);this.path.lineTo(-(this.size.width/2)+a,this.size.height);this.path.lineTo(-(this.size.width/2)+a,0);this.path.lineTo(-(this.size.width/2),0);this.path.moveTo(this.size.width/2,0);this.path.lineTo(this.size.width/2,this.size.height);this.path.lineTo(this.size.width/2-a,this.size.height);this.path.lineTo(this.size.width/2-a,0);this.path.lineTo(this.size.width/2,0);this.path.moveTo(-(this.size.width/2),this.size.height*0.2);this.path.lineTo(-(this.size.width/2),this.size.height*0.2+a);this.path.lineTo(this.size.width/2,this.size.height*0.2+a);this.path.lineTo(this.size.width/2,this.size.height*0.2);this.path.lineTo(-(this.size.width/2),this.size.height*0.2);this.path.moveTo(-(this.size.width/2),this.size.height*0.8);this.path.lineTo(-(this.size.width/2),this.size.height*0.8-a);this.path.lineTo(this.size.width/2,this.size.height*0.8-a);this.path.lineTo(this.size.width/2,this.size.height*0.8);this.path.lineTo(-(this.size.width/2),this.size.height*0.8)};b.Equipment2=a},'./src/path/equipment3.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.Equipment3=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.strokeStyle=this.fill.color;this.ctx.strokeRect(-this.size.width/2,0,this.size.width,this.size.height)};b.Equipment3=a},'./src/path/index.ts':function(C,b,a){Object.defineProperty(b,'__esModule',{value:!0});b.Path=void 0;var w=a('./src/path/circle.ts');var z=a('./src/path/rect.ts');var v=a('./src/path/triangle.ts');var k=a('./src/path/righttriangle.ts');var A=a('./src/path/text.ts');var m=a('./src/path/boundaryText.ts');var x=a('./src/path/xmark.ts');var t=a('./src/path/closeMark.ts');var n=a('./src/path/obliqueLine.ts');var s=a('./src/path/unsyncLine.ts');var y=a('./src/path/line.ts');var u=a('./src/path/lineDash.ts');var o=a('./src/path/equipment0.ts');var p=a('./src/path/equipment1.ts');var q=a('./src/path/equipment2.ts');var r=a('./src/path/equipment3.ts');var j=a('./src/path/equipment1Name.ts');var h=a('./src/path/vesselDeckHouse.ts');var l=a('./src/path/vesselOutline.ts');var f=a('./src/path/vesselOutline4side.ts');var i=a('./src/path/vesselPropeller.ts');var g=a('./src/path/vesselPropeller2.ts');var e=a('./src/path/vesselDeckHouse4side.ts');var c=a('./src/path/vesselDeckHouse4side2.ts');var d=a('./src/path/vesselDeckHouse4side3.ts');var B;(function(B){B.Circle=w.Circle;B.Rect=z.Rect;B.Triangle=v.Triangle;B.RightTriangle=k.RightTriangle;B.Text=A.Text;B.BoundaryText=m.BoundaryText;B.XMark=x.XMark;B.closeMark=t.closeMark;B.ObliqueLine=n.ObliqueLine;B.UnsyncLine=s.UnsyncLine;B.Line=y.Line;B.LineDash=u.LineDash;B.Equipment0=o.Equipment0;B.Equipment1=p.Equipment1;B.Equipment2=q.Equipment2;B.Equipment3=r.Equipment3;B.Equipment1Name=j.Equipment1Name;B.VesselDeckHouse=h.VesselDeckHouse;B.VesselOutline=l.VesselOutline;B.VesselOutline4side=f.VesselOutline4side;B.VesselPropeller=i.VesselPropeller;B.VesselPropeller2=g.VesselPropeller2;B.VesselDeckHouse4side=e.VesselDeckHouse4side;B.VesselDeckHouse4side2=c.VesselDeckHouse4side2;B.VesselDeckHouse4side3=d.VesselDeckHouse4side3})(B=b.Path||(b.Path={}))},'./src/path/line.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.Line=void 0;var c=d('./src/common/drawable.ts');var b=function(b){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(b,c.Drawable);b.prototype.drawPath=function(){this.path.moveTo(0,0);this.path.lineTo(this.size.width,this.size.height)};a.Line=b},'./src/path/lineDash.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.LineDash=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.setLineDash([2,2]);this.path.moveTo(0,0);this.path.lineTo(this.size.width,this.size.height)};b.LineDash=a},'./src/path/obliqueLine.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.ObliqueLine=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.beginPath();this.path.moveTo(0,this.size.height);this.path.lineTo(this.size.width,0);this.ctx.stroke()};b.ObliqueLine=a},'./src/path/rect.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.Rect=void 0;var c=d('./src/common/drawable.ts');var b=function(b){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(b,c.Drawable);b.prototype.drawPath=function(){this.path.rect(this.stroke.width/2,this.stroke.width/2,this.size.width-this.stroke.width,this.size.height-this.stroke.width)};a.Rect=b},'./src/path/righttriangle.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.RightTriangle=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(0+(this.size.width-this.stroke.width)/2,this.stroke.width);this.path.lineTo(0+(this.size.width-this.stroke.width)/2,this.size.height-this.stroke.width/2);this.path.lineTo(this.stroke.width/2,this.size.height-this.stroke.width/2);this.path.lineTo(0+(this.size.width-this.stroke.width)/2,this.stroke.width)};b.RightTriangle=a},'./src/path/text.ts':function(h,a,e){Object.defineProperty(a,'__esModule',{value:!0});a.Text=a.TextVAlign=a.TextAlign=void 0;var f=e('./src/common/drawable.ts');var g=e('./src/path/rect.ts');var d;(function(b){b[b['left']=0]='left';b[b['center']=1]='center';b[b['right']=2]='right'})(d=a.TextAlign||(a.TextAlign={}));var c;(function(b){b[b['top']=0]='top';b[b['middle']=1]='middle';b[b['bottom']=2]='bottom'})(c=a.TextVAlign||(a.TextVAlign={}));var b=function(g){var b;var i,j,k;b=f.Drawable.call(this,g)||this;b.font={};b.screenSize={};b.font.name=((i=g.font)===null||i===void 0?void 0:i.name)||'Arial';b.font.size=((j=g.font)===null||j===void 0?void 0:j.size)||12;b.originalFontSize=b.font.size;b.font.weight=((k=g.font)===null||k===void 0?void 0:k.weight)||'';b.text=g.text||'';b.maxWidth=g.maxWidth;b.background=g.background||undefined;b.align=g.align||d.left;b.valign=g.valign||c.top;return b};$jscomp.inherits(b,f.Drawable);b.prototype.setFontSize=function(b){this.font.size=b;this.originalFontSize=b};b.prototype.calculateScreenSize=function(){this.ctx.textBaseline='top';this.ctx.fillStyle=this.fill.color;this.ctx.font=this.font.weight+' '+this.originalFontSize*this._zoom*this.multipleResizeTo+'px '+this.font.name;var b=this.ctx.measureText(this.text);this.screenSize.width=b.width;this.screenSize.height=b.actualBoundingBoxAscent+b.actualBoundingBoxDescent*1.4};b.prototype.drawPath=function(){var f,i;var b={x:0,y:0};if(this.align!==d.left){this.calculateScreenSize();if(this.align===d.center){b.x=(this.size.width-this.screenSize.width)/2}else {b.x=this.size.width-this.screenSize.width}}if(this.valign!==c.top){this.calculateScreenSize();if(this.valign===c.middle){b.y=(this.size.height-this.screenSize.height)/2}else {b.y=this.size.height-this.screenSize.height}}if((f=this.background)===null||f===void 0?void 0:f.isEnabled){if(!this.backGroundRect){this.backGroundRect=new g.Rect({position:{x:0,y:0},size:{width:0,height:0},fill:{color:(i=this.background)===null||i===void 0?void 0:i.color},stroke:{color:'#FF0000',width:0}});this.backGroundRect.ctx=this.ctx}if(this.background.isFitToSize){this.calculateScreenSize();this.backGroundRect.setPosition({x:0,y:-(this.screenSize.height*0.1)});this.backGroundRect.setSize(this.screenSize)}else {this.backGroundRect.setSize(this.size)}this.backGroundRect.draw()}this.ctx.textBaseline='top';this.ctx.fillStyle=this.fill.color;this.ctx.font=this.font.weight+' '+this.originalFontSize*this._zoom*this.multipleResizeTo+'px '+this.font.name;this.ctx.fillText(this.text,b.x,b.y)};a.Text=b},'./src/path/triangle.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.Triangle=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(0+(this.size.width-this.stroke.width)/2,this.stroke.width);this.path.lineTo(this.size.width-this.stroke.width,this.size.height-this.stroke.width/2);this.path.lineTo(this.stroke.width/2,this.size.height-this.stroke.width/2);this.path.lineTo(0+(this.size.width-this.stroke.width)/2,this.stroke.width)};b.Triangle=a},'./src/path/unsyncLine.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.UnsyncLine=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.beginPath();this.path.moveTo(0,0);this.path.lineTo(this.size.width,this.size.height);this.ctx.stroke()};b.UnsyncLine=a},'./src/path/vesselBow.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselBow=void 0;var c=d('./src/common/drawable.ts');var a=function(f){var a;var g,h;a=c.Drawable.call(this,f)||this;a.bowWidth=(g=f.bowWidth)!==null&&g!==void 0?g:50;a.lcgHeight=(h=f.lcgHeight)!==null&&h!==void 0?h:50;return a};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.scale(1,this.size.height/51.85);this.path.addPath(new Path2D('m -9.7119127,-2.4471248 c 2.4525809,2.67233959 3.442966,6.296481 4.6553693,9.6571271 1.88606,5.2279467 3.4626093,10.6511017 '+'4.0146515,16.1793607 0.14654383,1.467524 0.21859845,3.00416 -0.1954613,4.420029 -0.457064,1.562918 -1.5846479,2.848862 -2.4483162,4.230656 '+'-1.6794083,2.686913 -4.4135032,4.84879 -5.3098775,7.885669 -0.4467427,1.513543 -0.5576003,3.292354 0.089597,4.732167'+' 1.3116894,2.918116 4.189093,5.092837 7.0602609,6.520059 0.5646942,0.280703 1.86321404,0.334086 1.86321404,0.134086'));this.path.addPath(new Path2D('M 0,0 V -2.4670443 H -9.7933462'));this.path.addPath(new Path2D('M -3.3810182,-2.4945013 V -6.9829658 H -3.890805 v -4.0306532 h -1.3701635 v 3.9923746 h -0.5433409 v 4.5357121'));this.path.addPath(new Path2D('m -4.5149463,-10.963528 c 0,-1.996187 0,-3.992375 0,-5.988563'));this.path.addPath(new Path2D('m -5.9009748,-13.904657 c 0.8740699,0 1.74814,0 2.62221,0'))};b.VesselBow=a},'./src/path/vesselDeckHouse.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselDeckHouse=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(this.ctx.lineWidth/2,this.ctx.lineWidth/2);this.path.lineTo(this.size.width/2,this.ctx.lineWidth/2);this.path.lineTo(this.size.width/2,this.size.height/4);this.path.lineTo(this.size.width-this.ctx.lineWidth/2,this.size.height/4);this.path.lineTo(this.size.width-this.ctx.lineWidth/2,this.size.height/4*3);this.path.lineTo(this.size.width/2,this.size.height/4*3);this.path.lineTo(this.size.width/2,this.size.height-this.ctx.lineWidth/2);this.path.lineTo(this.ctx.lineWidth/2,this.size.height-this.ctx.lineWidth/2);this.path.lineTo(this.ctx.lineWidth/2,this.ctx.lineWidth/2)};b.VesselDeckHouse=a},'./src/path/vesselDeckHouse4side.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselDeckHouse4side=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.call(this,a)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.scale(this.size.width/17.462,this.size.height/34.623);this.path.ellipse(4.6213689,-33.547157,0.61421132,0.94494045,0,0,360);this.path.addPath(new Path2D('M 0.13288296,-0.00176509 V -23.908762 H 9.298793 v 6.803567 h 8.032 v 17.10342991'));this.path.addPath(new Path2D('m 0.22736296,-24.003256 v -2.362351 H 8.070383 v 2.456845'));this.path.addPath(new Path2D('m 10.338233,-17.010695 v -12.000746 h 3.68527 c 0,0 1.83767,4.97832 1.95826,7.308357 v 4.692389'));this.path.addPath(new Path2D('m 4.668583,-26.365607 v -6.331102'));this.path.addPath(new Path2D('m 3.440173,-30.806828 h 2.55132'));this.ctx.scale(1,1)};b.VesselDeckHouse4side=a},'./src/path/vesselDeckHouse4side2.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselDeckHouse4side2=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.call(this,a)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.scale(this.size.width/17.462,this.size.height/34.623);this.path.rect(12.394531,-25.420671,0.5954266,0.8898809);this.path.addPath(new Path2D('m 12.678523,-25.919353 v 2.873147'));this.path.addPath(new Path2D('m 11.392283,-24.415962 h 2.60588'))};b.VesselDeckHouse4side2=a},'./src/path/vesselDeckHouse4side3.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselDeckHouse4side3=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.call(this,a)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.scale(this.size.width/17.462,this.size.height/34.623);this.path.rect(1.102417,-22.210993,1.4699824,2.0713389);this.path.rect(3.85849,-22.210993,1.4699824,2.0713389);this.path.rect(6.7609258,-22.210993,1.4699824,2.0713389);this.path.rect(1.102417,-18.817324,1.4699824,2.0713389);this.path.rect(3.85849,-18.817324,1.4699824,2.0713389);this.path.rect(6.7609258,-18.817324,1.4699824,2.0713389);this.path.rect(1.102417,-15.476449,1.4699824,2.0713389);this.path.rect(3.85849,-15.476449,1.4699824,2.0713389);this.path.rect(6.7609258,-15.476449,1.4699824,2.0713389);this.path.rect(9.7218628,-15.476449,1.4699824,2.0713389);this.path.rect(1.102417,-12.059068,1.4699824,2.0713389);this.path.rect(3.85849,-12.059068,1.4699824,2.0713389);this.path.rect(6.7609258,-12.059068,1.4699824,2.0713389);this.path.rect(9.7218628,-12.059068,1.4699824,2.0713389);this.path.rect(12.528198,-12.059068,1.4699824,2.0713389);this.path.rect(1.102417,-8.5845652,1.4699824,2.0713389);this.path.rect(3.85849,-8.5845652,1.4699824,2.0713389);this.path.rect(6.7609258,-8.5845652,1.4699824,2.0713389);this.path.rect(9.7218628,-8.5845652,1.4699824,2.0713389);this.path.rect(12.528198,-8.5845652,1.4699824,2.0713389);this.path.rect(1.102417,-3.5064476,1.4699824,2.0713389);this.path.rect(3.85849,-3.5064476,1.4699824,2.0713389);this.path.rect(6.7609258,-3.5064476,1.4699824,2.0713389);this.path.rect(9.7218628,-3.5064476,1.4699824,2.0713389);this.path.rect(12.528198,-3.5064476,1.4699824,2.0713389);this.path.addPath(new Path2D('m 0.26511296,-5.0389152 16.94029004,0.0668'))};b.VesselDeckHouse4side3=a},'./src/path/vesselOutline.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselOutline=void 0;var c=d('./src/common/drawable.ts');var a=function(f){var a;a=c.Drawable.call(this,f)||this;a.bowWidth=f.bowWidth||50;return a};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(this.bowWidth,this.ctx.lineWidth/2);this.path.lineTo(this.size.width,this.ctx.lineWidth/2);this.path.lineTo(this.size.width,this.size.height-this.ctx.lineWidth/2);this.path.lineTo(this.bowWidth,this.size.height-this.ctx.lineWidth/2);this.path.ellipse(this.bowWidth,this.size.height/2,this.bowWidth-this.ctx.lineWidth/2,this.size.height/2-this.ctx.lineWidth/2,0,Math.PI/2,Math.PI/2*3)};b.VesselOutline=a},'./src/path/vesselOutline4side.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselOutline4side=void 0;var c=d('./src/common/drawable.ts');var a=function(f){var a;var g,h;a=c.Drawable.call(this,f)||this;a.bowWidth=(g=f.bowWidth)!==null&&g!==void 0?g:50;a.lcgHeight=(h=f.lcgHeight)!==null&&h!==void 0?h:50;return a};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.path.moveTo(0,this.ctx.lineWidth/2);this.path.lineTo(this.size.width,this.ctx.lineWidth/2);this.path.lineTo(this.size.width,this.size.height/3*2-this.ctx.lineWidth/2);this.path.moveTo(this.size.width/30*29,this.size.height-this.ctx.lineWidth/2);this.path.lineTo(0,this.size.height-this.ctx.lineWidth/2)};b.VesselOutline4side=a},'./src/path/vesselPropeller.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselPropeller=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.call(this,a)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.scale(this.size.width/16.989,this.size.height/22.351);this.path.addPath(new Path2D('m 0.00368021,0.00118194 c 0,0 5.66964989,-4.15773994 6.04763989,-7.37053994 0.37795,-3.21279 -0.35436,-6.16573 -2.29151,-9.00055 v -2.8112 c 0,0 0.92134,-2.22061 2.24425,-2.92932 H 16.82363'));this.path.addPath(new Path2D('m 10.02007,-22.063178 c 0,0 1.08667,17.10342 3.35452,22.4895799 h 2.92933 V -19.275608 h -4.06325 v -2.78757'))};b.VesselPropeller=a},'./src/path/vesselPropeller2.ts':function(e,b,d){Object.defineProperty(b,'__esModule',{value:!0});b.VesselPropeller2=void 0;var c=d('./src/common/drawable.ts');var a=function(a){return c.Drawable.call(this,a)||this};$jscomp.inherits(a,c.Drawable);a.prototype.drawPath=function(){this.ctx.scale(this.size.width/16.989,this.size.height/22.351);this.path.rect(6.2402873,-10.771144,2.3623469,2.7403262);this.path.rect(6.901755,-19.464588,1.0866816,20.127232);this.path.rect(8.5554113,-10.298672,0.70870537,1.6536458)};b.VesselPropeller2=a},'./src/path/xmark.ts':function(e,a,d){Object.defineProperty(a,'__esModule',{value:!0});a.XMark=void 0;var c=d('./src/common/drawable.ts');var b=function(b){return c.Drawable.apply(this,arguments)||this};$jscomp.inherits(b,c.Drawable);b.prototype.drawPath=function(){this.ctx.beginPath();this.path.moveTo(0,0);this.path.lineTo(this.size.width,this.size.height);this.path.moveTo(0,this.size.height);this.path.lineTo(this.size.width,0);this.ctx.stroke()};a.XMark=b},'./src/view/baseView.ts':function(e,a,b){Object.defineProperty(a,'__esModule',{value:!0});a.BaseView=void 0;var c=b('./src/common/renderer.ts');var d=function(d){var f;this.layout=(f=d.layout)!==null&&f!==void 0?f:new Map();this.data=d.data;this.event=d.event;this.renderer=new c.Renderer({surface:document.body,position:{x:this.layout.position.x,y:this.layout.position.y},size:{width:this.layout.size.width,height:this.layout.size.height}})};a.BaseView=d},'./src/view/bayView.ts':function(g,c,b){Object.defineProperty(c,'__esModule',{value:!0});c.BayView=void 0;var e=b('./src/component/index.ts');var d=b('./src/view/baseView.ts');var f=b('./src/common/renderer.ts');var a=function(a){return d.BaseView.call(this,a)||this};$jscomp.inherits(a,d.BaseView);a.prototype.setBlockName=function(a){this.blockName=a};a.prototype.draw=function(d){if(d){this.blockName=d}var a=new f.Renderer(this.layout.bayView);var h=new e.Component.BayBlock({layout:this.layout.bayBlockLayout,blockDefine:this.data[this.blockName]});a.addDrawComponent(h);a.draw()};c.BayView=a},'./src/view/bayViewRenderer.ts':function(j,f,d){Object.defineProperty(f,'__esModule',{value:!0});f.BayViewRenderer=void 0;var c=d('./src/common/type.ts');var e=d('./src/component/bayBlock.ts');var g=d('./src/component/container.ts');var h=d('./src/common/renderer.ts');var i=d('./src/common/baseDrawComponent.ts');var b=d('./src/component/index.ts');var a=function(b){var a;var c,e;a=h.Renderer.call(this,b)||this;a.viewDir=b.viewDir;a.blockName=b.blockName;a.yardDefine=b.yardDefine;a.bayBlockLayoutDescription=b.bayBlockLayoutDescription;a.selectedBlockBayList=b.selectedBlockBayList;a.blockGap=((c=b.bayBlockProps)===null||c===void 0?void 0:c.blockGap)===undefined?20:(e=b.bayBlockProps)===null||e===void 0?void 0:e.blockGap;a.viewType=b.viewType;a.isSelectMode=b.isSelectMode;a.isSelectContainer=b.isSelectContainer;a.isSelectSlot=b.isSelectSlot;a.isSelectBlock=b.isSelectBlock;a.isFitToSize=b.isFitToSize;a.isFitToFill=b.isFitToFill;a.closeButtonClick=b.closeButtonClick;a.bayBlockProps=Object.assign({},Object.assign({},b.bayBlockProps),{surface:a.surface,viewDir:a.viewDir,click:a.click,select:a.select,layout:a.bayBlockLayoutDescription,bayRow:a.yardDefine[a.blockName].maxRow,size:{width:a.surface.clientWidth,height:a.surface.clientHeight},blockItem:a.yardDefine[a.blockName],blockGap:a.blockGap,blockName:a.blockName,isFitToSize:a.isFitToSize,isFitToFill:a.isFitToFill,parent:a});a.bayBlockProps.stackInfo.clientWidth=a.surface.clientWidth;a.bayBlockProps.stackInfo.clientHeight=a.surface.clientHeight;if(!a.isSelectMode){a.clearBayBlock();a.addBayBlockList()}a.isMultiSelect=b.isMultiSelect;return a};$jscomp.inherits(a,h.Renderer);a.prototype.rightClickEvent=function(a){a.preventDefault();this.checkAndProcessClick(a,this)};a.prototype.checkAndProcessSelect=function(v){if(this.select.isEnabled){if(!this.isMultiSelect){this.clearSelectedCheckList(this)}if(this.dragInfo.dragging){this.selectedDiv.style.display='none';this.selectedList=[];this.searchSelectedObject(this.dragInfo.drawArea,v);var r=this.selectAllComponent(this.selectedList);if(r){return}}for(var m=this.selectedList.length-1;m>=0;m--){var c=this.selectedList[m];if(c instanceof b.Component.Slot&&c.parent instanceof e.BayBlock){var s=c.parent;if(s.getIsLocked(c.data.bayRow)){this.selectedList.splice(m,1)}}}var p=!1;for(var n=0;n<this.selectedList.length;n++){var t=this.selectedList[n];if(t instanceof b.Component.Container){p=!0}}if(!this.isSelectContainer){for(var g=this.selectedList.length-1;g>=0;g--){if(this.selectedList[g] instanceof b.Component.Container){this.selectedList.splice(g,1)}}}if(!this.isSelectSlot){for(var h=this.selectedList.length-1;h>=0;h--){if(this.selectedList[h] instanceof b.Component.Slot){this.selectedList.splice(h,1)}}}if(!this.select.isEnabled){for(var i=this.selectedList.length-1;i>=0;i--){if(this.selectedList[i]===this){this.selectedList.splice(i,1)}}}if(this.isSelectBlock){for(var k=this.selectedList.length-1;k>=0;k--){var q=this.selectedList[k];if(q instanceof b.Component.Container||q instanceof b.Component.Slot){this.selectedList.splice(k,1)}}}else {if(p&&this.isSelectContainer){for(var l=this.selectedList.length-1;l>=0;l--){var u=this.selectedList[l];if(u instanceof b.Component.Slot){this.selectedList.splice(l,1)}}}}if(this.selectedList.length>0){for(var o=0;o<this.selectedList.length;o++){var a=this.selectedList[o];if(a instanceof b.Component.Container){if(a.containerBayItem.planSequence!=null){a.selected=!0}a.select.type.circle=this.select.type.circle}if(a instanceof b.Component.Container&&this.isSelectContainer||a instanceof b.Component.Slot&&this.isSelectSlot||a instanceof b.Component.BayBlock&&this.isSelectBlock){a.checkSelected()}}}}this.dragInfo.dragging=!1};a.prototype.checkAndProcessClick=function(a,z){if(this.click.isEnabled){if(!this.isMultiSelect){this.clearSelectedCheckList(this)}this.clickedList=[];this.searchClickedObject(a,z);for(var r=this.clickedList.length-1;r>=0;r--){var t=this.clickedList[r];if(t instanceof b.Component.ButtonClose){this.closeButtonClick(t)}}for(var i=this.clickedList.length-1;i>=0;i--){var h=this.clickedList[i];if(h instanceof b.Component.Slot&&h.parent instanceof e.BayBlock){var w=h.parent;if(w.getIsLocked(h.data.bayRow)){this.clickedList.splice(i,1)}}}var s=!1;var x=!1;for(var o=0;o<this.clickedList.length;o++){var u=this.clickedList[o];if(u instanceof b.Component.Container){s=!0}if(u instanceof b.Component.Slot){x=!0}}if(!this.isSelectContainer){for(var k=this.clickedList.length-1;k>=0;k--){if(this.clickedList[k] instanceof b.Component.Container){this.clickedList.splice(k,1)}}}if(!this.isSelectSlot){for(var l=this.clickedList.length-1;l>=0;l--){if(this.clickedList[l] instanceof b.Component.Slot){this.clickedList.splice(l,1)}}}if(this.isSelectBlock){for(var m=this.clickedList.length-1;m>=0;m--){var v=this.clickedList[m];if(v instanceof b.Component.Container||v instanceof b.Component.Slot){this.clickedList.splice(m,1)}}}else {if(s&&this.isSelectContainer){for(var n=this.clickedList.length-1;n>=0;n--){var y=this.clickedList[n];if(y instanceof b.Component.Slot){this.clickedList.splice(n,1)}}}}if(this.clickedList.length>0){if(this.isMultiSelect){for(var p=0;p<this.clickedList.length;p++){var g=this.clickedList[p];if(a.type==='mouseup'&&a.button===0){if(g instanceof b.Component.Container){if(g.containerBayItem.planSequence!=null){g.selected=!0}g.select.type.circle=this.select.type.circle}if(g instanceof b.Component.Container&&this.isSelectContainer||g instanceof b.Component.Slot&&this.isSelectSlot||g instanceof b.Component.BayBlock&&this.isSelectBlock){g.checkSelected()}}else {if(a.type==='contextmenu'||a.type==='mouseup'&&a.button===2){this.click.funcRight(g)}}}}else {for(var q=0;q<this.clickedList.length;q++){var c=this.clickedList[q];if(a.type==='mouseup'&&a.button===0){if(c instanceof b.Component.Container){if(c.containerBayItem.planSequence!=null){c.selected=!0}c.select.type.circle=this.select.type.circle}if(c instanceof b.Component.Container&&this.isSelectContainer||c instanceof b.Component.Slot&&this.isSelectSlot||c instanceof b.Component.BayBlock&&this.isSelectBlock){c.checkSelected()}}else {if(a.type==='contextmenu'||a.type==='mouseup'&&a.button===2){this.click.funcRight(c)}}}if(a.type==='mouseup'&&a.button===0){this.selectAllComponent(this.clickedList)}}this.zoom(this._zoom)}}};a.prototype.changeBlock=function(a){this.blockName=a;this.bayBlockProps.blockName=a;this.generateBayBlock()};a.prototype.changeSpBlock=function(a){this.clearBayBlock();this.generateSpBayBlock()};a.prototype.generateSpBayBlock=function(){var a=this._zoom;this.addSpBayBlockList();this.zoom(a)};a.prototype.addSelectedBay=function(a,b){if(this.selectedBlockBayList[a]===undefined){this.selectedBlockBayList[a]=new Array()}this.selectedBlockBayList[a].push(b);console.log(this.selectedBlockBayList)};a.prototype.addSpBayBlockList=function(){for(var a in this.selectedBlockBayList){this.blockName=a;this.bayBlockProps.blockName=a;for(var b=0;b<this.selectedBlockBayList[a].length;b++){this.addBayBlock(a,this.selectedBlockBayList[a][b])}}};a.prototype.toFrontView=function(){this.viewDir=c.ViewDirection.Front;this.viewType=c.ViewDirection.Front;this.bayBlockProps.viewDir=c.ViewDirection.Front;this.bayBlockProps.viewType=c.ViewDirection.Front};a.prototype.toSideView=function(){this.viewDir=c.ViewDirection.Side;this.viewType=c.ViewDirection.Side;this.bayBlockProps.viewDir=c.ViewDirection.Side;this.bayBlockProps.viewType=c.ViewDirection.Side};a.prototype.generateBayBlock=function(){var a=this._zoom;this.clearBayBlock();this.addBayBlockList();this.zoom(a)};a.prototype.clearBayBlock=function(){this.clearDrawComponent();this.bayBlockGroup=new i.BaseDrawComponent(Object.assign({},{size:{width:this.bayBlockLayoutDescription.size.width,height:this.bayBlockLayoutDescription.size.height}},this.bayBlockProps,{isFitToFll:!1,isFitToSize:!1,isContainerType:!0}));this.addDrawComponent(this.bayBlockGroup)};a.prototype.addBayBlockList=function(){if(this.viewDir==c.ViewDirection.Side){for(var b=1;b<=this.yardDefine[this.blockName].maxRow;b++){this.addBayBlock(this.blockName,b)}}else {for(var a=1;a<=this.yardDefine[this.blockName].maxBay;a++){this.addBayBlock(this.blockName,a)}}};a.prototype.addBayBlock=function(a,b){if(!this.bayBlockGroup){this.clearBayBlock()}if(this.viewDir==c.ViewDirection.Side){var h=Object.assign(Object.assign({},this.bayBlockProps),{position:{x:0,y:0}},{stackInfo:{isEnabled:!1},bayRow:b,size:{width:this.yardDefine[a].rowList[b].maxBay*(this.bayBlockProps.slotProps.size.width+this.bayBlockProps.slotProps.slotGap)+this.blockGap*2,height:this.yardDefine[a].maxTier*(this.bayBlockProps.slotProps.size.height+this.bayBlockProps.slotProps.slotGap)+this.blockGap*2+15},blockItem:this.yardDefine[a],data:this.yardDefine[a].rowList[b]});h.id=a+'-'+String(b);var k=new e.BayBlock(h);k.parent=this.bayBlockGroup;this.bayBlockGroup.appendChild(k)}else {var g=Object.assign(Object.assign({},this.bayBlockProps),{position:{x:0,y:0}},{stackInfo:{isEnabled:!1},bayRow:b,size:{width:this.yardDefine[a].bayList[b].maxRow*(this.bayBlockProps.slotProps.size.height+this.bayBlockProps.slotProps.slotGap)+this.blockGap*2,height:this.yardDefine[a].maxTier*(this.bayBlockProps.slotProps.size.height+this.bayBlockProps.slotProps.slotGap)+this.blockGap*2+15},blockItem:this.yardDefine[a],data:this.yardDefine[a].bayList[b]});g.id=a+'-'+String(b);var i=new e.BayBlock(g);i.parent=this.bayBlockGroup;this.bayBlockGroup.appendChild(i)}};a.prototype.findBayBlock=function(a,b){return this.findBayBlockById(a+'-'+b)};a.prototype.findBayBlockById=function(c){for(var a=0;a<this.bayBlockGroup.children.length;a++){var b=this.bayBlockGroup.children[a];if(b.id===c){return b}}};a.prototype.findSlotById=function(a,b,g,e){var c=this.findBayBlockById(a+'-'+b);return c.findSlotById(a+'-'+b+'-'+g+'-'+e)};a.prototype.addContainer=function(b,c,i,h,k){var e=this.findSlotById(b,c,i,h);if(!e){throw new Error('cannot find slot')}var m=this.getContainerWidth(i,h,k);var a=new g.Container({textSizeMultiple:1,containerBayItem:k,size:{width:m,height:this.bayBlockProps.slotProps.size.height},fill:{color:'#FFFFFF'},stackInfo:undefined,position:{x:e.originalPosition.x,y:e.originalPosition.y},click:this.click,select:this.select,isTopView:!1});a._zoom=this._zoom;a.id=b+'-'+c+'-'+i+'-'+h;var l=this.findBayBlockById(b+'-'+c);if(!l){throw new Error('cannot find block')}l.appendChild(a);a.addAllPaths();this.searchApplyZoom(1/a.multipleResizeTo,a);return a};a.prototype.addSpContainer=function(c,e,k,i,b){var h=this.findSlotById(c,e,k,i);if(!h){throw new Error('cannot find slot')}var m=this.getContainerWidth(k,i,b);var a=new g.Container({textSizeMultiple:1,containerBayItem:b,size:{width:m,height:this.bayBlockProps.slotProps.size.height},fill:{color:b.fillColor},stackInfo:undefined,position:{x:h.originalPosition.x,y:h.originalPosition.y},click:this.click,select:this.select,isTopView:!1});a._zoom=this._zoom;a.id=c+'-'+e+'-'+k+'-'+i;var l=this.findBayBlockById(c+'-'+e);if(!l){throw new Error('cannot find block')}l.appendChild(a);a.addSpAllPaths();this.searchApplyZoom(1/a.multipleResizeTo,a);return a};a.prototype.getSelectedContainer=function(){var e=[];for(var c=0;c<this.bayBlockGroup.children[0].children.length;c++){var a=this.bayBlockGroup.children[0].children[c];if(a instanceof b.Component.Container){if(a.selected){e.push(a)}}}return e};a.prototype.getSelectedObject=function(){var b=[];for(var a=0;a<this.bayBlockGroup.children[0].children.length;a++){var c=this.bayBlockGroup.children[0].children[a];if(c.selected){b.push(c)}}return b};a.prototype.getContainer=function(a,b,g,e){var c=this.findBayBlockById(a+'-'+b);return c.findContainerById(a+'-'+b+'-'+g+'-'+e)};a.prototype.getContainerByNo=function(a,b,h,g,c){var e=this.findBayBlockById(a+'-'+b);return e.findContainerByContainerNo(a+'-'+b+'-'+h+'-'+g,c)};a.prototype.removeContainer=function(a,b,g,e){var c=this.findBayBlockById(a+'-'+b);c.removeContainer(a+'-'+b+'-'+g+'-'+e)};a.prototype.removeSelectedContainer=function(a,b,h,g,c){var e=this.findBayBlockById(a+'-'+b);e.removeSelectedContainer(a+'-'+b+'-'+h+'-'+g,c)};a.prototype.setIsVisibleAllContainers=function(b){for(var a=0;a<this.bayBlockGroup.children.length;a++){var c=this.bayBlockGroup.children[a];c.setIsVisibleAllContainers(b)}};a.prototype.removeAllContainers=function(){for(var a=0;a<this.bayBlockGroup.children.length;a++){var b=this.bayBlockGroup.children[a];b.removeAllContainers()}};a.prototype.getContainerWidth=function(b,e,a){if(a.OccupiedSlotCount>c.YardConstant.MIN_OccupiedSlotCount){return this.getContainerWidth_NEW(b,e,a)}return this.getContainerWidth_OLD(b,e,a)};a.prototype.getContainerWidth_NEW=function(h,i,e){var b=this.bayBlockProps.slotProps.size.width;if(this.viewType==c.ViewDirection.Side){var a=e.OccupiedSlotCount;var g=this.bayBlockProps.slotProps.size.width*a+this.bayBlockProps.slotProps.slotGap*Number(a-1);b=g}return b};a.prototype.getContainerWidth_OLD=function(h,i,a){var b=this.bayBlockProps.slotProps.size.height;if(this.viewType==c.ViewDirection.Side){var g=2;var e=a.sizeType.length===0?a.size:a.sizeType;if(e.length===0){e=c.YardConstant.CNTR_SIZE_20}switch(e.substring(0,1)){case c.YardConstant.CNTR_SIZE_20:b=this.bayBlockProps.slotProps.size.width;break;case c.YardConstant.CNTR_SIZE_30:case c.YardConstant.CNTR_SIZE_40:b=this.bayBlockProps.slotProps.size.width*2+this.bayBlockProps.slotProps.slotGap;break;case c.YardConstant.CNTR_SIZE_45:case c.YardConstant.CNTR_SIZE_48:case c.YardConstant.CNTR_SIZE_L:case c.YardConstant.CNTR_SIZE_M:case c.YardConstant.CNTR_SIZE_P:if(a.xBay!=0&&a.xBay!=a.bay){if(a.xBay<a.bay){b=Math.round(this.bayBlockProps.slotProps.size.width*2.25+this.bayBlockProps.slotProps.slotGap*2)}else {b=Math.round(this.bayBlockProps.slotProps.size.width*2.25+this.bayBlockProps.slotProps.slotGap*2)}}else {g=this.yardDefine[this.blockName].BayList[a.bay].NosVoid;b=this.bayBlockProps.slotProps.size.width*g+this.bayBlockProps.slotProps.slotGap*(g-1)};break;default:b=this.bayBlockProps.slotProps.size.width;break;}}return b};a.prototype.setBlockName=function(a){this.blockName=a;this.bayBlockProps.blockName=a};a.prototype.setVisibleYtBlock=function(a){this.bayBlockGroup.children.forEach(function(b){b.children.forEach(function(c){if(c.id.includes('YTDIR-')){c.isVisible=a}})})};f.BayViewRenderer=a},'./src/view/blockTopViewRenderer.ts':function(m,f,c){Object.defineProperty(f,'__esModule',{value:!0});f.BlockTopViewRenderer=void 0;var b=c('./src/common/type.ts');var h=c('./src/component/blockTop.ts');var l=c('./src/component/container.ts');var k=c('./src/component/slot.ts');var j=c('./src/common/renderer.ts');var g=c('./src/common/baseDrawComponent.ts');var d=c('./src/component/index.ts');var e=c('./src/component/selectedBlock.ts');var i=c('./src/common/function.ts');var a=function(b){var a;var d,e;a=j.Renderer.call(this,b)||this;a.yardDefine=b.yardDefine;a.blockTopLayoutDescription=b.blockTopLayoutDescription;a.blockGap=((d=b.blockTopProps)===null||d===void 0?void 0:d.blockGap)===undefined?20:(e=b.blockTopProps)===null||e===void 0?void 0:e.blockGap;a.isSelectMode=b.isSelectMode;a.isFitToSize=b.isFitToSize;a.isFitToFill=b.isFitToFill;a.closeButtonClick=b.closeButtonClick;a.blockTopProps=Object.assign({},b.blockTopProps,{surface:a.surface,click:a.click,select:a.select,layout:a.blockTopLayoutDescription,size:{width:a.surface.clientWidth,height:a.surface.clientHeight},blockGap:a.blockGap,isFitToSize:a.isFitToSize,isFitToFill:a.isFitToFill,parent:a});a.blockTopProps.stackInfo.clientWidth=a.surface.clientWidth;a.blockTopProps.stackInfo.clientHeight=a.surface.clientHeight;if(!a.isSelectMode){a.clearTopBlock();a.addTopBlockList(a.yardDefine)}a.isMultiSelect=b.isMultiSelect;a.selectedBlocks=[];a.afterSelect=b.afterSelect||function(){};return a};$jscomp.inherits(a,j.Renderer);a.prototype.getSelectedBlocks=function(){return this.selectedBlocks};a.prototype.rightClickEvent=function(a){a.preventDefault();this.checkAndProcessClick(a,this)};a.prototype.checkAndProcessSelect=function(b){if(this.select.isEnabled&&this.dragInfo.dragging){this.selectedDiv.style.display='none';this.selectedList=[];this.searchSelectedObject(this.dragInfo.drawArea,b)}if(this.selectedList.length>0){var a={};this.selectedList.forEach(function(e){if(e instanceof k.Slot){var d=e.parent.blockName;if(!a.hasOwnProperty(d)){a[d]={};a[d]['slots']=[]}a[d]['slots'].push(e)}});this.findSelectedAreaAndDraw(a)}this.dragInfo.dragging=!1};a.prototype.findSelectedAreaAndDraw=function(b){if(Object.keys(b).length<1){return}this.getSelectedArea(b);for(var j in b){var a=b[j];var d=new e.SelectedBlock({id:'SELECTEDBLOCK-'+i.generateUUID(),stackInfo:undefined,position:{x:a.area.x,y:a.area.y},size:{width:a.area.width,height:a.area.height},fill:{isEnabled:!1},stroke:{color:'#FF0000',width:3},select:{isEnabled:!0,func:undefined},data:{slot:Object.assign(Object.assign({},a.data),a.slots)}});var g={slots:a.slots,block:d,area:a.area,data:a.data,parent:a.parent};var h=this.afterSelect(g);if(h!=!1){this.selectedBlocks.push(g);a.parent.appendChild(d);d.parent.draw()}}};a.prototype.SelectedAreaAndDraw=function(b){if(Object.keys(b).length<1){return}this.getSelectedArea(b);for(var h in b){var a=b[h];var d=new e.SelectedBlock({id:'SELECTEDBLOCK-'+i.generateUUID(),stackInfo:undefined,position:{x:a.area.x,y:a.area.y},size:{width:a.area.width,height:a.area.height},fill:{isEnabled:!1},stroke:{color:a.data.color,width:3},data:{slot:Object.assign(Object.assign({},a.data),a.slots)}});var g={slots:a.slots,block:d,area:a.area,data:a.data,parent:a.parent};this.selectedBlocks.push(g);a.parent.appendChild(d);d.parent.draw()}};a.prototype.recalculateSelectedBlocksAndDraw=function(){var a=this;this.selectBlockGroup.children=[];this.selectedBlocks.forEach(function(b){a.reassignParentBlock(b);a.calculateSelectedBlockArea(b);var d=b.area;var g=new e.SelectedBlock({stackInfo:undefined,position:{x:d.x,y:d.y},size:{width:d.width,height:d.height},fill:{isEnabled:b.block.fill.isEnabled,color:b.block.fill.color},stroke:{color:b.block.stroke.color,width:b.block.stroke.width},data:{slot:b.slots}});b.parent.removeChildByObject(b.block);a.findTopBlockByName(b.parent.blockName).appendChild(g);b.block=g;g.parent.draw()})};a.prototype.removeBlockItem=function(b){for(var a=this.selectedBlocks.length-1;a>=0;a--){var d=this.selectedBlocks[a];if(d.parent.blockName===b){if(this.selectedBlocks[a].block){this.selectedBlocks[a].block.parent=undefined}this.selectedBlocks[a].parent=undefined;this.selectedBlocks.splice(a,1)}}};a.prototype.reassignParentBlock=function(a){var b=this;var d=a.slots;d.forEach(function(e){var d=e.parent;var g=b.findTopBlockByName(d.blockName);if(g){if(g!==d){e.parent=g;d.removeChildById(e.id)}}else {d.removeChildById(e.id)}})};a.prototype.getSelectedArea=function(a){for(var d in a){var b=a[d];this.calculateSelectedBlockArea(b)}return a};a.prototype.calculateSelectedBlockArea=function(b){var e={};var a={x:999999,y:999999};var d={x:0,y:0};var g=b.slots;g.forEach(function(e){if(e instanceof k.Slot){var g={x:e.originalPosition.x,y:e.originalPosition.y,width:e.originalPosition.x+e.originalSize.width,height:e.originalPosition.y+e.originalSize.height};if(g.x<a.x){a.x=g.x}if(g.y<a.y){a.y=g.y}if(g.width>d.x){d.x=g.width}if(g.height>d.y){d.y=g.height}if(!b.parent){b.parent=e.parent}if(!b.currentTransform){b.currentTransform=Object.assign({},e.currentTransform)}}});e.x=a.x;e.y=a.y;e.width=d.x-a.x;e.height=d.y-a.y;b.area=e;return e};a.prototype.checkAndProcessClick=function(b,s){if(this.click.isEnabled){this.clickedList=[];this.searchClickedObject(b,s);for(var o=this.clickedList.length-1;o>=0;o--){var p=this.clickedList[o];if(p instanceof d.Component.ButtonClose){this.closeButtonClick(p)}}for(var j=this.clickedList.length-1;j>=0;j--){var q=this.clickedList[j];if(!(q instanceof d.Component.Slot)&&!(q instanceof d.Component.SelectedBlock)){this.clickedList.splice(j,1)}}if(this.clickedList.length>0){if(this.isMultiSelect){for(var l=0;l<this.clickedList.length;l++){var k=this.clickedList[l];k.select.type.circle=!1;var g={};var i=k.parent.blockName;if(!g.hasOwnProperty(i)){g[i]={};g[i]['slots']=[]}g[i]['slots'].push(k);this.findSelectedAreaAndDraw(g)}}else {var a=this.clickedList[this.clickedList.length-1];if(b.type==='mouseup'&&b.button===0){this.click.func(a);if(a instanceof d.Component.Container){a.select.type.circle=!0}else {a.select.type.circle=!1}var e={};var h=a.parent.blockName;if(!e.hasOwnProperty(h)){e[h]={};e[h]['slots']=[]}e[h]['slots'].push(a);this.findSelectedAreaAndDraw(e)}else {if(b.type==='contextmenu'||b.type==='mouseup'&&b.button===2){for(var n=0;n<this.clickedList.length;n++){var r=this.clickedList[n];this.click.funcRight(r)}}}}}}};a.prototype.calculateSelectedArea=function(j){var i={x:999999,y:999999,width:-1,height:-1};var b=999999,d=999999,e=-1,g=-1;for(var h=0;h<j.length;h++){var a=j[h];if(b>a.position.x){b=a.position.x}if(d>a.position.y){d=a.position.y}if(e<a.position.x+a.size.width){e=a.position.x+a.size.width}if(g<a.position.y+a.size.height){g=a.position.y+a.size.height}}i={x:b,y:d,width:e-b,height:g-d};return i};a.prototype.generateTopBlock=function(){var a=this._zoom;this.clearTopBlock();this.addTopBlockList(this.yardDefine);this.draw();this.zoom(a)};a.prototype.clearTopBlock=function(){this.clearDrawComponent();this.topBlockGroup=new g.BaseDrawComponent(Object.assign({},this.blockTopProps,{isFitToSize:!1,isFitToTill:!1}));this.selectBlockGroup=new g.BaseDrawComponent(Object.assign({},this.blockTopProps,{isFitToSize:!1,isFitToTill:!1,stackInfo:{},fill:{isEnabled:!1}}));this.addDrawComponent(this.topBlockGroup);this.addDrawComponent(this.selectBlockGroup)};a.prototype.addTopBlockList=function(a){Object.keys(a).forEach(function(b){this.addTopBlock(b)}.bind(this))};a.prototype.addTopBlock=function(a){if(!this.topBlockGroup){this.clearTopBlock()}var d=Object.assign(Object.assign({},this.blockTopProps),{position:{x:0,y:0}},{rotate:0,stackInfo:{isEnabled:!1},blockName:a,size:{width:this.yardDefine[a].maxBay*(this.blockTopProps.slotProps.size.width+this.blockTopProps.slotProps.slotGap)+this.blockGap*2,height:this.yardDefine[a].maxRow*(this.blockTopProps.slotProps.size.height+this.blockTopProps.slotProps.slotGap)+this.blockGap*2+15},blockItem:this.yardDefine[a],data:this.yardDefine[a],bayRowOrder:{bay:this.yardDefine[a].bayDir==='R'?1:0,row:this.yardDefine[a].rowDir==='R'?1:0}});var b=new h.BlockTop(d);b.id=a;b.parent=this.topBlockGroup;this.topBlockGroup.appendChild(b);return b};a.prototype.findTopBlock=function(a,b){return this.findTopBlockByName(a+'-'+b)};a.prototype.findTopBlockByName=function(d){for(var b=0;b<this.topBlockGroup.children.length;b++){var a=this.topBlockGroup.children[b];if(a instanceof h.BlockTop&&a.blockName===d){return a}}};a.prototype.findSlot=function(a,d,e){var b=this.findTopBlockByName(a);return b.findSlotById(a+'-'+d+'-'+e)};a.prototype.addContainer=function(g,d,j,n,h){var a=this.findTopBlockByName(g);if(!a){throw new Error('cannot find block')}var i=this.getContainerWidth(h);try{var k=i===40&&a.bayRowOrder.bay===b.OrderDirection.Desc?a.findSlotById(g+'-'+(Number(d)+1)+'-'+j):a.findSlotById(g+'-'+Number(d)+'-'+j);if(!k){throw new Error('cannot find slot')}var e=new l.Container({textSizeMultiple:1,containerBayItem:h,size:{width:i===40?i+this.blockTopProps.slotProps.slotGap:i,height:this.blockTopProps.slotProps.size.height},fill:{color:'#FFFFFF'},stackInfo:undefined,position:{x:k.originalPosition.x,y:k.originalPosition.y},click:this.click,select:this.select,isTopView:!0});e._zoom=this._zoom;e.id=g+'-'+d+'-'+j+'-'+n;a.appendChild(e);e.addAllPaths();this.searchApplyZoom(1/e.multipleResizeTo,e);if(String(h.size)==='20'){a.containerCountList[d][0]++}else {if(String(h.size)==='40'){if(a.bayRowOrder.bay===b.OrderDirection.Desc){a.containerCountList[d-1][1]++}else {a.containerCountList[d+1][1]++}}}return this.getContainer(g,d,j,n)}catch(o){new Error(o)}};a.prototype.reDrawCountText=function(){for(var b=0;b<this.children[0].children.length;b++){var a=this.children[0].children[b];a.removeAllCountText();a.addCountText(a.slotProps.size.width);a.draw()}};a.prototype.getSelectedContainer=function(){for(var b=0;b<this.topBlockGroup.children[0].children.length;b++){var a=this.topBlockGroup.children[0].children[b];if(a instanceof d.Component.Container){if(a.selected){return a}}}};a.prototype.findContainerById=function(b){var a=b.split('-');return this.getContainer(a[0],Number(a[1]),Number(a[2]),Number(a[3]))};a.prototype.getContainer=function(a,e,g,d){var b=this.findTopBlockByName(a);return b.findContainerById(a+'-'+e+'-'+g+'-'+d)};a.prototype.removeContainerById=function(b){var a=b.split('-');this.removeContainer(a[0],Number(a[1]),Number(a[2]),Number(a[3]))};a.prototype.removeContainer=function(a,e,g,d){var b=this.findTopBlockByName(a);b.removeContainer(a+'-'+e+'-'+g+'-'+d)};a.prototype.getContainerWidth=function(a){return Number(a.size)};a.prototype.getContainerWidth_NEW=function(b){var a=b.OccupiedSlotCount;var d=this.blockTopProps.slotProps.size.width*a+this.blockTopProps.slotProps.slotGap*Number(a-1);return d};a.prototype.getContainerWidth_OLD=function(a){var d=this.blockTopProps.slotProps.size.height;var g=2;var e=a.sizeType.length===0?a.size:a.sizeType;if(e.length===0){e=b.YardConstant.CNTR_SIZE_20}switch(e.substring(0,1)){case b.YardConstant.CNTR_SIZE_20:d=this.blockTopProps.slotProps.size.width;break;case b.YardConstant.CNTR_SIZE_30:case b.YardConstant.CNTR_SIZE_40:d=this.blockTopProps.slotProps.size.width*2+this.blockTopProps.slotProps.slotGap;break;case b.YardConstant.CNTR_SIZE_45:case b.YardConstant.CNTR_SIZE_48:case b.YardConstant.CNTR_SIZE_L:case b.YardConstant.CNTR_SIZE_M:case b.YardConstant.CNTR_SIZE_P:if(a.xBay!=0&&a.xBay!=a.bay){if(a.xBay<a.bay){d=Math.round(this.blockTopProps.slotProps.size.width*2.25+this.blockTopProps.slotProps.slotGap*2)}else {d=Math.round(this.blockTopProps.slotProps.size.width*2.25+this.blockTopProps.slotProps.slotGap*2)}}else {d=this.blockTopProps.slotProps.size.width*g+this.blockTopProps.slotProps.slotGap*(g-1)};break;default:d=this.blockTopProps.slotProps.size.width;break;}return d};a.prototype.setVisibleYtBlock=function(a){this.topBlockGroup.children.forEach(function(b){b.children.forEach(function(d){if(d.id.includes('YTDIR-')){d.isVisible=a}})})};f.BlockTopViewRenderer=a},'./src/view/index.ts':function(l,b,a){Object.defineProperty(b,'__esModule',{value:!0});b.View=void 0;var i=a('./src/view/baseView.ts');var j=a('./src/view/bayView.ts');var g=a('./src/view/bayViewRenderer.ts');var h=a('./src/view/topViewRenderer.ts');var d=a('./src/view/blockTopViewRenderer.ts');var e=a('./src/view/layoutViewRenderer.ts');var f=a('./src/view/qcWorkingRenderer.ts');var c=a('./src/view/qcWorkingSideRenderer.ts');var k;(function(k){k.BaseView=i.BaseView;k.BayView=j.BayView;k.BayViewRenderer=g.BayViewRenderer;k.TopViewRenderer=h.TopViewRenderer;k.BlockTopViewRenderer=d.BlockTopViewRenderer;k.LayoutViewRenderer=e.LayoutViewRenderer;k.QcWorkingRenderer=f.QcWorkingRenderer;k.QcWorkingSideRenderer=c.QcWorkingSideRenderer})(k=b.View||(b.View={}))},'./src/view/layoutViewRenderer.ts':function(t,i,b){Object.defineProperty(i,'__esModule',{value:!0});i.LayoutViewRenderer=void 0;var d=b('./src/common/type.ts');var q=b('./src/component/container.ts');var j=b('./src/component/slot.ts');var h=b('./src/common/renderer.ts');var e=b('./src/common/baseDrawComponent.ts');var c=b('./src/component/index.ts');var p=b('./src/component/berthItem.ts');var m=b('./src/component/bitItem.ts');var s=b('./src/component/topBlock.ts');var f=b('./src/component/blockTop4Layout.ts');var n=b('./src/component/facilityItem.ts');var r=b('./src/component/areaItem.ts');var o=b('./src/component/terminalItem.ts');var k=b('./src/component/berthVessel.ts');var l=b('./src/common/function.ts');var g=b('./src/component/selectedBlock.ts');var a=function(c){var a;var d,f;a=h.Renderer.call(this,c)||this;a.multiply=1;a.seaHeight=100;a.yardDefine=c.yardDefine;a.blockTopLayoutDescription=c.blockTopLayoutDescription;a.blockGap=((d=c.blockTopProps)===null||d===void 0?void 0:d.blockGap)===undefined?20:(f=c.blockTopProps)===null||f===void 0?void 0:f.blockGap;a.isSelectMode=c.isSelectMode;a.isSelectContainer=c.isSelectContainer;a.isSelectSlot=c.isSelectSlot;a.isSelectBlock=c.isSelectBlock;a.isFitToSize=c.isFitToSize;a.isFitToFill=c.isFitToFill;a.closeButtonClick=c.closeButtonClick;a.blockTopProps=Object.assign({},c.blockTopProps,{surface:a.surface,click:a.click,select:a.select,layout:a.blockTopLayoutDescription,size:{width:a.surface.clientWidth,height:a.surface.clientHeight},blockGap:a.blockGap,isFitToSize:a.isFitToSize,isFitToFill:a.isFitToFill,parent:a});a.blockTopProps.stackInfo.clientWidth=a.surface.clientWidth;a.blockTopProps.stackInfo.clientHeight=a.surface.clientHeight;if(!a.isSelectMode){a.clearTopBlock();a.addTopBlockList()}a.isMultiSelect=c.isMultiSelect;a.selectedBlocks=[];a.afterSelect=c.afterSelect||function(){};a.multiply=c.multiply||1;a.seaHeight=c.seaHeight||100;a.isDrawSeaArea=c.isDrawSeaArea||!1;a.seaBlockGroup=new e.BaseDrawComponent(Object.assign({},a.blockTopProps,{position:{x:0,y:0},size:{width:a.size.width,height:a.seaHeight*a.multiply},isFitToSize:!1,isFitToTill:!1,fill:{color:'#87CEEB',isEnabled:!0}}));a.layoutBlockGroup=new e.BaseDrawComponent(Object.assign({},a.blockTopProps,{position:{x:0,y:0},isFitToSize:!1,isFitToTill:!1}));a.qcBlockGroup=new e.BaseDrawComponent(Object.assign({},a.blockTopProps,{position:{x:0,y:0},isFitToSize:!1,isFitToTill:!1,stackInfo:{},fill:{isEnabled:!1}}));if(a.isDrawSeaArea){a.layoutBlockGroup.beforeAppendChild=function(a){a.setPosition({x:a.originalPosition.x,y:a.originalPosition.y+this.seaHeight})}.bind(a);a.qcBlockGroup.beforeAppendChild=function(a){a.setPosition({x:a.originalPosition.x,y:a.originalPosition.y+this.seaHeight})}.bind(a)}a.addDrawComponent(a.layoutBlockGroup);if(a.isDrawSeaArea){a.addDrawComponent(a.seaBlockGroup)}a.addDrawComponent(a.qcBlockGroup);a.draw();return a};$jscomp.inherits(a,h.Renderer);a.prototype.getSelectedBlocks=function(){return this.selectedBlocks};a.prototype.rightClickEvent=function(a){a.preventDefault();this.checkAndProcessClick(a,this)};a.prototype.checkAndProcessSelect=function(l){var h=this;if(this.select.isEnabled&&this.dragInfo.dragging){this.selectedDiv.style.display='none';this.selectedList=[];this.searchSelectedObject(this.dragInfo.drawArea,l)}if(this.isSelectBlock){var f=[];for(var e=this.selectedList.length-1;e>=0;e--){var g=this.selectedList[e];if(g instanceof c.Component.BlockTop4Layout){f.push(g)}this.selectedList.splice(e,1)}f.forEach(function(a){a.children.forEach(function(d){if(d instanceof c.Component.Slot){h.selectedList.push(d)}})})}else {if(this.isSelectSlot){for(var d=this.selectedList.length-1;d>=0;d--){var k=this.selectedList[d];if(!(k instanceof c.Component.Slot)){this.selectedList.splice(d,1)}}}}if(this.selectedList.length>0){var a={};this.selectedList.forEach(function(d){if(d instanceof j.Slot){var c=d.parent.blockName;if(!a.hasOwnProperty(c)){a[c]={};a[c]['slots']=[]}a[c]['slots'].push(d)}});this.findSelectedAreaAndDraw(a)}this.dragInfo.dragging=!1};a.prototype.findSelectedAreaAndDraw=function(c){if(Object.keys(c).length<1){return}this.getSelectedArea(c);for(var h in c){var a=c[h];var d=new g.SelectedBlock({id:'SELECTEDBLOCK-'+l.generateUUID(),stackInfo:undefined,position:{x:a.area.x,y:a.area.y},size:{width:a.area.width,height:a.area.height},fill:{isEnabled:!1},stroke:{color:'#FF0000',width:3},data:{slot:Object.assign(Object.assign({},a.data),a.slots)}});var e={slots:a.slots,block:d,area:a.area,data:a.data,parent:a.parent};var f=this.afterSelect(e);if(f!=!1){this.selectedBlocks.push(e);a.parent.appendChild(d);d.parent.draw()}}};a.prototype.SelectedAreaAndDraw=function(c){if(Object.keys(c).length<1){return}this.getSelectedArea(c);for(var f in c){var a=c[f];var d=new g.SelectedBlock({id:'SELECTEDBLOCK-'+l.generateUUID(),stackInfo:undefined,position:{x:a.area.x,y:a.area.y},size:{width:a.area.width,height:a.area.height},fill:{isEnabled:!1},stroke:{color:a.data.color,width:3},data:{slot:Object.assign(Object.assign({},a.data),a.slots)}});var e={slots:a.slots,block:d,area:a.area,data:a.data,parent:a.parent};this.selectedBlocks.push(e);a.parent.appendChild(d);d.parent.draw()}};a.prototype.recalculateSelectedBlocksAndDraw=function(){var a=this;this.selectBlockGroup.children=[];this.selectedBlocks.forEach(function(c){a.reassignParentBlock(c);a.calculateSelectedBlockArea(c);var d=c.area;var e=new g.SelectedBlock({stackInfo:undefined,position:{x:d.x,y:d.y},size:{width:d.width,height:d.height},fill:{isEnabled:c.block.fill.isEnabled,color:c.block.fill.color},stroke:{color:c.block.stroke.color,width:c.block.stroke.width},data:{slot:c.slots}});c.parent.removeChildByObject(c.block);a.findTopBlockByName(c.parent.blockName).appendChild(e);c.block=e;e.parent.draw()})};a.prototype.reassignParentBlock=function(a){var c=this;var d=a.slots;d.forEach(function(e){var d=e.parent;var f=c.findTopBlockByName(d.blockName);if(f){if(f!==d){e.parent=f;d.removeChildById(e.id)}}else {d.removeChildById(e.id)}})};a.prototype.getSelectedArea=function(a){for(var d in a){var c=a[d];this.calculateSelectedBlockArea(c)}return a};a.prototype.calculateSelectedBlockArea=function(c){var e={};var a={x:999999,y:999999};var d={x:0,y:0};var f=c.slots;f.forEach(function(e){if(e instanceof j.Slot){var g=e.parent.originalPosition;var f={x:e.originalPosition.x,y:e.originalPosition.y,width:e.originalPosition.x+e.originalSize.width,height:e.originalPosition.y+e.originalSize.height};if(f.x<a.x){a.x=f.x}if(f.y<a.y){a.y=f.y}if(f.width>d.x){d.x=f.width}if(f.height>d.y){d.y=f.height}if(!c.parent){c.parent=e.parent}if(!c.currentTransform){c.currentTransform=Object.assign({},e.currentTransform)}}});e.x=a.x;e.y=a.y;e.width=d.x-a.x;e.height=d.y-a.y;c.area=e;return e};a.prototype.findTopBlockByName=function(d){for(var c=0;c<this.layoutBlockGroup.children.length;c++){var a=this.layoutBlockGroup.children[c];if(a instanceof f.BlockTop4Layout&&a.blockName===d){return a}}};a.prototype.checkAndProcessClick=function(a,s){var q=this;if(this.click.isEnabled){this.clickedList=[];this.searchClickedObject(a,s);for(var l=this.clickedList.length-1;l>=0;l--){var n=this.clickedList[l];if(n instanceof c.Component.ButtonClose){this.closeButtonClick(n)}}for(var e=this.clickedList.length-1;e>=0;e--){var h=this.clickedList[e];if(!(h instanceof c.Component.Slot)&&!(h instanceof c.Component.SelectedBlock)&&!(h instanceof c.Component.BlockTop4Layout)){this.clickedList.splice(e,1)}}if(this.clickedList.length>0){if(a.type==='mouseup'&&a.button===0){if(this.isSelectBlock){var m=[];for(var f=this.clickedList.length-1;f>=0;f--){var o=this.clickedList[f];if(o instanceof c.Component.BlockTop4Layout){m.push(o)}this.clickedList.splice(f,1)}m.forEach(function(d){d.children.forEach(function(e){if(e instanceof c.Component.Slot){q.clickedList.push(e)}})})}else {if(this.isSelectSlot){for(var g=this.clickedList.length-1;g>=0;g--){var r=this.clickedList[g];if(!(r instanceof c.Component.Slot)){this.clickedList.splice(g,1)}}}}var d={};this.clickedList.forEach(function(e){if(e instanceof j.Slot){var c=e.parent.blockName;if(!d.hasOwnProperty(c)){d[c]={};d[c]['slots']=[]}d[c]['slots'].push(e)}});this.findSelectedAreaAndDraw(d)}else {if(a.type==='contextmenu'||a.type==='mouseup'&&a.button===2){for(var k=0;k<this.clickedList.length;k++){var p=this.clickedList[k];this.click.funcRight(p)}}}}}};a.prototype.calculateSelectedArea=function(j){var h={x:999999,y:999999,width:-1,height:-1};var c=999999,d=999999,e=-1,f=-1;for(var g=0;g<j.length;g++){var a=j[g];if(c>a.position.x){c=a.position.x}if(d>a.position.y){d=a.position.y}if(e<a.position.x+a.size.width){e=a.position.x+a.size.width}if(f<a.position.y+a.size.height){f=a.position.y+a.size.height}}h={x:c,y:d,width:e-c,height:f-d};return h};a.prototype.generateTopBlock=function(){var a=this._zoom;this.clearTopBlock();this.addTopBlockList();this.draw();this.zoom(a)};a.prototype.clearTopBlock=function(){this.clearDrawComponentBy(s.TopBlock);this.layoutBlockGroup=new e.BaseDrawComponent(Object.assign({},this.blockTopProps,{isFitToSize:!1,isFitToTill:!1}));this.qcBlockGroup=new e.BaseDrawComponent(Object.assign({},this.blockTopProps,{isFitToSize:!1,isFitToTill:!1,stackInfo:{},fill:{isEnabled:!1}}));this.addDrawComponent(this.layoutBlockGroup);this.addDrawComponent(this.qcBlockGroup)};a.prototype.addTopBlockList=function(){Object.keys(this.yardDefine).forEach(function(a){this.addTopBlock(a)}.bind(this))};a.prototype.addTopBlock=function(a){var c=Object.assign({},this.blockTopProps,{stackInfo:{isEnabled:!1},blockName:a,position:this.yardDefine[a].position,size:{width:this.yardDefine[a].maxBay*(this.yardDefine[a].slotLength*this.multiply)+this.blockGap*2,height:this.yardDefine[a].maxRow*(this.yardDefine[a].slotWidth*this.multiply)+this.blockGap*2},blockItem:this.yardDefine[a],data:this.yardDefine[a],bayRowOrder:{bay:this.yardDefine[a].bayDir==='R'?1:0,row:this.yardDefine[a].rowDir==='R'?1:0},fill:{isEnabled:!1},rotate:this.yardDefine[a].deg});c.slotProps.slotGap=0;c.slotProps.size.width=this.yardDefine[a].slotLength*this.multiply-c.slotProps.slotGap;c.slotProps.size.height=this.yardDefine[a].slotWidth*this.multiply-c.slotProps.slotGap;c.horizontalGap=this.yardDefine[a].horizontalGap;c.verticalGap=this.yardDefine[a].verticalGap;var d=new f.BlockTop4Layout(c);d.id=a;d.parent=this.layoutBlockGroup;this.layoutBlockGroup.appendChild(d);return d};a.prototype.getTopBlockList=function(){var a=[];this.layoutBlockGroup.children.forEach(function(c){if(c instanceof f.BlockTop4Layout){a.push(c)}});return a};a.prototype.getCountInfo=function(c,e,d){var a=this.findTopBlockById(c);if(a){return a.countInfo}};a.prototype.setCountInfo=function(c,e,d){var a=this.findTopBlockById(c);if(a){a.getCountInfo().setData(e,d);return a.countInfo}};a.prototype.findTopBlock=function(a){return this.findTopBlockById(a)};a.prototype.findTopBlockById=function(d){for(var c=0;c<this.layoutBlockGroup.children.length;c++){var a=this.layoutBlockGroup.children[c];if(a instanceof f.BlockTop4Layout&&a.id===d){return a}}};a.prototype.findBitItemByName=function(d){for(var c=0;c<this.layoutBlockGroup.children.length;c++){var a=this.layoutBlockGroup.children[c];if(a instanceof m.BitItem&&a.bitName===d){return a}}};a.prototype.findSlot=function(a,d,e){var c=this.findTopBlockById(a);return c.findSlotById(a+'-'+d+'-'+e)};a.prototype.addQc=function(f,g,e){var a=this.findBitItemByName(f);var d=new c.Component.Qc({position:{x:a.originalPosition.x-18,y:a.originalPosition.y-this.seaHeight-70},size:{width:36,height:80},stackInfo:undefined,fill:{isEnabled:!0,color:e},stroke:{width:1,color:'#000000'},equipmentName:g});this.qcBlockGroup.appendChild(d);return d};a.prototype.addTc=function(c,d,a){return this.findTopBlockById(c).addEquipment1(d,a)};a.prototype.addContainer=function(e,g,j,h){var a=this.findTopBlockById(e);if(!a){throw new Error('cannot find block')}var o=a.getChildIncludeId('SELCTEDBLOCK');var k=a.children.length-1;if(o&&this.selectedBlocks.length>0){o.forEach(function(d){var c=a.children.indexOf(d);if(k>c){k=c}})}var n=this.getContainerWidth(h);var c=n===40&&a.bayRowOrder.bay===d.OrderDirection.Desc?a.findSlotById(e+'-'+(Number(g)+1)+'-'+j):a.findSlotById(e+'-'+g+'-'+j);if(!c){throw new Error('cannot find slot')}var f=new q.Container({textSizeMultiple:1,containerBayItem:h,size:{width:n===40?c.originalSize.width*2+c.parent.horizontalGap:c.originalSize.width,height:c.originalSize.height},fill:{color:h.fillColor||'#FFFFFF'},stroke:{width:0,color:'#000000'},stackInfo:undefined,position:{x:c.originalPosition.x,y:c.originalPosition.y},click:undefined,select:{isEnabled:!1,func:undefined},isTopView:!0});f._zoom=this._zoom;f.id=e+'-'+g+'-'+j;a.appendChild(f,k);f.addAllPaths();this.searchApplyZoom(1/f.multipleResizeTo,f);for(var m=0;m<this.children[0].children.length;m++){var l=this.children[0].children[m];if(l.blockName===e){if(h.size==='20'){l.containerCountList[g][0]++}else {if(h.size==='40'){l.containerCountList[g+1][1]++}}}}return this.getContainer(e,g,j)};a.prototype.getSelectedContainer=function(){for(var d=0;d<this.layoutBlockGroup.children[0].children.length;d++){var a=this.layoutBlockGroup.children[0].children[d];if(a instanceof c.Component.Container){if(a.selected){return a}}}};a.prototype.findContainerById=function(c){var a=c.split('-');return this.getContainer(a[0],Number(a[1]),Number(a[2]))};a.prototype.getContainer=function(a,d,e){var c=this.findTopBlockById(a);return c.findContainerById(a+'-'+d+'-'+e)};a.prototype.removeContainerById=function(c){var a=c.split('-');this.removeContainer(a[0],Number(a[1]),Number(a[2]))};a.prototype.removeContainer=function(a,d,e){var c=this.findTopBlockById(a);c.removeContainer(a+'-'+d+'-'+e)};a.prototype.getContainerWidth=function(a){return Number(a.size)};a.prototype.getContainerWidth_NEW=function(c){var a=c.OccupiedSlotCount;var d=this.blockTopProps.slotProps.size.width*a+this.blockTopProps.slotProps.slotGap*Number(a-1);return d};a.prototype.getContainerWidth_OLD=function(a){var c=this.blockTopProps.slotProps.size.height;var f=2;var e=a.sizeType.length===0?a.size:a.sizeType;if(e.length===0){e=d.YardConstant.CNTR_SIZE_20}switch(e.substring(0,1)){case d.YardConstant.CNTR_SIZE_20:c=this.blockTopProps.slotProps.size.width;break;case d.YardConstant.CNTR_SIZE_30:case d.YardConstant.CNTR_SIZE_40:c=this.blockTopProps.slotProps.size.width*2+this.blockTopProps.slotProps.slotGap;break;case d.YardConstant.CNTR_SIZE_45:case d.YardConstant.CNTR_SIZE_48:case d.YardConstant.CNTR_SIZE_L:case d.YardConstant.CNTR_SIZE_M:case d.YardConstant.CNTR_SIZE_P:if(a.xBay!=0&&a.xBay!=a.bay){if(a.xBay<a.bay){c=Math.round(this.blockTopProps.slotProps.size.width*2.25+this.blockTopProps.slotProps.slotGap*2)}else {c=Math.round(this.blockTopProps.slotProps.size.width*2.25+this.blockTopProps.slotProps.slotGap*2)}}else {c=this.blockTopProps.slotProps.size.width*f+this.blockTopProps.slotProps.slotGap*(f-1)};break;default:c=this.blockTopProps.slotProps.size.width;break;}return c};a.prototype.addBerthItemByProps=function(c){var a=new p.BerthItem(c);this.layoutBlockGroup.appendChild(a);return a};a.prototype.addBitItemByProps=function(c){var a=new m.BitItem(c);this.layoutBlockGroup.appendChild(a);return a};a.prototype.addFacilityItemByProps=function(c){var a=new n.FacilityItem(c);this.layoutBlockGroup.appendChild(a);return a};a.prototype.addAreaItemByProps=function(c){var a=new r.AreaItem(c);this.layoutBlockGroup.appendChild(a);return a};a.prototype.addTerminalItemByProps=function(c){var a=new o.TerminalItem(c);this.layoutBlockGroup.appendChild(a);return a};a.prototype.addBerthVessel=function(a){var d=this.seaHeight-a.vesselParticular.width;var e={data:a,stroke:{color:'#000000',width:1},position:{x:0,y:d}};var c=new k.BerthVessel(e);this.seaBlockGroup.appendChild(c);return c};a.prototype.draw=function(){h.Renderer.prototype.draw.call(this);this.getTopBlockList().forEach(function(c){var a;(a=c.getCountInfo())===null||a===void 0?void 0:a.draw(!0)})};a.prototype.getHatchBayPosition=function(f,c,d,e){var a=this.findVesselByInfo(f,c,d);if(a){return a.hatchBayPositions[e]}};a.prototype.findVesselByInfo=function(f,d,e){for(var c=0;c<this.seaBlockGroup.children.length;c++){var a=this.seaBlockGroup.children[c];if(a instanceof k.BerthVessel){if(a.data.vslCd===f&&a.data.callYear===d&&a.data.callSeq===e){return a}}}return null};a.prototype.setVisibleCountInfo=function(a){this.layoutBlockGroup.children.forEach(function(d){if(d instanceof c.Component.BlockTop4Layout){d.children.forEach(function(e){if(e instanceof c.Component.CountInfo){e.isVisible=a}})}})};a.prototype.setVisibleCountInfoText=function(a){this.layoutBlockGroup.children.forEach(function(d){if(d instanceof c.Component.BlockTop4Layout){d.getChildIncludeId('CountInfoText').forEach(function(c){return c.isVisible=a})}})};i.LayoutViewRenderer=a},'./src/view/qcWorkingRenderer.ts':function(k,e,c){Object.defineProperty(e,'__esModule',{value:!0});e.QcWorkingRenderer=void 0;var d=c('./src/common/renderer.ts');var h=c('./src/common/baseDrawComponent.ts');var f=c('./src/component/berthVessel.ts');var b=c('./src/path/index.ts');var g=c('./src/component/index.ts');var i=c('./src/component/berthItem4qc.ts');var j=c('./src/common/function.ts');var a=function(f){var a;var i,l,m,n,o,p,q,r,s,t,u;a=d.Renderer.call(this,f)||this;a.multiply=(i=f.multiply)!==null&&i!==void 0?i:1;a.seaHeight=(l=f.seaHeight)!==null&&l!==void 0?l:100;a.dateTimeGridPositionY=(m=f.dateTimeGridPositionY)!==null&&m!==void 0?m:160;a.timeLineVertGap=(n=f.timeLineVertGap)!==null&&n!==void 0?n:5;a.timeGap=(o=f.timeGap)!==null&&o!==void 0?o:3;a.startDateTime=(p=f.startDateTime)!==null&&p!==void 0?p:new Date();a.endDateTime=(q=f.endDateTime)!==null&&q!==void 0?q:new Date();a.timeLineWidth=(r=f.timeLineWidth)!==null&&r!==void 0?r:5;a.gridWidth=(s=f.gridWidth)!==null&&s!==void 0?s:50;a.isDrawCrossLine=(t=f.isDrawCrossLine)!==null&&t!==void 0?t:!1;a.isDrawContainerPlan=(u=f.isDrawContainerPlan)!==null&&u!==void 0?u:!1;a.totalMinute=(a.endDateTime.getTime()-a.startDateTime.getTime())/1000/60;a.totalMinuteLine=a.totalMinute/a.timeGap;var v=a.surface.getBoundingClientRect();a.mousePosDiv=document.createElement('div');a.mousePosDiv.id=j.generateUUID();a.mousePosDiv.style.position='absolute';a.mousePosDiv.style.pointerEvents='none';a.mousePosDiv.style.width=a.surface.style.width;a.mousePosDiv.style.height=a.surface.style.height;if(a.surface.parentNode.className.indexOf('x-panel-body')>-1){a.mousePosDiv.style.left='0px';a.mousePosDiv.style.top='0px'}else {a.mousePosDiv.style.left=v.x+'px';a.mousePosDiv.style.top=v.y+'px'}a.mousePosDiv.style.zIndex=String(1000);a.surface.appendChild(a.mousePosDiv);var g=document.createElement('canvas');g.width=Number(a.mousePosDiv.style.width.replace('px',''));g.height=Number(a.mousePosDiv.style.height.replace('px',''));a.mousePosDiv.appendChild(g);a.mousePosCtx=g.getContext('2d');a.qcBlockGroup=new h.BaseDrawComponent({size:{width:1900,height:2000},stackInfo:{isEnabled:!1}});a.addDrawComponent(a.qcBlockGroup);a.rectDateTime=new b.Path.Rect({position:{x:0,y:0},size:{width:a.gridWidth,height:a.dateTimeGridPositionY},fill:{isEnabled:!0,color:'#FFFFFF'},stroke:{width:1,color:'#000000'}});a.qcBlockGroup.appendChild(a.rectDateTime);a.rectDateTimeSchedule=new b.Path.Rect({position:{x:a.gridWidth,y:a.dateTimeGridPositionY},size:{width:a.berthLength,height:a.totalMinuteLine*a.timeLineVertGap},fill:{isEnabled:!0,color:'#FFFFFF'},stroke:{width:1,color:'#000000'}});a.qcBlockGroup.appendChild(a.rectDateTimeSchedule);a.setDateTime();return a};$jscomp.inherits(a,d.Renderer);a.prototype.rightClickEvent=function(a){a.preventDefault();this.checkAndProcessClick(a,this)};a.prototype.checkAndProcessSelect=function(a){if(this.select.isEnabled&&this.dragInfo.dragging){this.selectedDiv.style.display='none';this.selectedList=[];this.searchSelectedObject(this.dragInfo.drawArea,a)}this.dragInfo.dragging=!1};a.prototype.checkAndProcessClick=function(b,a){this.searchClickedObject(b,a)};a.prototype.getHatchBayPosition=function(h,d,f,b){var a=this.findVesselByInfo(h,d,f);if(a){var g=a.data.vesselBays[b].no;return a.hatchBayPositions[g]}};a.prototype.getHatchPosition=function(h,f,g,d){var a=this.findVesselByInfo(h,f,g);if(a){var b=a.findAllHatchRect()[d];return {x:b.position.x,width:b.size.width}}};a.prototype.findVesselByInfo=function(h,d,g){for(var b=0;b<this.qcBlockGroup.children.length;b++){var a=this.qcBlockGroup.children[b];if(a instanceof f.BerthVessel){if(a.data.vslCd===h&&a.data.callYear===d&&a.data.callSeq===g){return a}}}return null};a.prototype.findAllVessel=function(){var b=[];for(var a=0;a<this.qcBlockGroup.children.length;a++){var d=this.qcBlockGroup.children[a];if(d instanceof f.BerthVessel){b.push(d)}}return b};a.prototype.addAndDrawHatchLines=function(){var a=this;var g;for(var d=this.qcBlockGroup.children.length-1;d>=0;d--){var f=this.qcBlockGroup.children[d];if(f instanceof b.Path.Line&&((g=f.data)===null||g===void 0?void 0:g.type.indexOf('HATCHLINE'))>-1){f.parent=undefined;this.qcBlockGroup.children.splice(d,1)}}this.findAllVessel().forEach(function(d){return d.findAllHatchRect().forEach(function(f){if(d.data.alongSide!==10){var g=new b.Path.Line({data:{type:'HATCHLINE1'},position:{x:(f.areaPointAndLines.points[0].x+(f.areaPointAndLines.points[0].x<f.areaPointAndLines.points[1].x?f.stroke.width/2:-f.stroke.width/2))/a._zoom,y:a.dateTimeGridPositionY},size:{width:0,height:a.totalMinuteLine*a.timeLineVertGap},stroke:{width:1,color:'#BBBBBB'}});a.qcBlockGroup.appendChild(g);g.draw();var h=new b.Path.Line({data:{type:'HATCHLINE2'},position:{x:(f.areaPointAndLines.points[1].x+(f.areaPointAndLines.points[0].x<f.areaPointAndLines.points[1].x?-f.stroke.width/2:f.stroke.width/2))/a._zoom,y:a.dateTimeGridPositionY},size:{width:0,height:a.totalMinuteLine*a.timeLineVertGap},stroke:{width:1,color:'#BBBBBB'}});a.qcBlockGroup.appendChild(h);h.draw()}})})};a.prototype.setDateTime=function(g,i){if(g){this.startDateTime=g}if(i){this.endDateTime=i}this.totalMinute=(this.endDateTime.getTime()-this.startDateTime.getTime())/1000/60;this.totalMinuteLine=this.totalMinute/this.timeGap;var h=this.startDateTime.getDate()-1;this.rectDateTime.ctx.clearRect(this.rectDateTime.position.x,this.rectDateTime.position.y,this.rectDateTime.size.width,this.rectDateTime.size.height);this.rectDateTime.removeAllChildren();this.rectDateTime.setSize({width:this.gridWidth,height:this.dateTimeGridPositionY+this.totalMinuteLine*this.timeLineVertGap});this.rectDateTime.draw();var m=new b.Path.Rect({position:{x:0,y:0},size:{width:this.gridWidth,height:this.dateTimeGridPositionY+this.totalMinuteLine*this.timeLineVertGap},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.rectDateTime.appendChild(m).draw();var l=new b.Path.Rect({position:{x:0,y:this.dateTimeGridPositionY},size:{width:this.gridWidth,height:this.totalMinuteLine*this.timeLineVertGap},fill:{isEnabled:!0,color:'#FFFFA0'},stroke:{width:1,color:'#000000'}});this.rectDateTime.appendChild(l).draw();var a=new Date(this.startDateTime.getTime());var j=-1;for(var f=0;f<this.totalMinuteLine;f++){var d={position:{x:this.gridWidth-this.timeLineWidth,y:this.dateTimeGridPositionY+this.timeLineVertGap*f},size:{width:this.timeLineWidth-1,height:0},stroke:{width:1,color:'#000000'}};if(f%10===0){d.position.x-=this.timeLineWidth;d.size.width+=this.timeLineWidth;d.stroke.width=2;if(f===0){d.stroke.width=0}var o=new b.Path.Text({size:undefined,position:{x:d.position.x-30,y:d.position.y+3},text:(j!==a.getDate()?'('+('0'+a.getDate()).slice(-2)+') ':'      ')+(('0'+a.getHours()).slice(-2)+':'+('0'+a.getMinutes()).slice(-2)),fill:{color:'#000000'},font:{size:6}});j=a.getDate();if(h!==a.getDate()){h=a.getDate()}this.rectDateTime.appendChild(o).draw()}a.setMinutes(a.getMinutes()+this.timeGap);var n=new b.Path.Line(d);this.rectDateTime.appendChild(n).draw()}};a.prototype.addAndDrawChartBerth=function(d){var a=this;this.berthLength=0;d.forEach(function(b){a.berthLength+=b.Length;var f={position:{x:b.X+a.gridWidth,y:b.Y},size:{width:b.Length,height:15},length:b.Length,berthName:b.Name};var g=new i.BerthItem4qc(f);a.qcBlockGroup.appendChild(g).draw()});var j=new b.Path.Rect({position:{x:this.gridWidth,y:15},size:{width:this.berthLength,height:18},fill:{isEnabled:!0,color:'#ffa2d8'}});this.qcBlockGroup.appendChild(j).draw();var h=new b.Path.Rect({position:{x:this.gridWidth,y:33},size:{width:this.berthLength,height:15},fill:{isEnabled:!0,color:'#FFFFA0'}});this.qcBlockGroup.appendChild(h).draw();var g=new b.Path.Rect({position:{x:this.gridWidth,y:0},size:{width:this.berthLength,height:48},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.qcBlockGroup.appendChild(g).draw();var f=new b.Path.Rect({position:{x:this.gridWidth,y:0},size:{width:this.berthLength,height:this.dateTimeGridPositionY},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.qcBlockGroup.appendChild(f).draw()};a.prototype.addAndDrawSchedule=function(b,p){this.rectDateTimeSchedule.ctx.clearRect(this.rectDateTimeSchedule.position.x,this.rectDateTimeSchedule.position.y,this.rectDateTimeSchedule.size.width,this.rectDateTimeSchedule.size.height);this.rectDateTimeSchedule.removeAllChildren();this.rectDateTimeSchedule.setPosition({x:this.gridWidth,y:this.dateTimeGridPositionY});this.rectDateTimeSchedule.setSize({width:this.berthLength,height:this.totalMinuteLine*this.timeLineVertGap});this.qcBlockGroup.appendChild(this.rectDateTimeSchedule).draw();for(var a=0;a<b.length;a++){var h=b[a].IsTwin?this.getHatchPosition(b[a].vslCd,b[a].callYear,b[a].CallSEQ,b[a].HatchIndex):this.getHatchBayPosition(b[a].vslCd,b[a].callYear,b[a].CallSEQ,b[a].BayIndex);if(h){var d=this.calculateDateTimeToYPos(new Date(b[a].StartTime));var f=this.calculateDateTimeToYPos(new Date(b[a].EndTime));if(f>d&&f>this.dateTimeGridPositionY){if(d<this.dateTimeGridPositionY){d=this.dateTimeGridPositionY}var s=new g.Component.Schedule(Object.assign({data:b[a],position:{x:h.x/this._zoom-this.gridWidth+1,y:d-this.dateTimeGridPositionY+1},size:{width:h.width/this._zoom-2,height:f-d-2},fill:{isEnabled:!0,color:'rgb('+b[a].BackColor+')'},stroke:{width:1,color:'rgb('+b[a].ForeColor+')'},isDrawContainerPlan:this.isDrawContainerPlan,stackInfo:undefined,timeGap:this.timeGap,timeLineVertGap:this.timeLineVertGap},p));this.rectDateTimeSchedule.appendChild(s);if(b[a].IsTwin){var j=this.findVesselByInfo(b[a].vslCd,b[a].callYear,b[a].CallSEQ);var t=j.data.vesselBays[b[a].BayIndex].no;var i=undefined;var n=j.findAllHatchRect();for(var l=0;l<n.length;l++){var q=n[l];var o=q.data.bayNos.indexOf(t);if(o>-1){i=q.data.bayNos[o===0?1:0]}}if(i){var m=j.hatchBayPositions[i];var r=new g.Component.Schedule(Object.assign({data:b[a],position:{x:m.x/this._zoom-this.gridWidth+1,y:d-this.dateTimeGridPositionY+1},size:{width:m.width/this._zoom-2,height:f-d-2},fill:{isEnabled:!0,color:'rgb('+b[a].BackColor+')'},stroke:{width:1,color:'rgb('+b[a].ForeColor+')'},isDrawContainerPlan:this.isDrawContainerPlan,stackInfo:undefined,timeGap:this.timeGap,timeLineVertGap:this.timeLineVertGap},p));this.rectDateTimeSchedule.appendChild(r)}}}}else {console.log(b[a].vslCd,b[a].callYear,b[a].callSEQ,b[a].BayIndex,b[a].startTime)}}this.draw();this.addAndDrawHatchLines()};a.prototype.calculateDateTimeToYPos=function(b){var a=(b.getTime()-this.startDateTime.getTime())/1000/60;return this.dateTimeGridPositionY+a/this.timeGap*this.timeLineVertGap};a.prototype.mouseMoveEvent=function(a){d.Renderer.prototype.mouseMoveEvent.call(this,a);var f=this.mousePosDiv.style;var b={x:Number(f.left.replace('px','')),y:Number(f.top.replace('px','')),width:Number(f.width.replace('px','')),height:Number(f.height.replace('px',''))};this.mousePosCtx.clearRect(0,0,b.width,b.height);if(this.isDrawCrossLine&&a.offsetX>this.gridWidth*this._zoom&&a.offsetY>this.dateTimeGridPositionY*this._zoom){this.mousePosCtx.setLineDash([2,2]);this.mousePosCtx.strokeStyle='#FF0000';var g=this.surface.getBoundingClientRect();this.mousePosCtx.beginPath();this.mousePosCtx.moveTo(this.gridWidth*this._zoom,a.offsetY);this.mousePosCtx.lineTo(b.width,a.offsetY);this.mousePosCtx.moveTo(a.offsetX,this.dateTimeGridPositionY*this._zoom);this.mousePosCtx.lineTo(a.offsetX,b.height);this.mousePosCtx.moveTo(0,0);this.mousePosCtx.closePath();this.mousePosCtx.stroke()}};e.QcWorkingRenderer=a},'./src/view/qcWorkingSideRenderer.ts':function(k,e,c){Object.defineProperty(e,'__esModule',{value:!0});e.QcWorkingSideRenderer=void 0;var d=c('./src/common/renderer.ts');var h=c('./src/common/baseDrawComponent.ts');var a=c('./src/path/index.ts');var g=c('./src/component/index.ts');var i=c('./src/component/berthItem4qc.ts');var j=c('./src/common/function.ts');var f=c('./src/component/berthVessel4side.ts');var b=function(f){var b;b=d.Renderer.call(this,f)||this;b.multiply=f.multiply||1;b.seaHeight=f.seaHeight||100;b.dateTimeGridPositionY=f.dateTimeGridPositionY||160;b.timeLineVertGap=f.timeLineVertGap||5;b.timeGap=f.timeGap||3;b.startDateTime=f.startDateTime||new Date();b.endDateTime=f.endDateTime||new Date();b.timeLineWidth=f.timeLineWidth||5;b.gridWidth=f.gridWidth||50;b.isDrawCrossLine=f.isDrawCrossLine||!1;b.isDrawContainerPlan=f.isDrawContainerPlan||!1;b.totalMinute=(b.endDateTime.getTime()-b.startDateTime.getTime())/1000/60;b.totalMinuteLine=b.totalMinute/b.timeGap;var i=b.surface.getBoundingClientRect();b.mousePosDiv=document.createElement('div');b.mousePosDiv.id=j.generateUUID();b.mousePosDiv.style.position='absolute';b.mousePosDiv.style.pointerEvents='none';b.mousePosDiv.style.width=b.surface.style.width;b.mousePosDiv.style.height=b.surface.style.height;if(b.surface.parentNode.className.indexOf('x-panel-body')>-1){b.mousePosDiv.style.left='0px';b.mousePosDiv.style.top='0px'}else {b.mousePosDiv.style.left=i.x+'px';b.mousePosDiv.style.top=i.y+'px'}b.mousePosDiv.style.zIndex=String(1000);b.surface.appendChild(b.mousePosDiv);var g=document.createElement('canvas');g.width=Number(b.mousePosDiv.style.width.replace('px',''));g.height=Number(b.mousePosDiv.style.height.replace('px',''));b.mousePosDiv.appendChild(g);b.mousePosCtx=g.getContext('2d');b.qcBlockGroup=new h.BaseDrawComponent({size:{width:1900,height:2000},stackInfo:{isEnabled:!1}});b.addDrawComponent(b.qcBlockGroup);b.rectDateTime=new a.Path.Rect({position:{x:0,y:0},size:{width:b.gridWidth,height:b.dateTimeGridPositionY},fill:{isEnabled:!0,color:'#FFFFFF'},stroke:{width:1,color:'#000000'}});b.qcBlockGroup.appendChild(b.rectDateTime);b.rectDateTimeSchedule=new a.Path.Rect({position:{x:b.gridWidth,y:b.dateTimeGridPositionY},size:{width:b.qcBlockGroup.size.width,height:b.totalMinuteLine*b.timeLineVertGap},fill:{isEnabled:!0,color:'#FFFFFF'},stroke:{width:1,color:'#000000'}});b.qcBlockGroup.appendChild(b.rectDateTimeSchedule);b.setDateTime();return b};$jscomp.inherits(b,d.Renderer);b.prototype.rightClickEvent=function(a){a.preventDefault();this.checkAndProcessClick(a,this)};b.prototype.checkAndProcessSelect=function(a){if(this.select.isEnabled&&this.dragInfo.dragging){this.selectedDiv.style.display='none';this.selectedList=[];this.searchSelectedObject(this.dragInfo.drawArea,a)}this.dragInfo.dragging=!1};b.prototype.checkAndProcessClick=function(b,a){this.searchClickedObject(b,a)};b.prototype.getHatchBayPosition=function(h,d,f,b){var a=this.findVesselByInfo(h,d,f);if(a){var g=a.data.vesselBays[b].no;return a.hatchBayPositions[g]}};b.prototype.getHatchPosition=function(h,f,g,d){var a=this.findVesselByInfo(h,f,g);if(a){var b=a.findAllHatchRect()[d];return {x:b.position.x,width:b.size.width}}};b.prototype.findVesselByInfo=function(h,d,g){for(var b=0;b<this.qcBlockGroup.children.length;b++){var a=this.qcBlockGroup.children[b];if(a instanceof f.BerthVessel4side){if(a.data.vslCd===h&&a.data.callYear===d&&a.data.callSeq===g){return a}}}return null};b.prototype.findAllVessel=function(){var b=[];for(var a=0;a<this.qcBlockGroup.children.length;a++){var d=this.qcBlockGroup.children[a];if(d instanceof f.BerthVessel4side){b.push(d)}}return b};b.prototype.addAndDrawHatchLines=function(){var b=this;var g;for(var d=this.qcBlockGroup.children.length-1;d>=0;d--){var f=this.qcBlockGroup.children[d];if(f instanceof a.Path.Line&&((g=f.data)===null||g===void 0?void 0:g.type.indexOf('HATCHLINE'))>-1){f.parent=undefined;this.qcBlockGroup.children.splice(d,1)}}this.findAllVessel().forEach(function(d){return d.findAllHatchRect().forEach(function(f){if(d.data.alongSide!==10){var g=new a.Path.Line({data:{type:'HATCHLINE1'},position:{x:(f.areaPointAndLines.points[0].x+(f.areaPointAndLines.points[0].x<f.areaPointAndLines.points[1].x?f.stroke.width/2:-f.stroke.width/2))/b._zoom,y:b.dateTimeGridPositionY},size:{width:0,height:b.totalMinuteLine*b.timeLineVertGap},stroke:{width:1,color:'#BBBBBB'}});b.qcBlockGroup.appendChild(g);g.draw();var h=new a.Path.Line({data:{type:'HATCHLINE2'},position:{x:(f.areaPointAndLines.points[1].x+(f.areaPointAndLines.points[0].x<f.areaPointAndLines.points[1].x?-f.stroke.width/2:f.stroke.width/2))/b._zoom,y:b.dateTimeGridPositionY},size:{width:0,height:b.totalMinuteLine*b.timeLineVertGap},stroke:{width:1,color:'#BBBBBB'}});b.qcBlockGroup.appendChild(h);h.draw()}})})};b.prototype.setDateTime=function(g,i){if(g){this.startDateTime=g}if(i){this.endDateTime=i}this.totalMinute=(this.endDateTime.getTime()-this.startDateTime.getTime())/1000/60;this.totalMinuteLine=this.totalMinute/this.timeGap;var h=this.startDateTime.getDate()-1;this.rectDateTime.ctx.clearRect(this.rectDateTime.position.x,this.rectDateTime.position.y,this.rectDateTime.size.width,this.rectDateTime.size.height);this.rectDateTime.removeAllChildren();this.rectDateTime.setSize({width:this.gridWidth,height:this.dateTimeGridPositionY+this.totalMinuteLine*this.timeLineVertGap});this.rectDateTime.draw();var o=new a.Path.Rect({position:{x:0,y:0},size:{width:this.gridWidth,height:this.dateTimeGridPositionY+this.totalMinuteLine*this.timeLineVertGap},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.rectDateTime.appendChild(o).draw();var p=new a.Path.Line({position:{x:0,y:0},size:{width:this.gridWidth,height:this.dateTimeGridPositionY},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});console.log(this.gridWidth);this.rectDateTime.appendChild(p).draw();var l=new a.Path.Text({position:{x:this.gridWidth-30,y:5},size:{width:this.gridWidth,height:this.dateTimeGridPositionY},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'},font:{size:8},text:'Vessel'});this.rectDateTime.appendChild(l).draw();var m=new a.Path.Text({position:{x:5,y:this.dateTimeGridPositionY-10},size:{width:this.gridWidth,height:this.dateTimeGridPositionY},fill:{isEnabled:!0,color:'#000000'},stroke:{width:1,color:'#000000'},font:{size:8},text:'Date'});this.rectDateTime.appendChild(m).draw();var n=new a.Path.Rect({position:{x:0,y:this.dateTimeGridPositionY},size:{width:this.gridWidth,height:this.totalMinuteLine*this.timeLineVertGap},fill:{isEnabled:!0,color:'#FFFFA0'},stroke:{width:1,color:'#000000'}});this.rectDateTime.appendChild(n).draw();var b=new Date(this.startDateTime.getTime());var j=-1;for(var f=0;f<this.totalMinuteLine;f++){var d={position:{x:this.gridWidth-this.timeLineWidth,y:this.dateTimeGridPositionY+this.timeLineVertGap*f},size:{width:this.timeLineWidth-1,height:0},stroke:{width:1,color:'#000000'}};if(f%10===0){d.position.x-=this.timeLineWidth;d.size.width+=this.timeLineWidth;d.stroke.width=2;if(f===0){d.stroke.width=0}var r=new a.Path.Text({size:undefined,position:{x:d.position.x-30,y:d.position.y+3},text:(j!==b.getDate()?'('+('0'+b.getDate()).slice(-2)+') ':'      ')+(('0'+b.getHours()).slice(-2)+':'+('0'+b.getMinutes()).slice(-2)),fill:{color:'#000000'},font:{size:6}});j=b.getDate();if(h!==b.getDate()){h=b.getDate()}this.rectDateTime.appendChild(r).draw()}b.setMinutes(b.getMinutes()+this.timeGap);var q=new a.Path.Line(d);this.rectDateTime.appendChild(q).draw()}};b.prototype.addAndDrawChartBerth=function(d){var b=this;this.berthLength=0;d.forEach(function(a){b.berthLength+=a.Length;var f={position:{x:a.X+b.gridWidth,y:a.Y},size:{width:a.Length,height:15},length:a.Length,berthName:a.Name};var g=new i.BerthItem4qc(f);b.qcBlockGroup.appendChild(g).draw()});var j=new a.Path.Rect({position:{x:this.gridWidth,y:15},size:{width:this.berthLength,height:18},fill:{isEnabled:!0,color:'#ffa2d8'}});this.qcBlockGroup.appendChild(j).draw();var h=new a.Path.Rect({position:{x:this.gridWidth,y:33},size:{width:this.berthLength,height:15},fill:{isEnabled:!0,color:'#FFFFA0'}});this.qcBlockGroup.appendChild(h).draw();var g=new a.Path.Rect({position:{x:this.gridWidth,y:0},size:{width:this.berthLength,height:48},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.qcBlockGroup.appendChild(g).draw();var f=new a.Path.Rect({position:{x:this.gridWidth,y:0},size:{width:this.berthLength,height:this.dateTimeGridPositionY},fill:{isEnabled:!1},stroke:{width:1,color:'#000000'}});this.qcBlockGroup.appendChild(f).draw()};b.prototype.addAndDrawSchedule=function(b,p){this.rectDateTimeSchedule.ctx.clearRect(this.rectDateTimeSchedule.position.x,this.rectDateTimeSchedule.position.y,this.rectDateTimeSchedule.size.width,this.rectDateTimeSchedule.size.height);this.rectDateTimeSchedule.removeAllChildren();this.rectDateTimeSchedule.setPosition({x:this.gridWidth,y:this.dateTimeGridPositionY});this.rectDateTimeSchedule.setSize({width:this.qcBlockGroup.size.width,height:this.totalMinuteLine*this.timeLineVertGap});this.rectDateTimeSchedule.draw();for(var a=0;a<b.length;a++){var h=b[a].IsStoppage?this.getHatchPosition(b[a].vslCd,b[a].callYear,b[a].CallSEQ,b[a].HatchIndex):this.getHatchBayPosition(b[a].vslCd,b[a].callYear,b[a].CallSEQ,b[a].BayIndex);if(h){var d=this.calculateDateTimeToYPos(new Date(b[a].StartTime));var f=this.calculateDateTimeToYPos(new Date(b[a].EndTime));if(f>d&&f>this.dateTimeGridPositionY){if(d<this.dateTimeGridPositionY){d=this.dateTimeGridPositionY}var s=new g.Component.Schedule(Object.assign({data:b[a],position:{x:h.x/this._zoom-this.gridWidth+1,y:d-this.dateTimeGridPositionY+1},size:{width:h.width/this._zoom-2,height:f-d-2},fill:{isEnabled:!0,color:'rgb('+b[a].BackColor+')'},stroke:{width:1,color:'rgb('+b[a].ForeColor+')'},isDrawContainerPlan:this.isDrawContainerPlan,stackInfo:undefined,timeGap:this.timeGap,timeLineVertGap:this.timeLineVertGap},p));this.rectDateTimeSchedule.appendChild(s);if(b[a].IsTwin){var j=this.findVesselByInfo(b[a].vslCd,b[a].callYear,b[a].CallSEQ);var t=j.data.vesselBays[b[a].BayIndex].no;var i=undefined;var n=j.findAllHatchRect();for(var l=0;l<n.length;l++){var q=n[l];var o=q.data.bayNos.indexOf(t);if(o>-1){i=q.data.bayNos[o===0?1:0]}}if(i){var m=j.hatchBayPositions[i];var r=new g.Component.Schedule(Object.assign({data:b[a],position:{x:m.x/this._zoom-this.gridWidth+1,y:d-this.dateTimeGridPositionY+1},size:{width:m.width/this._zoom-2,height:f-d-2},fill:{isEnabled:!0,color:'rgb('+b[a].BackColor+')'},stroke:{width:1,color:'rgb('+b[a].ForeColor+')'},isDrawContainerPlan:this.isDrawContainerPlan,stackInfo:undefined,timeGap:this.timeGap,timeLineVertGap:this.timeLineVertGap},p));this.rectDateTimeSchedule.appendChild(r)}}}}else {console.log(b[a].vslCd,b[a].callYear,b[a].CallSEQ,b[a].bayIndex,b[a].StartTime)}}this.draw();this.addAndDrawHatchLines()};b.prototype.calculateDateTimeToYPos=function(b){var a=(b.getTime()-this.startDateTime.getTime())/1000/60;return this.dateTimeGridPositionY+a/this.timeGap*this.timeLineVertGap};b.prototype.mouseMoveEvent=function(a){d.Renderer.prototype.mouseMoveEvent.call(this,a);var f=this.mousePosDiv.style;var b={x:Number(f.left.replace('px','')),y:Number(f.top.replace('px','')),width:Number(f.width.replace('px','')),height:Number(f.height.replace('px',''))};this.mousePosCtx.clearRect(0,0,b.width,b.height);if(this.isDrawCrossLine&&a.offsetX>this.gridWidth*this._zoom&&a.offsetY>this.dateTimeGridPositionY*this._zoom){this.mousePosCtx.setLineDash([2,2]);this.mousePosCtx.strokeStyle='#FF0000';var g=this.surface.getBoundingClientRect();this.mousePosCtx.beginPath();this.mousePosCtx.moveTo(this.gridWidth*this._zoom,a.offsetY);this.mousePosCtx.lineTo(b.width,a.offsetY);this.mousePosCtx.moveTo(a.offsetX,this.dateTimeGridPositionY*this._zoom);this.mousePosCtx.lineTo(a.offsetX,b.height);this.mousePosCtx.moveTo(0,0);this.mousePosCtx.closePath();this.mousePosCtx.stroke()}};e.QcWorkingSideRenderer=b},'./src/view/topViewRenderer.ts':function(j,e,d){Object.defineProperty(e,'__esModule',{value:!0});e.TopViewRenderer=void 0;var b=d('./src/common/type.ts');var i=d('./src/component/topBlock.ts');var h=d('./src/component/container.ts');var f=d('./src/common/renderer.ts');var g=d('./src/common/baseDrawComponent.ts');var c=d('./src/component/index.ts');var a=function(b){var a;var c,g;a=f.Renderer.call(this,b)||this;a.yardDefine=b.yardDefine;a.topBlockLayoutDescription=b.topBlockLayoutDescription;a.blockGap=((c=b.topBlockProps)===null||c===void 0?void 0:c.blockGap)===undefined?20:(g=b.topBlockProps)===null||g===void 0?void 0:g.blockGap;a.isSelectMode=b.isSelectMode;a.isFitToSize=b.isFitToSize;a.isFitToFill=b.isFitToFill;a.topBlockProps=Object.assign({},b.topBlockProps,{surface:a.surface,click:a.click,select:a.select,layout:a.topBlockLayoutDescription,size:{width:a.surface.clientWidth,height:a.surface.clientHeight},blockGap:a.blockGap,isFitToSize:a.isFitToSize,isFitToFill:a.isFitToFill,parent:a});a.topBlockProps.stackInfo.clientWidth=a.surface.clientWidth;a.topBlockProps.stackInfo.clientHeight=a.surface.clientHeight;if(!a.isSelectMode){a.clearTopBlock();a.addTopBlockList()}a.isMultiSelect=b.isMultiSelect;return a};$jscomp.inherits(a,f.Renderer);a.prototype.rightClickEvent=function(a){a.preventDefault();this.checkAndProcessClick(a,this)};a.prototype.checkAndProcessSelect=function(m){if(this.select.isEnabled&&this.dragInfo.dragging){this.selectedDiv.style.display='none';this.selectedList=[];this.searchSelectedObject(this.dragInfo.drawArea,m)}var h=!1;for(var g=0;g<this.selectedList.length;g++){var i=this.selectedList[g];if(i instanceof c.Component.Container){h=!0}}if(h){for(var a=this.selectedList.length-1;a>=0;a--){var k=this.selectedList[a];if(!(k instanceof c.Component.Container)){this.selectedList.splice(a,1)}}}else {for(var b=this.selectedList.length-1;b>=0;b--){var l=this.selectedList[b];if(!(l instanceof c.Component.Slot)){this.selectedList.splice(b,1)}}}if(this.selectedList.length>0){for(var f=0;f<this.selectedList.length;f++){this.selectedList[f].checkSelected()}this.draw()}this.dragInfo.dragging=!1};a.prototype.checkAndProcessClick=function(b,p){if(!this.isMultiSelect){this.clearSelectedCheckList(this)}if(this.click.isEnabled){this.clickedList=[];this.searchClickedObject(b,p);var l=!1;for(var i=0;i<this.clickedList.length;i++){var n=this.clickedList[i];if(n instanceof c.Component.Container){l=!0}}if(l){for(var g=this.clickedList.length-1;g>=0;g--){var o=this.clickedList[g];if(!(o instanceof c.Component.Container)){this.clickedList.splice(g,1)}}}else {for(var f=this.clickedList.length-1;f>=0;f--){var m=this.clickedList[f];if(!(m instanceof c.Component.Slot)){this.clickedList.splice(f,1)}}}if(this.clickedList.length>0){if(this.isMultiSelect){for(var h=0;h<this.clickedList.length;h++){var k=this.clickedList[h];k.select.type.circle=!1;k.checkSelected()}}else {var a=this.clickedList[this.clickedList.length-1];if(b.type==='mouseup'&&b.button===0){this.click.func(a);if(a instanceof c.Component.Container){a.select.type.circle=!0}else {a.select.type.circle=!1}a.checkSelected()}else {if(b.type==='contextmenu'||b.type==='mouseup'&&b.button===2){this.click.funcRight(a)}}}this.zoom(this._zoom)}}};a.prototype.generateTopBlock=function(){var a=this._zoom;this.clearTopBlock();this.addTopBlockList();this.draw();this.zoom(a)};a.prototype.clearTopBlock=function(){this.clearDrawComponent();this.topBlockGroup=new g.BaseDrawComponent(Object.assign({},this.topBlockProps,{isFitToSize:!1,isFitToTill:!1}));this.addDrawComponent(this.topBlockGroup)};a.prototype.addTopBlockList=function(){Object.keys(this.yardDefine).forEach(function(a){this.addTopBlock(a)}.bind(this))};a.prototype.addTopBlock=function(a){if(!this.topBlockGroup){this.clearTopBlock()}var c=Object.assign({},this.topBlockProps,{stackInfo:{isEnabled:!1},blockName:a,size:{width:this.yardDefine[a].maxBay*(this.topBlockProps.slotProps.size.width+this.topBlockProps.slotProps.slotGap)+this.blockGap*2,height:this.yardDefine[a].maxRow*(this.topBlockProps.slotProps.size.height+this.topBlockProps.slotProps.slotGap)+this.blockGap*2+15},blockItem:this.yardDefine[a],data:this.yardDefine[a]});var b=new i.TopBlock(c);b.id=a;b.parent=this.topBlockGroup;this.topBlockGroup.appendChild(b)};a.prototype.findTopBlock=function(a,b){return this.findTopBlockById(a+'-'+b)};a.prototype.findTopBlockById=function(c){for(var a=0;a<this.topBlockGroup.children.length;a++){var b=this.topBlockGroup.children[a];if(b.id===c){return b}}};a.prototype.findSlot=function(a,c,f){var b=this.findTopBlockById(a);return b.findSlotById(a+'-'+c+'-'+f)};a.prototype.addContainer=function(b,g,i,k){var c=this.findTopBlockById(b);if(!c){throw new Error('cannot find block')}var f=c.findSlotById(b+'-'+g+'-'+i);if(!f){throw new Error('cannot find slot')}var l=this.getContainerWidth(k);var a=new h.Container({textSizeMultiple:1,containerBayItem:k,size:{width:l-2,height:this.topBlockProps.slotProps.size.height-2},fill:{color:'#FFFFFF'},stackInfo:undefined,position:{x:f.originalPosition.x+1,y:f.originalPosition.y+1},click:this.click,select:this.select,isTopView:!0});a._zoom=this._zoom;a.id=b+'-'+g+'-'+i;c.appendChild(a);a.addAllPaths();this.searchApplyZoom(1/a.multipleResizeTo,a);return this.getContainer(b,g,i)};a.prototype.getSelectedContainer=function(){for(var b=0;b<this.topBlockGroup.children[0].children.length;b++){var a=this.topBlockGroup.children[0].children[b];if(a instanceof c.Component.Container){if(a.selected){return a}}}};a.prototype.findContainerById=function(b){var a=b.split('-');return this.getContainer(a[0],Number(a[1]),Number(a[2]))};a.prototype.getContainer=function(a,c,f){var b=this.findTopBlockById(a);return b.findContainerById(a+'-'+c+'-'+f)};a.prototype.removeContainerById=function(b){var a=b.split('-');this.removeContainer(a[0],Number(a[1]),Number(a[2]))};a.prototype.removeContainer=function(a,c,f){var b=this.findTopBlockById(a);b.removeContainer(a+'-'+c+'-'+f)};a.prototype.getContainerWidth=function(a){if(a.OccupiedSlotCount>b.YardConstant.MIN_OccupiedSlotCount){return this.getContainerWidth_NEW(a)}return this.getContainerWidth_OLD(a)};a.prototype.getContainerWidth_NEW=function(b){var a=b.OccupiedSlotCount;var c=this.topBlockProps.slotProps.size.width*a+this.topBlockProps.slotProps.slotGap*Number(a-1);return c};a.prototype.getContainerWidth_OLD=function(a){var c=this.topBlockProps.slotProps.size.height;var g=2;var f=a.sizeType.length===0?a.size:a.sizeType;if(f.length===0){f=b.YardConstant.CNTR_SIZE_20}switch(f.substring(0,1)){case b.YardConstant.CNTR_SIZE_20:c=this.topBlockProps.slotProps.size.width;break;case b.YardConstant.CNTR_SIZE_30:case b.YardConstant.CNTR_SIZE_40:c=this.topBlockProps.slotProps.size.width*2+this.topBlockProps.slotProps.slotGap;break;case b.YardConstant.CNTR_SIZE_45:case b.YardConstant.CNTR_SIZE_48:case b.YardConstant.CNTR_SIZE_L:case b.YardConstant.CNTR_SIZE_M:case b.YardConstant.CNTR_SIZE_P:if(a.xBay!=0&&a.xBay!=a.bay){if(a.xBay<a.bay){c=Math.round(this.topBlockProps.slotProps.size.width*2.25+this.topBlockProps.slotProps.slotGap*2)}else {c=Math.round(this.topBlockProps.slotProps.size.width*2.25+this.topBlockProps.slotProps.slotGap*2)}}else {c=this.topBlockProps.slotProps.size.width*g+this.topBlockProps.slotProps.slotGap*(g-1)};break;default:c=this.topBlockProps.slotProps.size.width;break;}return c};e.TopViewRenderer=a}})});